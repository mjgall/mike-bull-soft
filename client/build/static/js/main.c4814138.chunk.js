(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{322:function(e,t,a){e.exports=a(602)},601:function(e,t,a){},602:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"resetForm",function(){return _}),a.d(n,"fetchUser",function(){return A}),a.d(n,"fetchCourses",function(){return L}),a.d(n,"fetchAllCourses",function(){return M}),a.d(n,"fetchSymbols",function(){return D}),a.d(n,"textToSpeech",function(){return T}),a.d(n,"addCourse",function(){return I}),a.d(n,"getCourse",function(){return R}),a.d(n,"clearCourse",function(){return H}),a.d(n,"addSymbol",function(){return N}),a.d(n,"getSymbol",function(){return F}),a.d(n,"clearSymbol",function(){return B}),a.d(n,"switchMode",function(){return U}),a.d(n,"addSymbolImage",function(){return q}),a.d(n,"clearSymbolImages",function(){return G});var r=a(0),c=a.n(r),o=a(51),l=a.n(o),s=a(52),u=a(291),i=a(10),p=a(89),m=a(29),d=a(28),h={coursesTable:[],coursesTableStudent:[],course:{},symbolsTable:[],symbol:{},symbolImages:[],creatorMode:!1},f=Object(s.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER":return t.payload||!1;default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_COURSES":return Object(m.a)({},e,{coursesTable:t.payload})||!1;case"FETCH_ALL_COURSES":return Object(m.a)({},e,{coursesTableStudent:t.payload})||!1;case"ADD_COURSE":return Object(m.a)({},e,{coursesTable:[].concat(Object(p.a)(e.coursesTable),[t.payload])})||!1;case"GET_COURSE":case"CLEAR_COURSE":return Object(m.a)({},e,{course:t.payload})||!1;case"FETCH_SYMBOLS":return Object(m.a)({},e,{symbolsTable:t.payload})||!1;case"ADD_SYMBOL":return Object(m.a)({},e,{symbolsTable:[].concat(Object(p.a)(e.symbolsTable),[t.payload])})||!1;case"GET_SYMBOL":return Object(m.a)({},e,{symbol:t.payload})||!1;case"CLEAR_SYMBOL":return Object(m.a)({},e,{symbolsTable:[],symbol:{}})||!1;case"TOGGLE_MODE":return Object(m.a)({},e,{creatorMode:!e.creatorMode})||!1;case"ADD_SYMBOL_IMAGE":return Object(m.a)({},e,{symbolImages:[].concat(Object(p.a)(e.symbolImages),[t.payload])});case"CLEAR_SYMBOL_IMAGES":return Object(m.a)({},e,{symbolImages:[]});default:return e}},forms:Object(d.combineForms)({course:{language:"english",difficulty:"novice"},symbol:{}},"forms")}),b=a(8),E=a.n(b),y=a(22),g=a(11),v=a(12),O=a(14),w=a(13),j=a(15),C=a(612),S=a(90),k=a(42),x=a.n(k),_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){a(d.actions.change(e,t))}},A=function(){return function(){var e=Object(y.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/current_user");case 2:return a=e.sent,t({type:"FETCH_USER",payload:a.data}),e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},L=function(){return function(){var e=Object(y.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/courses");case 2:return a=e.sent,t({type:"FETCH_COURSES",payload:a.data}),e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},M=function(){return function(){var e=Object(y.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/allcourses");case 2:return a=e.sent,t({type:"FETCH_ALL_COURSES",payload:a.data}),e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},D=function(e){return function(){var t=Object(y.a)(E.a.mark(function t(a){var n;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("/api/symbols/".concat(e));case 2:return n=t.sent,a({type:"FETCH_SYMBOLS",payload:n.data}),t.abrupt("return",n.data);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},T=function(){return function(){var e=Object(y.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("/api/texttospeech",{text:"".concat(new Date(Date.now()).toString())});case 2:return a=e.sent,t({type:"TEXT_TO_SPEECH",payload:a.data}),e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(y.a)(E.a.mark(function t(a){var n;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.post("/api/courses",{title:e.title,language:e.language,description:e.description,difficulty:e.difficulty,owner_id:e.owner_id});case 2:return n=t.sent,a({type:"ADD_COURSE",payload:n.data}),t.abrupt("return",n.data);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},R=function(e){return function(){var t=Object(y.a)(E.a.mark(function t(a){var n;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.post("/api/course",{id:e});case 2:n=t.sent,a({type:"GET_COURSE",payload:n.data});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},H=function(){return function(){var e=Object(y.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_COURSE",payload:null});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(y.a)(E.a.mark(function t(a){var n;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.post("/api/symbols",{owner_id:e.owner_id,course_id:e.course_id,text:e.text,audio_url:e.audio_url,language:e.language,images:e.images});case 2:return n=t.sent,a({type:"ADD_SYMBOL",payload:n.data}),t.abrupt("return",n.data);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},F=function(e){return function(){var t=Object(y.a)(E.a.mark(function t(a){var n;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("/api/symbol/".concat(e));case 2:return n=t.sent,a({type:"GET_SYMBOL",payload:n.data}),t.abrupt("return",n.data);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},B=function(){return function(){var e=Object(y.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_SYMBOL",payload:null});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},U=function(){return{type:"TOGGLE_MODE",payload:null}},q=function(e){return{type:"ADD_SYMBOL_IMAGE",payload:e}},G=function(){return{type:"CLEAR_SYMBOL_IMAGES",payload:null}},V=function(e){function t(){return Object(g.a)(this,t),Object(O.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return c.a.createElement(C.a,{style:{width:"100%"}},c.a.createElement(C.a.Content,null,c.a.createElement(C.a.Header,null,this.props.auth?"".concat(this.props.auth.first_name," ").concat(this.props.auth.last_name):null)),c.a.createElement(C.a.Content,{extra:!0},c.a.createElement(S.a,{name:"book"}),this.props.app?this.props.app.coursesTable.length:null," Courses"))}}]),t}(c.a.Component),Y=Object(i.connect)(function(e){return{auth:e.auth,app:e.app}},n)(V),P=a(611),W=a(607),X=a(46),z=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).renderStudentTable=function(){return c.a.createElement(P.a,{celled:!0,singleLine:!0,sortable:!0},c.a.createElement(P.a.Header,null,c.a.createElement(P.a.Row,null,c.a.createElement(P.a.HeaderCell,null,"Course"),c.a.createElement(P.a.HeaderCell,null,"Owner"),c.a.createElement(P.a.HeaderCell,null,"Create Date"))),c.a.createElement(P.a.Body,null,a.props.app&&a.props.app.coursesTableStudent?a.props.app.coursesTableStudent.map(function(e,t){return c.a.createElement(P.a.Row,{key:t},c.a.createElement(P.a.Cell,null,c.a.createElement(X.a,{to:"/course/".concat(e.id)},e.title)),c.a.createElement(P.a.Cell,null,e.first_name," ",e.last_name),c.a.createElement(P.a.Cell,null,new Date(1e3*e.create_date).toLocaleString()))}):null))},a.renderCreatorTable=function(){return c.a.createElement(P.a,{celled:!0,singleLine:!0,sortable:!0},c.a.createElement(P.a.Header,null,c.a.createElement(P.a.Row,null,c.a.createElement(P.a.HeaderCell,null,"Course"),c.a.createElement(P.a.HeaderCell,null,"Owner"),c.a.createElement(P.a.HeaderCell,null,"Create Date"))),c.a.createElement(P.a.Body,null,a.props.app&&a.props.app.coursesTable?a.props.app.coursesTable.map(function(e,t){return c.a.createElement(P.a.Row,{key:t},c.a.createElement(P.a.Cell,null,c.a.createElement(X.a,{to:"/course/".concat(e.course_id)},e.title)),c.a.createElement(P.a.Cell,null,e.first_name," ",e.last_name),c.a.createElement(P.a.Cell,null,new Date(1e3*e.create_date).toLocaleString()))}):c.a.createElement(W.a,{active:!0})))},a}return Object(j.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchCourses(),this.props.fetchAllCourses()}},{key:"render",value:function(){return this.props.app.creatorMode?this.renderCreatorTable():this.renderStudentTable()}}]),t}(c.a.Component),J=Object(i.connect)(function(e){return{auth:e.auth,app:e.app}},n)(z),K=a(616),Q=function(e){function t(){return Object(g.a)(this,t),Object(O.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(K.a.Column,{width:4},c.a.createElement(Y,null)),c.a.createElement(K.a.Column,{width:12},c.a.createElement("h2",null,"Available Courses"),c.a.createElement(J,null)))}}]),t}(c.a.Component),Z=Object(i.connect)(function(e){return{auth:e.auth}},n)(Q),$=a(613),ee=a(608),te=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).switchMode=function(){a.props.switchMode()},a.renderMenu=function(){if(!a.props.auth)return c.a.createElement(c.a.Fragment,null,c.a.createElement($.a.Item,{header:!0},c.a.createElement(X.a,{to:"/home"},"LLT")),c.a.createElement($.a.Menu,{position:"right"},c.a.createElement($.a.Item,null,c.a.createElement("a",{href:"/auth/google"},"Log In"))));switch(a.props.app.creatorMode){case!0:return c.a.createElement(c.a.Fragment,null,c.a.createElement($.a.Item,{header:!0},c.a.createElement(X.a,{to:"/home"},"LLT")),c.a.createElement($.a.Menu,{position:"right"},c.a.createElement($.a.Item,null,c.a.createElement("div",{onClick:a.switchMode,style:{cursor:"pointer"}},"Go to Student Mode")),c.a.createElement($.a.Item,null,c.a.createElement("a",{href:"/api/logout"},"Log Out"))));default:return c.a.createElement(c.a.Fragment,null,c.a.createElement($.a.Item,{header:!0},c.a.createElement(X.a,{to:"/home"},"LLT")),c.a.createElement($.a.Menu,{position:"right"},c.a.createElement($.a.Item,null,c.a.createElement("div",{onClick:a.switchMode,style:{cursor:"pointer"}},"Go to Creator Mode")),c.a.createElement($.a.Item,null,c.a.createElement("a",{href:"/api/logout"},"Log Out"))))}},a}return Object(j.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return c.a.createElement($.a,{inverted:!0,fixed:"top",style:{boxShadow:"0 6px 6px 2px #ccc"}},c.a.createElement(ee.a,null,this.renderMenu()))}}]),t}(c.a.Component),ae=Object(i.connect)(function(e){return{auth:e.auth,app:e.app}},n)(te),ne=function(e){function t(){return Object(g.a)(this,t),Object(O.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return console.log(this.props.loggedIn),c.a.createElement("div",null,c.a.createElement(ae,null),c.a.createElement("div",null,c.a.createElement("h1",null,"Log in to continue")))}}]),t}(r.Component),re=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).addCourse=function(e){console.log(e),a.props.addCourse({title:e.title,language:e.language,description:e.description,difficulty:e.difficulty,owner_id:a.props.auth.google_id})},a}return Object(j.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement(d.Form,{validateOn:"submit",model:"forms.course",onSubmit:function(t){return e.addCourse(t)},className:"ui form"},c.a.createElement("div",{className:"three fields"},c.a.createElement("div",{className:"field"},c.a.createElement(d.Control.text,{model:"forms.course.title",placeholder:"Title",validators:{required:function(e){return e&&e.length}},validateOn:"change"}),c.a.createElement(d.Errors,{className:"error",model:"forms.course.title",show:{touched:!0,focus:!1},messages:{required:"Required"}})),c.a.createElement("div",{className:"field"},c.a.createElement(d.Control.select,{validators:{required:function(e){return e&&e.length}},model:"forms.course.language",className:"ui selection dropdown",placeholder:"Language"},c.a.createElement("option",{value:"english"},"English"),c.a.createElement("option",{value:"spanish"},"Spanish"),c.a.createElement("option",{value:"german"},"German")),c.a.createElement(d.Errors,{className:"error",model:"forms.course.language",show:!1,messages:{required:"Required"}})),c.a.createElement("div",{className:"field"},c.a.createElement(d.Control.select,{validators:{required:function(e){return e&&e.length}},model:"forms.course.difficulty",className:"ui selection dropdown",placeholder:"Difficulty"},c.a.createElement("option",{value:"novice"},"Novice"),c.a.createElement("option",{value:"intermediate"},"Intermediate"),c.a.createElement("option",{value:"advanced"},"Advanced")),c.a.createElement(d.Errors,{className:"error",model:"forms.course.difficulty",show:!1,messages:{required:"Required"}}))),c.a.createElement("div",{className:"field"},c.a.createElement(d.Control.textarea,{validators:{required:function(e){return e&&e.length}},validateOn:"change",model:"forms.course.description",placeholder:"Description"}),c.a.createElement(d.Errors,{className:"error",model:"forms.course.description",show:"touched",messages:{required:"Required"}})))}}]),t}(c.a.Component),ce=Object(i.connect)(function(e){return{auth:e.auth,app:e.app,forms:e.forms}},n)(re),oe=a(609),le=a(614),se=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.open=function(){a.setState({open:!0})},a.close=function(){a.props.resetForm("forms.course",{language:"english",difficulty:"novice"}),a.setState({open:!1})},a.submit=function(){console.log(a.props.forms.course),a.props.addCourse({title:a.props.forms.course.title,language:a.props.forms.course.language,description:a.props.forms.course.description,difficulty:a.props.forms.course.difficulty,owner_id:a.props.auth.google_id}),a.close()},a}return Object(j.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("click",function(t){t.target.className.indexOf("dimmer")>0&&e.close()})}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(K.a.Column,{width:4},c.a.createElement(Y,null)),c.a.createElement(K.a.Column,{width:12},c.a.createElement("h2",null,"My Created Courses"),c.a.createElement(oe.a,{trigger:c.a.createElement(le.a,{onClick:this.open,positive:!0},"Add A Course"),open:this.state.open},c.a.createElement(oe.a.Header,null,"Add a Course"),c.a.createElement(oe.a.Content,null,c.a.createElement(oe.a.Description,null,c.a.createElement(ce,null))),c.a.createElement(oe.a.Actions,null,c.a.createElement(le.a,{onClick:this.close,negative:!0},"Cancel"),c.a.createElement(le.a,{onClick:this.submit,positive:!0,labelPosition:"right",icon:"checkmark",content:"Add"}))),c.a.createElement(J,null)))}}]),t}(c.a.Component),ue=Object(i.connect)(function(e){return{auth:e.auth,app:e.app,forms:e.forms}},n)(se),ie=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).renderStudentOrCreator=function(){return a.props.app.creatorMode?c.a.createElement(ue,null):c.a.createElement(Z,null)},a}return Object(j.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return this.props.auth?this.renderStudentOrCreator():c.a.createElement(ne,null)}}]),t}(c.a.Component),pe=Object(i.connect)(function(e){return{auth:e.auth,app:e.app}},n)(ie),me=(0,a(41).createBrowserHistory)(),de=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).handleNav=function(e){me.push("/symbol/".concat(e))},a}return Object(j.a)(t,e),Object(v.a)(t,[{key:"renderStudentTable",value:function(){return c.a.createElement(P.a,{celled:!0,singleLine:!0,sortable:!0},c.a.createElement(P.a.Header,null,c.a.createElement(P.a.Row,null,c.a.createElement(P.a.HeaderCell,null,"ID"),c.a.createElement(P.a.HeaderCell,null,"Text"),c.a.createElement(P.a.HeaderCell,null,"Audio URL"),c.a.createElement(P.a.HeaderCell,null,"Create Date"))),c.a.createElement(P.a.Body,null,this.props.app&&this.props.app.symbolsTable?this.props.app.symbolsTable.map(function(e,t){return c.a.createElement(P.a.Row,{key:t},c.a.createElement(P.a.Cell,null,c.a.createElement(X.a,{to:"/symbol/".concat(e.id)},e.id)),c.a.createElement(P.a.Cell,null,e.text),c.a.createElement(P.a.Cell,null,c.a.createElement("audio",{src:e.audio_url,type:"audio/mpeg",controls:!0})),c.a.createElement(P.a.Cell,null,new Date(1e3*e.create_date).toLocaleString()))}):c.a.createElement(W.a,{active:!0})))}},{key:"renderCreatorTable",value:function(){var e=this;return c.a.createElement(P.a,{celled:!0,singleLine:!0,sortable:!0},c.a.createElement(P.a.Header,null,c.a.createElement(P.a.Row,null,c.a.createElement(P.a.HeaderCell,null,"ID"),c.a.createElement(P.a.HeaderCell,null,"Text"),c.a.createElement(P.a.HeaderCell,null,"Create Date"))),c.a.createElement(P.a.Body,null,this.props.symbols.map(function(t,a){return c.a.createElement(P.a.Row,{key:a,onClick:function(){return e.handleNav(t.id)}},c.a.createElement(P.a.Cell,null,t.id),c.a.createElement(P.a.Cell,null,t.text),c.a.createElement(P.a.Cell,null,new Date(1e3*t.create_date).toLocaleString()))})))}},{key:"render",value:function(){return this.props.app.creatorMode?this.renderCreatorTable():this.renderStudentTable()}}]),t}(c.a.Component),he=Object(i.connect)(function(e){return{auth:e.auth,app:e.app}},n)(de),fe=a(610),be=a(306);var Ee=function(e){return c.a.createElement(d.Form,Object.assign({},e,{className:"ui form"}))},ye=a(307),ge=window.fabric,ve=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={svg:"",brush:{color:"black",width:10},freeDraw:!1,images:[]},a.addRect=function(){var e=new ge.Rect({left:100,top:100,bottom:100,right:100,fill:"red",width:200,height:200});a.props.canvas.add(e)},a.logSVG=function(){ge.log(a.props.canvas.toSVG()),a.setState({svg:a.props.canvas.toSVG({suppressPreamble:!0})})},a.handleChange=function(){var e=Object(y.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState(Object(m.a)({},a.state,{brush:Object(m.a)({},a.state.brush,{color:t.hex})}));case 2:a.updateFreeDraw();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.freeDraw=Object(y.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState(Object(m.a)({},a.state,{brush:Object(m.a)({},a.state.brush),freeDraw:!a.state.freeDraw}));case 2:a.props.canvas.freeDrawingBrush.color=a.state.brush.color,a.props.canvas.freeDrawingBrush.width=parseInt(a.state.brush.width,10)||1,a.props.canvas.isDrawingMode=a.state.freeDraw;case 5:case"end":return e.stop()}},e)})),a.clear=function(){a.props.canvas.clear()},a.removeObject=function(){a.props.canvas.remove(a.props.canvas.getActiveObject())},a.updateFreeDraw=function(){a.props.canvas.freeDrawingBrush.color=a.state.brush.color,a.props.canvas.freeDrawingBrush.width=parseInt(a.state.brush.width,10)||10,a.props.canvas.isDrawingMode=!0},a.addImage=Object(y.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.canvas.toDataURL({format:"png"}),e.next=3,a.setState({images:[].concat(Object(p.a)(a.state.images),[t])});case 3:return e.next=5,a.props.addSymbolImage(t);case 5:a.clear();case 6:case"end":return e.stop()}},e)})),a.renderImages=function(){return c.a.createElement("div",null,a.props.app.symbolImages.map(function(e,t){return c.a.createElement("img",{width:"30%",src:e,key:t,alt:""})}))},a}return Object(j.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement(K.a,{stackable:!0},c.a.createElement(K.a.Row,null,c.a.createElement(K.a.Column,{width:6},c.a.createElement(Ee,{model:"forms.symbol",onSubmit:function(t){return e.addSymbol(t)},className:"ui form",validateOn:"submit"},c.a.createElement("div",{className:"fields",style:{width:"110%"}},c.a.createElement("div",{className:"field",style:{width:"100%"}},c.a.createElement(d.Control.text,{model:"forms.symbol.text",placeholder:"Symbol Text",validators:{required:function(e){return e&&e.length}},validateOn:"change"}),c.a.createElement(d.Errors,{className:"error",model:"forms.course.title",show:{touched:!0,focus:!1},messages:{required:"Required"}})))),c.a.createElement("canvas",{id:this.props.id,width:"300",height:"300",style:{border:"1px solid black"}})),c.a.createElement(K.a.Column,{width:5},c.a.createElement("div",null,c.a.createElement(fe.a,{trigger:c.a.createElement(le.a,{icon:!0,onClick:this.freeDraw},c.a.createElement(S.a,{name:"world"})),content:"Draw",position:"bottom center"}),c.a.createElement(fe.a,{trigger:c.a.createElement(le.a,{icon:!0,onClick:this.clear},c.a.createElement(S.a,{name:"remove"})),content:"Clear",position:"bottom center"}),c.a.createElement(fe.a,{trigger:c.a.createElement(le.a,{icon:!0,onClick:this.removeObject},c.a.createElement(S.a,{name:"minus square"})),content:"Remove Object",position:"bottom center"}),c.a.createElement(fe.a,{trigger:c.a.createElement(le.a,{icon:!0,onClick:this.addImage},c.a.createElement(S.a,{name:"plus square"})),content:"Add to Symbol",position:"bottom center"})),c.a.createElement(ye.SketchPicker,{width:"92%",color:this.state.brush.color,className:"colorpicker",onChangeComplete:this.handleChange}),c.a.createElement(be.Slider,{value:this.state.brush.width,color:"4A4A4A",settings:{min:0,max:100,step:1,onChange:function(t){e.setState({brush:Object(m.a)({},e.state.brush,{width:t})}),e.updateFreeDraw()}}})),c.a.createElement(K.a.Column,{width:5},c.a.createElement("div",null,this.renderImages()))))}}]),t}(c.a.Component),Oe=Object(i.connect)(function(e){return{auth:e.auth,app:e.app,forms:e.forms}},n)(ve),we=window.fabric,je=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).addSymbol=function(e){a.props.addSymbol({owner_id:a.props.auth.id,course_id:a.props.app.course.course_id,text:e.text,language:a.props.app.course.language})},a}return Object(j.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.canvas=new we.Canvas("canvas")}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(Oe,{id:"canvas",canvas:this.canvas}))}}]),t}(c.a.Component),Ce=Object(i.connect)(function(e){return{auth:e.auth,app:e.app,forms:e.forms}},n)(je),Se=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={modalOpen:a.props.modalOpen,isSubmitting:!1},a.clearSymbolImages=function(){a.props.clearSymbolImages()},a.close=function(){a.setState({modalOpen:!1}),a.props.resetForm("forms.symbol"),a.props.clearSymbolImages()},a.open=function(){a.setState({modalOpen:!0})},a.saveImages=function(e){e.forEach(function(e){var t={owner_id:a.props.auth.id,data:e};a.props.saveSymbolImage(t)})},a.submit=Object(y.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.form.text,a.setState({isSubmitting:!0}),e.next=4,a.props.addSymbol({owner_id:a.props.auth.id,course_id:a.props.courseId,text:t,language:a.props.courseLanguage,images:a.props.app.symbolImages});case 4:a.setState({isSubmitting:!1}),a.close(),a.updateParent();case 7:case"end":return e.stop()}},e)})),a}return Object(j.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=this;document.addEventListener("click",function(t){t.target.className.indexOf("dimmer")>0&&e.close()})}},{key:"updateParent",value:function(){this.props.toggleShowModalCallback()}},{key:"render",value:function(){return c.a.createElement(oe.a,{trigger:c.a.createElement(le.a,{onClick:this.open,positive:!0},"Add A Symbol"),onClose:this.props.clearSymbolImages,open:this.state.modalOpen},c.a.createElement(oe.a.Header,null,"Add a Symbol"),c.a.createElement(oe.a.Content,null,c.a.createElement(oe.a.Description,null,c.a.createElement(Ce,null))),c.a.createElement(oe.a.Actions,null,c.a.createElement(le.a,{onClick:this.close,negative:!0},"Cancel"),this.state.isSubmitting?c.a.createElement(le.a,{loading:!0,positive:!0},"Loading"):c.a.createElement(le.a,{onClick:this.submit,positive:!0,labelPosition:"right",icon:"checkmark",content:"Add"})))}}]),t}(c.a.Component),ke=Object(i.connect)(function(e){return{auth:e.auth,app:e.app,form:e.forms.symbol}},n)(Se),xe=function(){return c.a.createElement(W.a,{active:!0,size:"huge"},"Loading")},_e=function(){var e=Object(y.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("/api/course",{id:t});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(y.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/symbols/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Le=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={course:{},symbols:[],isLoaded:!1,showModal:!1,isFetching:!1},a.rerenderAfterSubmit=Object(y.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isFetching:!0}),e.next=3,Ae(a.props.courseId);case 3:t=e.sent,a.setState({symbols:t}),a.setState({isFetching:!1});case 6:case"end":return e.stop()}},e)})),a}return Object(j.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=Object(y.a)(E.a.mark(function e(){var t,a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(this.props.courseId);case 2:return t=e.sent,e.next=5,Ae(this.props.courseId);case 5:a=e.sent,this.setState({course:t}),this.setState({symbols:a}),this.setState({isLoaded:!0});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(K.a.Column,{width:4},c.a.createElement(Y,null)),c.a.createElement(K.a.Column,{width:12},this.state.isLoaded?c.a.createElement("div",null,c.a.createElement("h4",null,c.a.createElement(X.a,{to:"/home"},"Back to courses")),c.a.createElement("div",null,c.a.createElement("ul",null,c.a.createElement("li",{id:"title"},this.state.course.title),c.a.createElement("li",{id:"owner"},"".concat(this.state.course.first_name," ").concat(this.state.course.last_name)),c.a.createElement("li",{id:"id"},this.state.course.course_id),c.a.createElement("li",{id:"create-date"},new Date(1e3*this.state.course.create_date).toLocaleString())),c.a.createElement("div",null,this.state.course.description)),c.a.createElement("h2",null,"Symbols"),this.props.app.creatorMode?c.a.createElement(ke,{courseId:this.props.courseId,courseLanguage:this.state.course.language,toggleShowModalCallback:this.rerenderAfterSubmit,modalOpen:this.state.showModal}):null,c.a.createElement(he,{symbols:this.state.symbols})):c.a.createElement(xe,null)))}}]),t}(c.a.Component),Me=Object(i.connect)(function(e){return{auth:e.auth,app:e.app,form:e.forms.symbol}},n)(Le),De=function(e){function t(){return Object(g.a)(this,t),Object(O.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=Object(y.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getCourse(this.props.courseId);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement("div",null,"Student Course")}}]),t}(c.a.Component),Te=Object(i.connect)(function(e){return{auth:e.auth,app:e.app,form:e.forms.symbol}},n)(De),Ie=function(e){function t(){return Object(g.a)(this,t),Object(O.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return this.props.app.creatorMode?c.a.createElement(Me,{courseId:this.props.match.params.course}):c.a.createElement(Te,{courseId:this.props.match.params.course})}}]),t}(c.a.Component),Re=Object(i.connect)(function(e){return{auth:e.auth,app:e.app}},n)(Ie),He=function(e){function t(){return Object(g.a)(this,t),Object(O.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(v.a)(t,[{key:"componentWillUnmount",value:function(){this.props.clearSymbol()}},{key:"render",value:function(){return c.a.createElement("div",null,this.props.app.symbol.images?this.props.app.symbol.images.map(function(e,t){return c.a.createElement("img",{key:t,src:e.url,alt:"",className:"symbol-image"})}):null)}}]),t}(c.a.Component),Ne=Object(i.connect)(function(e){return{auth:e.auth,app:e.app}},n)(He),Fe=function(e){function t(){return Object(g.a)(this,t),Object(O.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.getSymbol(this.props.match.params.symbol)}},{key:"componentWillUnmount",value:function(){this.props.clearSymbol()}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(K.a.Column,{width:4,style:{overflow:"initial"}},c.a.createElement(Y,null)),this.props.app.symbol.symbol?c.a.createElement(K.a.Column,{width:12},c.a.createElement("ul",null,c.a.createElement("li",null,this.props.app.symbol.symbol?this.props.app.symbol.symbol.id:null),c.a.createElement("li",null,this.props.app.symbol.symbol?this.props.app.symbol.symbol.text:null),c.a.createElement("li",null,this.props.app.symbol.symbol?new Date(1e3*this.props.app.symbol.symbol.create_date).toLocaleString():null)),c.a.createElement(Ne,null)):c.a.createElement(xe,null))}}]),t}(c.a.Component),Be=Object(i.connect)(function(e){return{auth:e.auth,app:e.app}},n)(Fe),Ue=a(67),qe=(a(601),a(313)),Ge=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={editing:!1,fieldClicked:null,fieldValue:""},a.toggleView=function(e){e&&(a.setState({fieldValue:e.target.innerHTML}),a.setState({fieldClicked:e.target})),a.setState({editing:!a.state.editing})},a.renderViewing=function(){return a.props.children.map(function(e,t){return c.a.createElement("div",{key:t,onClick:a.toggleView},e)})},a.renderChildren=function(e){var t=a.props.children,n=a.state.fieldClicked;return c.a.createElement("form",{onSubmit:e.handleSubmit,className:"ui form"},function(t,n){var r=function(e){a.setState({fieldValue:e.target.value})};return t.map(function(t,o){return n.index===o?c.a.createElement("div",{className:"fields"},c.a.createElement("input",{type:"text",onChange:r,onBlur:e.handleBlur,name:t.props.id,placeholder:t.props.children,value:a.state.fieldValue}),c.a.createElement("button",{type:"submit",className:"ui button"},"Submit")):t})}(t,function(e,t){for(var a=0;a<e.length;a++)if(e[a].props.id===t)return{index:a,childElement:e[a]}}(t,n.id)),e.errors.name&&c.a.createElement("div",{id:"feedback"},e.errors.test))},a.renderEditing=function(){return c.a.createElement(qe.a,{onClick:a.toggleView,onSubmit:function(e,t){console.log(e),a.toggleView()}},function(e){return a.renderChildren(e)})},a}return Object(j.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return this.state.editing?this.renderEditing():this.renderViewing()}}]),t}(c.a.Component),Ve=function(e){function t(){return Object(g.a)(this,t),Object(O.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(Ge,null,c.a.createElement("p",{id:"0"},"Another zero"),c.a.createElement("p",{id:"1"},"Another one"),c.a.createElement("p",{id:"2"},"Another two"),c.a.createElement("p",{id:"3"},"Another three"),c.a.createElement("p",{id:"4"},"Another four")))}}]),t}(c.a.Component),Ye=a(202),Pe=a.n(Ye),We=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).protectRoutes=function(){return a.props.auth?c.a.createElement(Ue.c,null,c.a.createElement(Ue.a,{component:pe,path:"/home",exact:!0}),c.a.createElement(Ue.a,{component:Re,path:"/course/:course",exact:!0}),c.a.createElement(Ue.a,{component:Be,path:"/symbol/:symbol",exact:!0}),c.a.createElement(Ue.a,{component:Ve,path:"/drawing",exact:!0}),c.a.createElement(Ue.a,{component:pe,path:"/*",exact:!0})):c.a.createElement(Ue.c,null,c.a.createElement(Ue.a,{component:Ve,path:"/drawing",exact:!0}),c.a.createElement(Ue.a,{component:pe,path:"/*",exact:!0}))},a}return Object(j.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(y.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.fetchUser();case 2:t=e.sent,Object(Ye.FullStoryAPI)("identify",this.props.auth.id,{displayName:this.props.auth.first_name+" "+this.props.auth.last_name,email:this.props.auth.email}),console.log(t),this.props.fetchCourses(),this.props.fetchAllCourses();case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement(Ue.b,{history:me},c.a.createElement(Pe.a,{org:"H1N0D"}),c.a.createElement(ae,{history:me}),c.a.createElement(ee.a,null,c.a.createElement(K.a,{container:!0,columns:16,style:{paddingTop:"75px"},stackable:!0},this.protectRoutes())))}}]),t}(c.a.Component),Xe=Object(i.connect)(function(e){return{auth:e.auth,app:e.app}},n)(We),ze=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.compose,Je=Object(s.createStore)(f,ze(Object(s.applyMiddleware)(u.a)));l.a.render(c.a.createElement(i.Provider,{store:Je},c.a.createElement(Xe,null)),document.querySelector("#root"))}},[[322,1,2]]]);
//# sourceMappingURL=main.c4814138.chunk.js.map