{"version":3,"sources":["reducers/index.js","actions/index.js","history.js","components/ProfileCard.js","components/Menu.js","components/Loader.js","components/ConfirmDelete.js","components/CoursesTable.js","components/Student/StudentHome.js","utils/index.js","components/LessonsTableDnd.js","components/LessonsTable.js","components/SymbolsTable.js","components/Student/StudentCourse.js","components/Student/CompletedLesson.js","components/Student/StudentLesson.js","components/ImagesTable.js","components/Student/StudentSymbol.js","components/Student/Student.js","components/Form.js","components/Dropzone.js","components/FabricCanvas.js","components/SymbolForm.js","components/AddSymbolModal.js","components/CourseForm.js","components/Creator/EditCourseModal.js","components/LessonForm.js","components/Creator/AddLessonModal.js","components/Creator/CreatorCourse.js","components/Creator/AddCourseModal.js","components/Creator/CreatorHome.js","components/Creator/CreatorSymbol.js","components/Creator/CreatorLesson.js","components/Creator/Creator.js","components/LoginScreen.js","components/RegisterScreen.js","components/Roadmap.js","components/Profile.js","components/ForgotPassword.js","components/ResetPassword.js","components/Routes.js","components/App.js","index.js"],"names":["initialAppState","coursesTable","coursesTableStudent","course","lessons","symbolsTable","symbol","symbolImages","creatorMode","combineReducers","auth","state","action","type","payload","app","slice","index","startedCourses","forms","combineForms","language","difficulty","lesson","resetForm","model","initialState","dispatch","actions","change","fetchUser","a","async","axios","get","response","data","fetchCourses","fetchAllCourses","fetchSymbols","course_id","textToSpeech","post","text","Date","now","toString","addCourse","title","description","owner_id","getCourse","id","deleteCourse","delete","clearCourse","addSymbol","audio_url","images","getSymbol","fetchStartedCourses","userId","clearSymbol","switchMode","setCreatorMode","setStudentMode","addSymbolImage","imageData","clearSymbolImages","editCourse","put","createHistory","require","createBrowserHistory","ProfileCard","Card","style","width","Content","Header","this","props","first_name","last_name","to","extra","Icon","name","length","React","Component","connect","Menu","history","push","renderMobileMenu","Fragment","Item","header","position","onClick","cursor","href","renderMenu","device","fixed","boxShadow","vertical","Loader","active","size","top","left","ConfirmDelete","isOpen","handleClose","setState","handleOpen","componentDidMount","recordType","deleteFunction","recordId","undefined","Error","content","Button","color","Popup","open","onOpen","onClose","trigger","on","CoursesTable","handleNav","handleCreatorNav","renderStudentTable","Table","celled","singleLine","sortable","compact","Row","HeaderCell","Body","map","key","Cell","charAt","toUpperCase","substr","toLowerCase","create_date","toLocaleString","courseId","renderCreatorTable","basic","StudentHome","Grid","Column","renderLocation","match","url","fetchCourse","deleteSymbol","symbolId","success","error","addImageToSymbol","fetchLessons","fetchSymbolsByLessons","lessonId","addLesson","deleteLesson","startCourse","getStudentLesson","console","log","deleteUserAccount","getLogins","resetPassword","email","domain","submitNewPassword","token","password","currentPassword","checkToken","fetchChallengesByLesson","getLastCompletedChallenge","submitAnswer","challengeId","imageId","changeChallengeStatus","newStatus","reorder","list","startIndex","endIndex","result","Array","from","splice","removed","LessonsTableDnD","onDragEnd","destination","source","lessonOrder","utils","lessonsOrder","getItemStyle","isDragging","draggableStyle","background","display","borderRadius","prevProps","onDragStart","mode","droppableId","provided","snapshot","Ref","innerRef","droppableProps","isDragDisabled","draggableId","draggableProps","dragHandleProps","categories","symbols","location","placeholder","LessonsTable","SymbolsTable","StudentCourse","isLoaded","courseStarted","exists","sortLessons","sort","b","A","indexOf","B","parseInt","params","renderCourse","hasError","Segment","attached","className","toLocaleDateString","columns","window","host","target","rel","textDecoration","lessons_order","split","form","CompletedLesson","correct","incorrect","total","percent","loaded","render","justifyContent","alignItems","height","textAlign","padding","indexByProperty","array","attr","value","i","StudentLesson","courseid","lessonid","message","currentChallenge","indexOfCurrentChallenge","answerChecked","lessonComplete","correctChallenges","incorrectChallenges","student_lesson","challenges","filter","challenge","status","lastChallenge","lastCompletedChallenge","completed","prevChallenge","nextChallenge","SymbolProgress","margin","flexWrap","fontSize","currentChallengeIndex","setTimeout","ImagesContainer","image","alt","src","border","playAudio","audioPlayer","current","load","play","LessonControls","ref","createRef","ImagesTable","isHovering","hover","options","followCursor","shiftX","shiftY","Trigger","onMouseEnter","Hover","bottom","Symbol","Student","routes","exact","path","component","StudentSymbol","Form","Dropzone","files","onDrop","file","toFixed","getRootProps","getInputProps","children","fabric","FabricCanvas","svg","brush","freeDraw","addRect","rect","Rect","right","fill","canvas","add","logSVG","toSVG","suppressPreamble","handleChange","hex","updateFreeDraw","freeDrawingBrush","isDrawingMode","clear","removeObject","remove","getActiveObject","addImage","pngDataURL","toDataURL","format","renderImages","existingSymbolText","stackable","onSubmit","validateOn","validators","required","show","touched","focus","messages","icon","onChangeComplete","settings","min","max","step","onChange","SymbolForm","Canvas","AddSymbolModal","modalOpen","isSubmitting","alertMessage","alert","close","saveImages","arrayOfImages","forEach","imageObject","saveSymbolImage","submit","existingSymbol","formValue","courseLanguage","updateParent","document","addEventListener","e","toggleShowModalCallback","Modal","positive","Description","Actions","negative","loading","labelPosition","CourseForm","defaultValue","editing","select","disabled","textarea","EditCourseModal","LessonForm","selectedSymbols","handleSelect","event","Dropdown","fluid","multiple","selection","AddLessonModal","CreatorCourse","showModal","isFetching","rerenderAfterSubmit","owner","AddCourseModal","Creator","CreatorLesson","componentWillMount","controls","CreatorHome","CreatorSymbol","LoginScreen","handlePasswordChange","handleEmailChange","join","mobile","as","Message","Input","iconPosition","maxWidth","RegisterScreen","firstName","lastName","handleFirstNameChange","handleLastNameChange","Roadmap","tasks","headers","Authorization","List","task","text_content","Profile","logins","editingPassword","newPassword","confirmPassword","changePassword","submitPasswordChange","handleCurrentPasswordChange","handleNewPasswordChange","handleConfirmPasswordChange","deleteAccount","scrolling","login","timestamp","service_id","ForgotPassword","info","origin","ResetPassword","valid","user","Routes","ScrollToTop","pathname","scrollTo","ErrorBoundary","errorInfo","App","authLoaded","FullStoryAPI","displayName","org","Responsive","minWidth","Container","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","hostname","Sentry","dsn","ReactDOM","querySelector"],"mappings":"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","file":"static/js/main.e39d132c.chunk.js","sourcesContent":["import { combineReducers } from 'redux';\nimport { combineForms } from 'react-redux-form';\n\nconst initialAuthState = null;\n\nconst authReducer = (state = initialAuthState, action) => {\n  switch (action.type) {\n    case 'FETCH_USER':\n      return action.payload || false;\n    default:\n      return state;\n  }\n};\n\nconst initialAppState = {\n  coursesTable: [],\n  coursesTableStudent: [],\n  course: {},\n  lessons: [],\n  symbolsTable: [],\n  symbol: {},\n  symbolImages: [],\n  creatorMode: false\n};\n\nconst appReducer = (state = initialAppState, action) => {\n  switch (action.type) {\n    case 'FETCH_COURSES':\n      return { ...state, coursesTable: action.payload } || false;\n    case 'FETCH_ALL_COURSES':\n      return { ...state, coursesTableStudent: action.payload } || false;\n    case 'ADD_COURSE':\n      return (\n        { ...state, coursesTable: [...state.coursesTable, action.payload] } ||\n        false\n      );\n    case 'GET_COURSE':\n      return { ...state, course: action.payload } || false;\n    case 'DELETE_COURSE':\n      return { ...state, coursesTable:  [\n        ...state.coursesTable.slice(0, action.payload.index),\n        ...state.coursesTable.slice(action.payload.index + 1)\n    ]}\n    case 'CLEAR_COURSE':\n      return { ...state, course: action.payload } || false;\n    case 'FETCH_SYMBOLS':\n      return { ...state, symbolsTable: action.payload } || false;\n    case 'ADD_SYMBOL':\n      return (\n        { ...state, symbolsTable: [...state.symbolsTable, action.payload] } ||\n        false\n      );\n    case 'GET_SYMBOL':\n      return { ...state, symbol: action.payload } || false;\n    case 'CLEAR_SYMBOL':\n      return { ...state, symbolsTable: [], symbol: {} } || false;\n    case 'TOGGLE_MODE':\n      return (\n        { ...state, creatorMode: state.creatorMode ? false : true } || false\n      );\n    case 'ADD_SYMBOL_IMAGE':\n      return {\n        ...state,\n        symbolImages: [...state.symbolImages, action.payload]\n      };\n    case 'CLEAR_SYMBOL_IMAGES':\n      return { ...state, symbolImages: [] };\n    case 'SET_STUDENT_MODE':\n      return { ...state, creatorMode: false };\n    case 'SET_CREATOR_MODE':\n      return { ...state, creatorMode: true };\n    case 'GET_STARTED_COURSES':\n      return {...state, startedCourses: action.payload}\n    default:\n      return state;\n  }\n};\n\nexport default combineReducers({\n  auth: authReducer,\n  app: appReducer,\n  forms: combineForms(\n    { course: { language: 'english', difficulty: 'novice' }, symbol: {}, lesson: {} },\n    'forms'\n  )\n});\n","import axios from 'axios';\nimport {actions} from 'react-redux-form'\n\n\nexport const resetForm = (model, initialState = {}) => dispatch => {\n  dispatch(actions.change(model, initialState))\n}\n\n//FETCH USER - CALLED IN HOME COMPONENT TO GET CURRENT USER ACROSS APP\nexport const fetchUser = () => async dispatch => {\n  const response = await axios.get('/api/current_user');\n  dispatch({\n    type: 'FETCH_USER',\n    payload: response.data\n  });\n  return response.data;\n};\n\nexport const fetchCourses = () => async dispatch => {\n  const response = await axios.get('/api/courses');\n  dispatch({\n    type: 'FETCH_COURSES',\n    payload: response.data\n  });\n  return response.data;\n};\n\nexport const fetchAllCourses = () => async dispatch => {\n  const response = await axios.get('/api/allcourses');\n  dispatch({\n    type: 'FETCH_ALL_COURSES',\n    payload: response.data\n  });\n  return response.data;\n};\n\nexport const fetchSymbols = course_id => async dispatch => {\n  const response = await axios.get(`/api/symbols/${course_id}`);\n\n  dispatch({\n    type: 'FETCH_SYMBOLS',\n    payload: response.data\n  });\n  return response.data;\n};\n\nexport const textToSpeech = () => async dispatch => {\n  const response = await axios.post('/api/texttospeech', {\n    text: `${new Date(Date.now()).toString()}`,\n  });\n  dispatch({\n    type: 'TEXT_TO_SPEECH',\n    payload: response.data\n  });\n  return response.data;\n};\n\nexport const addCourse = course => async dispatch => {\n  const response = await axios.post('/api/courses', {\n    title: course.title,\n    language: course.language,\n    description: course.description,\n    difficulty: course.difficulty,\n    owner_id: course.owner_id\n  });\n\n  dispatch({\n    type: 'ADD_COURSE',\n    payload: response.data\n  });\n  return response.data;\n};\n\nexport const getCourse = id => async dispatch => {\n  const response = await axios.post('/api/course', {\n    id: id\n  });\n  dispatch({\n    type: 'GET_COURSE',\n    payload: response.data\n  });\n  // return response.data;\n};\n\nexport const deleteCourse = (id, index) => async dispatch => {\n  const response = await axios.delete(`/api/course/${id}`);\n  dispatch({\n    type: 'DELETE_COURSE',\n    payload: {...response.data, id, index}\n  });\n  return response.data;\n};\n\nexport const clearCourse = () => async dispatch => {\n  dispatch({\n    type: 'CLEAR_COURSE',\n    payload: null\n  });\n};\n\nexport const addSymbol = symbol => async dispatch => {\n\n  const response = await axios.post('/api/symbols', {\n    owner_id: symbol.owner_id,\n    course_id: symbol.course_id,\n    text: symbol.text,\n    audio_url: symbol.audio_url,\n    language: symbol.language,\n    images: symbol.images\n  });\n  dispatch({\n    type: 'ADD_SYMBOL',\n    payload: response.data\n  });\n  return response.data;\n};\n\nexport const getSymbol = id => async dispatch => {\n  const response = await axios.get(`/api/symbol/${id}`);\n  dispatch({\n    type: 'GET_SYMBOL',\n    payload: response.data\n  });\n  return response.data;\n};\n\nexport const fetchStartedCourses = userId => async dispatch => {\n\n  const response = await axios.get(`/api/users_courses/${userId}`);\n  dispatch({\n    type: 'GET_STARTED_COURSES',\n    payload: response.data.response\n  });\n  return response.data.response;\n};\n\nexport const clearSymbol = () => async dispatch => {\n  dispatch({\n    type: 'CLEAR_SYMBOL',\n    payload: null\n  });\n};\n\nexport const switchMode = () => {\n  return {\n    type: 'TOGGLE_MODE',\n    payload: null\n  };\n};\n\nexport const setCreatorMode = () => {\n  return {\n    type: 'SET_CREATOR_MODE',\n    payload: null\n  }\n}\n\nexport const setStudentMode = () => {\n  return {\n    type: 'SET_STUDENT_MODE',\n    payload: null\n  }\n}\n\nexport const addSymbolImage = (imageData) => {\n return {\n   type: 'ADD_SYMBOL_IMAGE',\n   payload: imageData\n }\n}\n\nexport const clearSymbolImages = () => {\n  return {\n    type: 'CLEAR_SYMBOL_IMAGES',\n    payload: null\n  }\n}\n\nexport const editCourse = course => async dispatch => {\n  const response = await axios.put('/api/course', course);\n  dispatch({\n    type: 'EDIT_COURSE',\n    payload: response.data\n  })\n}\n","const createHistory = require(\"history\").createBrowserHistory;\n\nexport default createHistory();","import React from 'react';\nimport { Card, Icon} from 'semantic-ui-react';\nimport {Link} from 'react-router-dom'\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\n\nclass ProfileCard extends React.Component {\n  render() {\n    return (\n      <Card style={{ width: '100%' }}>\n        <Card.Content>\n          <Card.Header>\n            {this.props.auth\n              ? `${this.props.auth.first_name} ${this.props.auth.last_name}`\n              : null}\n          </Card.Header>\n   \n          <Link to=\"/profile\">View Profile</Link>\n        \n        </Card.Content>\n        <Card.Content extra>\n          <Icon name=\"book\" />\n          {this.props.app ? this.props.app.coursesTable.length : null} Courses\n        </Card.Content>\n        \n      </Card>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    app: state.app\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  actions\n)(ProfileCard);\n","import React from 'react';\nimport { Menu as SemanticMenu} from 'semantic-ui-react';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\nimport { Link } from 'react-router-dom';\nimport ProfileCard from './ProfileCard';\n\nclass Menu extends React.Component {\n  switchMode = () => {\n    this.props.switchMode();\n    if (this.props.app.creatorMode) {\n      this.props.history.push('/student');\n    } else {\n      this.props.history.push('/creator');\n    }\n  };\n\n  renderMobileMenu = () => {\n    if (this.props.auth) {\n      switch (this.props.app.creatorMode) {\n        case true:\n          return (\n            <React.Fragment>\n              <SemanticMenu.Item header>\n                <Link to=\"/home\">LLT</Link>\n              </SemanticMenu.Item>\n              <SemanticMenu.Menu position=\"right\">\n                <SemanticMenu.Item\n                  onClick={this.switchMode}\n                  style={{ cursor: 'pointer' }}>\n                  <div>Go to Student Mode</div>\n                </SemanticMenu.Item>\n                <SemanticMenu.Item>\n                  <a href=\"/api/logout\">Log Out</a>\n                </SemanticMenu.Item>\n              </SemanticMenu.Menu>\n            </React.Fragment>\n          );\n\n        default:\n          return (\n            <React.Fragment>\n              <SemanticMenu.Item header>\n                <Link to=\"/home\">LLT</Link>\n              </SemanticMenu.Item>\n            \n              <SemanticMenu.Menu position=\"right\">\n                <SemanticMenu.Item\n                  onClick={this.switchMode}\n                  style={{ cursor: 'pointer' }}>\n                  <div>Go to Creator Mode</div>\n                </SemanticMenu.Item>\n\n                <SemanticMenu.Item>\n                  <a href=\"/api/logout\">Log Out</a>\n                </SemanticMenu.Item>\n              </SemanticMenu.Menu>\n            </React.Fragment>\n          );\n      }\n    } else {\n      return (\n        <React.Fragment>\n          <SemanticMenu.Item header>\n            <Link to=\"/home\">LLT</Link>\n          </SemanticMenu.Item>\n          <SemanticMenu.Menu position=\"right\">\n            <SemanticMenu.Item>\n              <Link to=\"/login\">Log In</Link>\n            </SemanticMenu.Item>\n          </SemanticMenu.Menu>\n        </React.Fragment>\n      );\n    }\n  };\n\n  renderMenu = () => {\n    if (this.props.auth) {\n      switch (this.props.app.creatorMode) {\n        case true:\n          return (\n            <React.Fragment>\n              <SemanticMenu.Item header>\n                <Link to=\"/home\">LLT</Link>\n              </SemanticMenu.Item>\n              <SemanticMenu.Item>\n                <ProfileCard></ProfileCard>\n              </SemanticMenu.Item>\n              <SemanticMenu.Menu position=\"right\">\n                <SemanticMenu.Item\n                  onClick={this.switchMode}\n                  style={{ cursor: 'pointer' }}>\n                  <div>Go to Student Mode</div>\n                </SemanticMenu.Item>\n                <SemanticMenu.Item>\n                  <a href=\"/api/logout\">Log Out</a>\n                </SemanticMenu.Item>\n              </SemanticMenu.Menu>\n            </React.Fragment>\n          );\n\n        default:\n          return (\n            <React.Fragment>\n              <SemanticMenu.Item header>\n                <Link to=\"/home\">LLT</Link>\n              </SemanticMenu.Item>\n              <SemanticMenu.Item>\n                <ProfileCard></ProfileCard>\n              </SemanticMenu.Item>\n              <SemanticMenu.Menu position=\"right\">\n                <SemanticMenu.Item\n                  onClick={this.switchMode}\n                  style={{ cursor: 'pointer' }}>\n                  <div>Go to Creator Mode</div>\n                </SemanticMenu.Item>\n\n                <SemanticMenu.Item>\n                  <a href=\"/api/logout\">Log Out</a>\n                </SemanticMenu.Item>\n              </SemanticMenu.Menu>\n            </React.Fragment>\n          );\n      }\n    } else {\n      return (\n        <React.Fragment>\n          <SemanticMenu.Item header>\n            <Link to=\"/home\">LLT</Link>\n          </SemanticMenu.Item>\n          <SemanticMenu.Menu position=\"right\">\n            <SemanticMenu.Item>\n              <Link to=\"/login\">Log In</Link>\n            </SemanticMenu.Item>\n          </SemanticMenu.Menu>\n        </React.Fragment>\n      );\n    }\n  };\n\n  render() {\n    if (this.props.device === 'mobile') {\n      return (\n        <SemanticMenu\n        fixed=\"top\"\n        style={{ boxShadow: '0 6px 6px 2px #ccc' }}>\n        {this.renderMobileMenu()}\n\n      </SemanticMenu>\n      )\n    } else {\n      return (\n        <SemanticMenu\n          // inverted\n          vertical\n          fixed={'left'}\n          style={{ boxShadow: '0 6px 6px 2px #ccc' }}>\n  \n          {this.renderMenu()}\n  \n        </SemanticMenu>\n      );\n    }\n    \n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    app: state.app\n  };\n};\n\nexport default connect(mapStateToProps, actions)(Menu);\n","import { Loader as SUILoader } from 'semantic-ui-react';\nimport React from 'react';\n\nconst Loader = () => {\n  return (\n    <SUILoader\n      active\n      size=\"huge\"\n      style={{ position: 'fixed', top: '50%', left: '60%' }}>\n      Loading\n    </SUILoader>\n  );\n};\n\nexport default Loader;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\nimport { Button, Popup } from 'semantic-ui-react';\n\nclass ConfirmDelete extends React.Component {\n  state = { isOpen: false };\n\n  handleClose = () => {\n    this.setState({ isOpen: false });\n  };\n\n  handleOpen = () => {\n    this.setState({ isOpen: true });\n  };\n\n  componentDidMount = () => {\n    if (\n      !this.props.recordType ||\n      !this.props.deleteFunction ||\n      !this.props.recordId ||\n      this.props.index === undefined\n    ) {\n      throw Error('Missing a required prop');\n    }\n  };\n\n  content = () => {\n    const { recordId, index, recordType, deleteFunction } = this.props;\n    return (\n      <div>\n        <p>Are you sure you want to permanently delete this {recordType}?</p>\n        <Button\n          color=\"red\"\n          content=\"Delete\"\n          size=\"tiny\"\n          onClick={() => deleteFunction(recordId, index, this.props.auth.id)}\n        />\n        <Button\n          color=\"grey\"\n          content=\"Cancel\"\n          size=\"tiny\"\n          onClick={this.handleClose}\n        />\n      </div>\n    );\n  };\n\n  render() {\n    return (\n      <Popup\n        open={this.state.isOpen}\n        onOpen={this.handleOpen}\n        onClose={this.handleClose}\n        content={this.content}\n        trigger={this.props.trigger}\n        on=\"click\"></Popup>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    app: state.app\n  };\n};\n\nexport default connect(mapStateToProps, actions)(ConfirmDelete);\n","import React from 'react';\nimport { Table, Loader, Icon } from 'semantic-ui-react';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\nimport history from '../history';\nimport ConfirmDelete from './ConfirmDelete';\n\nclass CoursesTable extends React.Component {\n  componentWillMount() {\n    this.props.fetchCourses();\n    this.props.fetchAllCourses();\n  }\n\n  handleNav = id => {\n    history.push(`student/course/${id}`);\n  };\n  handleCreatorNav = id => {\n    history.push(`/creator/course/${id}`);\n  };\n\n  renderStudentTable = () => {\n    return (\n      <Table celled singleLine sortable compact>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>Course</Table.HeaderCell>\n            <Table.HeaderCell>Owner</Table.HeaderCell>\n            <Table.HeaderCell>Language</Table.HeaderCell>\n            <Table.HeaderCell>Create Date</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {this.props.app && this.props.app.coursesTableStudent\n            ? this.props.app.coursesTableStudent.map((course, index) => {\n                return (\n                  <Table.Row\n                    key={index}\n                    onClick={() => this.handleNav(course.id)}>\n                    <Table.Cell>{course.title}</Table.Cell>\n                    <Table.Cell>\n                      {course.first_name} {course.last_name}\n                    </Table.Cell>\n                    <Table.Cell>\n                      {course.language.charAt(0).toUpperCase() +\n                        course.language.substr(1).toLowerCase()}\n                    </Table.Cell>\n                    <Table.Cell>\n                      {new Date(course.create_date * 1000).toLocaleString()}\n                    </Table.Cell>\n                  </Table.Row>\n                );\n              })\n            : null}\n        </Table.Body>\n      </Table>\n    );\n  };\n\n  deleteCourse = async (courseId, index, userId) => {\n    return await this.props.deleteCourse(courseId, index, userId);\n  };\n\n  renderCreatorTable = () => {\n    return (\n      <Table celled singleLine sortable compact basic>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>Course</Table.HeaderCell>\n            <Table.HeaderCell>Owner</Table.HeaderCell>\n            <Table.HeaderCell>Create Date</Table.HeaderCell>\n            <Table.HeaderCell>Delete</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {this.props.app && this.props.app.coursesTable ? (\n            this.props.app.coursesTable.map((course, index) => {\n              return (\n                <Table.Row key={index}>\n                  <Table.Cell\n                    onClick={() => this.handleCreatorNav(course.course_id)}>\n                    {course.title}\n                  </Table.Cell>\n                  <Table.Cell\n                    onClick={() => this.handleCreatorNav(course.course_id)}>\n                    {course.first_name} {course.last_name}\n                  </Table.Cell>\n                  <Table.Cell\n                    onClick={() => this.handleCreatorNav(course.course_id)}>\n                    {new Date(course.create_date * 1000).toLocaleString()}\n                  </Table.Cell>\n\n                  <ConfirmDelete\n                    trigger={\n                      <Table.Cell>\n                        <Icon name=\"delete\" style={{ color: 'red' }}></Icon>\n                      </Table.Cell>\n                    }\n                    on=\"click\"\n                    position=\"top center\"\n                    recordId={course.course_id}\n                    index={index}\n                    recordType=\"course\"\n                    deleteFunction={this.deleteCourse}\n                  />\n                </Table.Row>\n              );\n            })\n          ) : (\n            <Loader active />\n          )}\n        </Table.Body>\n      </Table>\n    );\n  };\n\n  render() {\n    if (this.props.app.creatorMode) {\n      return this.renderCreatorTable();\n    } else {\n      return this.renderStudentTable();\n    }\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    app: state.app\n  };\n};\n\nexport default connect(mapStateToProps, actions)(CoursesTable);\n","import React from 'react';\n\nimport CoursesTable from '../CoursesTable';\n\nimport { Grid } from 'semantic-ui-react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions';\n\nclass StudentHome extends React.Component {\n  componentDidMount() {\n    this.props.setStudentMode();\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <Grid.Column width={16}>\n          <h2>Available Courses</h2>\n          <CoursesTable renderLocation={this.props.match.url}/>\n        </Grid.Column>\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return { auth: state.auth };\n};\n\nexport default connect(\n  mapStateToProps,\n  actions\n)(StudentHome);\n","import axios from 'axios';\n\nexport const fetchCourse = async (id, userId) => {\n  const response = await axios.post('/api/course', {\n    id: id,\n    userId: userId\n  });\n  return response.data;\n};\n\nexport const fetchLesson = async id => {\n  const response = await axios.get(`/api/lesson/${id}`);\n  return response.data;\n};\n\nexport const fetchSymbols = async id => {\n  const response = await axios.get(`/api/symbols/${id}`);\n  return response.data;\n};\n\nexport const deleteSymbol = async symbolId => {\n  // const response = await axios.delete(`/api/symbols/${symbolId}`);\n  const response = {\n    data: {\n      success: true,\n      error: false\n    }\n  };\n  return response.data;\n};\n\nexport const addImageToSymbol = async (symbolId, images, userId) => {\n  const response = await axios.post(`/api/symbols/images`, { symbolId, images, userId })\n  return response.data\n}\n\nexport const fetchLessons = async course_id => {\n  const response = await axios.get(`/api/lessons/${course_id}`);\n  return response.data;\n};\n\nexport const fetchSymbolsByLessons = async lessonId => {\n  const response = await axios.get(`/api/symbolsbylesson/${lessonId}`);\n  return response.data;\n};\n\nexport const editCourse = async course => {\n  const response = await axios.put('/api/course', course);\n  return response.data;\n};\n\nexport const addLesson = async lesson => {\n  const response = await axios.post('/api/lessons', { lesson });\n  return response.data;\n};\n\nexport const deleteLesson = async lessonId => {\n  const response = await axios.delete(`/api/lessons/${lessonId}`);\n  return response.data;\n};\n\nexport const startCourse = async (userId, courseId) => {\n  const response = await axios.post(`/api/users_courses`, { userId, courseId });\n  return response.data;\n};\n\nexport const getStudentLesson = async (lessonId, userId) => {\n  const response = await axios.get(`/api/lessons/${lessonId}/users/${userId}`);\n  console.log(response);\n  return response.data;\n};\n\n//this shouldn't be called anywhere\n\n// export const fetchRandomImages = async count => {\n//   const response = await axios.get(`/api/randomImages/${count}`);\n//   return response.data;\n// };\n\n// export const fetchImages = async count => {\n//   const response = await axios.get(`/api/phase/images`);\n//   return response.data;\n// };\n\nexport const createChallenge = async (lessonId, symbolId) => {\n  try {\n    const response = await axios.post(`/api/challenges`, {\n      lessonId,\n      symbolId\n    });\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const deleteUserAccount = async userId => {\n  try {\n    const response = await axios.delete(`/api/users/${userId}`);\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getLogins = async userId => {\n  try {\n    const response = await axios.get(`/api/logins/${userId}`);\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const resetPassword = async (email, domain) => {\n  try {\n    const response = await axios.post('/auth/reset', { email, domain });\n    return response.data;\n  } catch (error) {\n    console.log(error);\n    throw new Error(error);\n  }\n};\n\nexport const submitNewPassword = async (\n  token,\n  password,\n  userId,\n  currentPassword\n) => {\n  try {\n    if (token) {\n      const response = await axios.post('/auth/resetpassword', {\n        token,\n        password,\n        userId\n      });\n      return response.data;\n    } else if (currentPassword) {\n      const response = await axios.post('/auth/resetpassword', {\n        currentPassword,\n        password,\n        userId\n      });\n      return response.data;\n    }\n  } catch (error) {\n    console.log(error);\n    throw new Error(error);\n  }\n};\n\nexport const checkToken = async token => {\n  try {\n    const response = await axios.post('/auth/checktoken', { token });\n    return response.data;\n  } catch (error) {\n    console.log(error);\n    throw new Error(error);\n  }\n};\n\nexport const fetchChallengesByLesson = async (lessonId, userId) => {\n  try {\n    const response = await axios.get(\n      `/api/users/${userId}/lessons/${lessonId}/challenges`\n    );\n\n    return response.data;\n  } catch (error) {\n    console.log(error);\n    throw new Error(error);\n  }\n};\n\nexport const createChallengesByLesson = async (lessonId, userId) => {\n  try {\n    const response = await axios.post(`/api/lessons/challenges`, {\n      lessonId,\n      userId\n    });\n    return response.data;\n  } catch (error) {\n    console.log(error);\n    throw new Error(error);\n  }\n};\n\nexport const getLastCompletedChallenge = async (userId, lessonId) => {\n  try {\n    const response = await axios.post(`/api/lessons/lastchallenge`, {\n      userId,\n      lessonId\n    });\n    return response.data;\n  } catch (error) {\n    console.log(error);\n    throw new Error(error);\n  }\n};\n\nexport const submitAnswer = async (challengeId, imageId) => {\n  try {\n    const response = await axios.get(\n      `/api/challenges/${challengeId}/checkanswer/${imageId}`\n    );\n    return response.data;\n  } catch (error) {\n    console.log(error);\n    throw new Error(error);\n  }\n};\n\nexport const changeChallengeStatus = async (challengeId, newStatus) => {\n  try {\n    const response = await axios.put(`/api/challenges`, {\n      challengeId,\n      newStatus\n    });\n    return response.data;\n  } catch (error) {\n    console.log(error);\n    throw new Error(error);\n  }\n};\n","import React from 'react';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { Table, Ref, Icon } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport ConfirmDelete from './ConfirmDelete';\nimport * as utils from '../utils';\n\nconst reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n  return result;\n};\n\nexport default class LessonsTableDnD extends React.Component {\n  state = {\n    lessons: this.props.lessons\n  };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.lessons !== prevProps.lessons) {\n      this.setState({ lessons: this.props.lessons });\n    }\n  }\n\n  onDragEnd = async result => {\n    if (!result.destination) {\n      return;\n    }\n\n    const lessons = reorder(\n      this.state.lessons,\n      result.source.index,\n      result.destination.index\n    );\n\n    this.setState({\n      lessons\n    });\n\n    const lessonOrder = lessons.map(lesson => lesson.id).toString();\n\n    utils.editCourse({\n      title: this.props.course.title,\n      language: this.props.course.language,\n      description: this.props.course.description,\n      difficulty: this.props.course.difficulty,\n      owner_id: this.props.course.owner_id,\n      id: this.props.course.id,\n      lessonsOrder: lessonOrder\n    });\n  };\n\n  getItemStyle = (isDragging, draggableStyle) => ({\n    background: isDragging && 'lightblue',\n    display: isDragging && 'table',\n    borderRadius: '5px',\n    ...draggableStyle\n  });\n\n  deleteLesson = async (id, index, userId) => {\n    await utils.deleteLesson(id);\n    const lessons = [...this.state.lessons];\n    lessons.splice(index, 1);\n    this.setState({ lessons });\n  };\n\n  render() {\n    return (\n      <DragDropContext\n        onDragEnd={this.onDragEnd}\n        onDragStart={this.onDragStart}>\n        <Table celled singleLine compact>\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell>Title</Table.HeaderCell>\n              <Table.HeaderCell>Categories</Table.HeaderCell>\n              <Table.HeaderCell># Symbols</Table.HeaderCell>\n              <Table.HeaderCell>Create Date</Table.HeaderCell>\n              {this.props.mode === 'creator' ? (\n                <>\n                  <Table.HeaderCell>Delete</Table.HeaderCell>\n                  <Table.HeaderCell>\n                    <Icon\n                      name=\"hand pointer outline\"\n                      style={{ color: 'gray' }}></Icon>\n                  </Table.HeaderCell>\n                </>\n              ) : (\n                <Table.HeaderCell>Begin</Table.HeaderCell>\n              )}\n            </Table.Row>\n          </Table.Header>\n          <Droppable droppableId=\"table\">\n            {(provided, snapshot) => (\n              <Ref innerRef={provided.innerRef}>\n                <Table.Body {...provided.droppableProps} id=\"table-body\">\n                  {this.state.lessons &&\n                    this.state.lessons.map((lesson, index) => (\n                      <Draggable\n                        isDragDisabled={\n                          this.props.mode === 'creator' ? false : true\n                        }\n                        draggableId={lesson.id}\n                        index={index}\n                        key={lesson.id}>\n                        {(provided, snapshot) => {\n                          return (\n                            <Ref innerRef={provided.innerRef}>\n                              <Table.Row\n                                {...provided.draggableProps}\n                                {...provided.dragHandleProps}\n                                style={this.getItemStyle(\n                                  snapshot.isDragging,\n                                  provided.draggableProps.style\n                                )}>\n                                <Table.Cell style={{ width: '30%' }}>\n                                  {lesson.title}\n                                </Table.Cell>\n                                <Table.Cell style={{ width: '15%' }}>\n                                  {lesson.categories ? lesson.categories : ''}\n                                </Table.Cell>\n                                <Table.Cell style={{ width: '15%' }}>\n                                  {lesson.symbols ? lesson.symbols.length : ''}\n                                </Table.Cell>\n                                <Table.Cell style={{ width: '30%' }}>\n                                  {new Date(\n                                    lesson.create_date * 1000\n                                  ).toLocaleString()}\n                                </Table.Cell>\n                                {this.props.mode === 'creator' ? (\n                                  // <ConfirmDelete\n                                  //   trigger={\n                                  //     <Table.Cell\n                                  //       style={{ width: '10%' }}\n                                  //       onClick={() =>\n                                  //         this.deleteLesson(lesson.id, index)\n                                  //       }>\n                                  //       <Icon\n                                  //         name=\"delete\"\n                                  //         style={{ color: 'red' }}></Icon>\n                                  //     </Table.Cell>\n                                  //   }></ConfirmDelete>\n                                  <>\n                                    <ConfirmDelete\n                                      deleteFunction={this.deleteLesson}\n                                      recordId={lesson.id}\n                                      index={index}\n                                      recordType=\"lesson\"\n                                      on=\"click\"\n                                      position=\"top center\"\n                                      trigger={\n                                        <Table.Cell style={{ width: '10%' }}>\n                                          <Icon\n                                            name=\"delete\"\n                                            style={{ color: 'red' }}></Icon>\n                                        </Table.Cell>\n                                      }></ConfirmDelete>\n                                    <Table.Cell>\n                                      <Icon\n                                        name=\"bars\"\n                                        style={{ color: 'gray' }}></Icon>\n                                    </Table.Cell>\n                                  </>\n                                ) : (\n                                  <Table.Cell style={{ width: '10%' }}>\n                                    <Link\n                                      to={`${this.props.location}/lesson/${lesson.id}`}>\n                                      Begin\n                                    </Link>\n                                  </Table.Cell>\n                                )}\n                              </Table.Row>\n                            </Ref>\n                          );\n                        }}\n                      </Draggable>\n                    ))}\n                  {provided.placeholder}\n                </Table.Body>\n              </Ref>\n            )}\n          </Droppable>\n        </Table>\n      </DragDropContext>\n    );\n  }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\nimport LessonsTableDnd from './LessonsTableDnd';\n\nclass LessonsTable extends React.Component {\n\n  render() {\n    return <LessonsTableDnd symbols={this.props.symbols} mode={this.props.mode} location={this.props.location} lessons={this.props.lessons} course={this.props.course}></LessonsTableDnd>;\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    app: state.app\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  actions\n)(LessonsTable);\n","import React from 'react';\nimport { Table, Icon } from 'semantic-ui-react';\n\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\nimport * as utils from '../utils';\nimport history from '../history';\nimport ConfirmDelete from './ConfirmDelete';\n\nclass SymbolsTable extends React.Component {\n  state = { symbols: this.props.symbols };\n\n  handleNav = id => {\n    history.push(`/student/symbol/${id}`);\n  };\n  handleCreatorNav = id => {\n    history.push(`/creator/course/${this.props.courseId}/symbol/${id}`);\n  };\n\n  renderStudentTable() {\n    return (\n      <Table compact celled singleLine sortable>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>ID</Table.HeaderCell>\n            <Table.HeaderCell>Text</Table.HeaderCell>\n            <Table.HeaderCell>Create Date</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {this.state.symbols.map((symbol, index) => {\n            return (\n              <Table.Row key={index} onClick={() => this.handleNav(symbol.id)}>\n                <Table.Cell>{symbol.id}</Table.Cell>\n                <Table.Cell>{symbol.text}</Table.Cell>\n                <Table.Cell>\n                  {new Date(symbol.create_date * 1000).toLocaleString()}\n                </Table.Cell>\n              </Table.Row>\n            );\n          })}\n        </Table.Body>\n      </Table>\n    );\n  }\n\n  deleteSymbol = async (symbolId, index, userId) => {\n    console.log({ symbolId }, { index }, { userId });\n    await utils.deleteSymbol(symbolId);\n    const symbols = [...this.state.symbols];\n    symbols.splice(index, 1);\n    this.setState({ symbols });\n  };\n\n  renderCreatorTable() {\n    return (\n      <Table compact celled singleLine sortable>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>ID</Table.HeaderCell>\n            <Table.HeaderCell>Text</Table.HeaderCell>\n            <Table.HeaderCell>Create Date</Table.HeaderCell>\n            <Table.HeaderCell>Delete</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {this.state.symbols.map((symbol, index) => {\n            return (\n              <Table.Row key={index}>\n                <Table.Cell>{symbol.id}</Table.Cell>\n                <Table.Cell onClick={() => this.handleCreatorNav(symbol.id)}>\n                  {symbol.text}\n                </Table.Cell>\n                <Table.Cell>\n                  {new Date(symbol.create_date * 1000).toLocaleString()}\n                </Table.Cell>\n\n                <ConfirmDelete\n                  recordId={symbol.id}\n                  index={index}\n                  recordType=\"symbol\"\n                  deleteFunction={this.deleteSymbol}\n                  trigger={\n                    <Table.Cell>\n                      <Icon name=\"delete\" style={{ color: 'red' }}></Icon>\n                    </Table.Cell>\n                  }></ConfirmDelete>\n              </Table.Row>\n            );\n          })}\n        </Table.Body>\n      </Table>\n    );\n  }\n\n  render() {\n    if (this.props.app.creatorMode) {\n      return this.renderCreatorTable();\n    } else {\n      return this.renderStudentTable();\n    }\n  }\n}\n\n//this is a test\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    app: state.app\n  };\n};\n\nexport default connect(mapStateToProps, actions)(SymbolsTable);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions';\nimport * as utils from '../../utils';\nimport Loader from '../Loader';\nimport { Grid, Segment, Icon, Button } from 'semantic-ui-react';\n\nimport { Link } from 'react-router-dom';\n\nimport LessonsTable from '../LessonsTable';\nimport SymbolsTable from '../SymbolsTable';\n\nclass StudentCourse extends React.Component {\n  state = { isLoaded: false, courseStarted: false, exists: false };\n\n  sortLessons = (lessons, lessonOrder) => {\n    return lessons.sort(function(a, b) {\n      //Calculate index value of a\n      var A = lessonOrder.indexOf(a.id);\n      if (A === -1) {\n        A = lessonOrder.length;\n      }\n      //Calculate index value of b\n      var B = lessonOrder.indexOf(b.id);\n      if (B === -1) {\n        B = lessonOrder.length;\n      }\n      //Return comparison\n      return A - B;\n    });\n  };\n\n  async componentDidMount() {\n    //course\n    const course = await utils.fetchCourse(\n      this.props.match.params.id,\n      this.props.auth.id\n    );\n\n    if (course.exists) {\n      //symbols\n      const symbols = await utils.fetchSymbols(this.props.match.params.id);\n      //order of the lessons\n\n      const lessonOrder = course.lessons_order\n        .split(',')\n        .map(id => parseInt(id));\n      //lessons\n      const lessons = this.sortLessons(\n        await utils.fetchLessons(this.props.match.params.id),\n        lessonOrder\n      );\n\n      if (\n        this.props.app.startedCourses\n          .map(course => {\n            return course.course_id;\n          })\n          .indexOf(parseInt(this.props.match.params.id)) >= 0\n      ) {\n        this.setState({ courseStarted: true });\n      }\n\n      this.setState({ course });\n      this.setState({ symbols });\n      this.setState({ lessons });\n      this.setState({ isLoaded: true, hasError: false });\n    } else {\n      this.setState({ isLoaded: true, hasError: true });\n    }\n  }\n\n  startCourse = () => {\n    utils.startCourse(this.props.auth.id, parseInt(this.props.match.params.id));\n    this.setState({ courseStarted: true });\n  };\n\n  renderCourse = () => {\n    if (this.state.course && this.state.isLoaded && !this.state.hasError) {\n      return (\n        <React.Fragment>\n          <div>\n            <h4>\n              <Link to=\"/student\">Back to courses</Link>\n            </h4>\n          </div>\n          <Segment attached>\n            <div className=\"student-course-title-bar\">\n              <h2>{this.state.course.title}</h2>\n            </div>\n            <div className=\"student-course-details\">\n              <p>{`${this.state.course.first_name} ${this.state.course.last_name}`}</p>\n              <p>\n                {new Date(\n                  this.state.course.create_date * 1000\n                ).toLocaleDateString()}\n              </p>\n            </div>\n            <div className=\"student-course-description\">\n              <p>{this.state.course.description}</p>\n            </div>\n          </Segment>\n          <Segment attached=\"bottom\">\n            <Grid>\n              <Grid.Row columns={1}>\n                <Grid.Column>\n                  {this.state.courseStarted ? null : (\n                    <Button\n                      style={{ background: 'lightgreen', width: '100%' }}\n                      onClick={this.startCourse}>\n                      Begin course\n                    </Button>\n                  )}\n                </Grid.Column>\n              </Grid.Row>\n            </Grid>\n          </Segment>\n          {this.state.courseStarted ? (\n            <div>\n              <h2>Lessons</h2>\n              <LessonsTable\n                location={this.props.match.url}\n                lessons={this.state.lessons}\n                course={this.state.course}></LessonsTable>\n            </div>\n          ) : null}\n        </React.Fragment>\n      );\n    } else {\n      return (\n        <div className=\"warning\">\n          <h2>\n            You do not have permission to access this record or this record does\n            not exist.\n          </h2>\n          <p>If you believe this is a mistake please contact Support.</p>\n          <a\n            href={`mailto:support@${window.location.host}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            style={{ color: '#fff', textDecoration: 'none' }}>\n            <Icon name=\"mail\"></Icon>support@{window.location.host}\n          </a>\n        </div>\n      );\n    }\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <Grid.Column width={16}>\n          {this.state.isLoaded ? this.renderCourse() : <Loader></Loader>}\n        </Grid.Column>\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    app: state.app,\n    form: state.forms.symbol\n  };\n};\n\nexport default connect(mapStateToProps, actions)(StudentCourse);\n","import React from 'react';\nimport Loader from '../Loader';\n\nexport default class CompletedLesson extends React.Component {\n  state = {\n    correct: this.props.correct,\n    incorrect: this.props.incorrect,\n    total: this.props.correct.length + this.props.incorrect.length,\n    percent:\n      (this.props.correct.length /\n        (this.props.correct.length + this.props.incorrect.length)) *\n      100,\n    loaded: false\n  };\n\n  componentDidMount = () => {\n    this.setState({ loaded: true });\n  };\n\n  render = () => {\n    if (this.state.loaded) {\n      return (\n        <div\n          style={{\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            height: '100vh',\n            textAlign: 'center'\n          }}>\n          <div>\n            <h2>Congratulations, you've completed this lesson!</h2>\n            <div>\n              <div style={{color: 'white', padding: '20px', background: this.state.percent > 79 ? 'green' : 'red'}}>{this.state.percent}%</div>\n            </div>\n          </div>\n        </div>\n      );\n    } else {\n      return <Loader></Loader>;\n    }\n  };\n}\n","import React from 'react';\n// import { Heading, Card, Icon } from 'evergreen-ui';\nimport { Icon, Button } from 'semantic-ui-react';\nimport Loader from '../Loader';\nimport * as utils from '../../utils';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions';\nimport CompletedLesson from './CompletedLesson';\n\nfunction indexByProperty(array, attr, value) {\n  for (var i = 0; i < array.length; i += 1) {\n    if (array[i][attr] === value) {\n      return i;\n    }\n  }\n  return -1;\n}\n\nclass StudentLesson extends React.Component {\n  constructor(props) {\n    super(props);\n    this.audioPlayer = React.createRef();\n  }\n\n  state = {\n    loaded: false,\n    courseId: this.props.match.params.courseid,\n    lessonId: this.props.match.params.lessonid,\n    symbols: [],\n    lesson: {},\n    message: '',\n    error: false,\n    currentChallenge: null,\n    indexOfCurrentChallenge: null,\n    answerChecked: null,\n    correct: null,\n    lessonComplete: false,\n    correctChallenges: [],\n    incorrectChallenges: []\n  };\n\n  componentDidMount = async () => {\n    const student_lesson = await utils.getStudentLesson(\n      this.state.lessonId,\n      this.props.auth.id\n    );\n\n    if (student_lesson.success) {\n      const response = await utils.fetchChallengesByLesson(\n        this.state.lessonId,\n        this.props.auth.id\n      );\n\n      if (response.success) {\n        //sort challenges by their id in ascending order, we could substitute this for an order index key set by the lesson creator if we wanted to later\n        response.challenges.sort((a, b) => (a.id > b.id ? 1 : -1));\n\n        const correctChallenges = response.challenges.filter(challenge => {\n          if (challenge.status === 2) {\n            return true;\n          } else {\n            return false;\n          }\n        });\n\n        const incorrectChallenges = response.challenges.filter(challenge => {\n          if (challenge.status === 3) {\n            return true;\n          } else {\n            return false;\n          }\n        });\n\n        this.setState({\n          challenges: response.challenges,\n          correctChallenges,\n          incorrectChallenges\n        });\n      } else if (!response.success) {\n        this.setState({ message: response.message, error: true });\n        throw new Error(response.error);\n      }\n\n      const lastChallenge = (\n        await utils.getLastCompletedChallenge(\n          this.props.auth.id,\n          this.state.lessonId\n        )\n      ).lastCompletedChallenge;\n\n      //we now need to get the index of challenge by this id from this.state.challenges\n\n      const indexOfCurrentChallenge = indexByProperty(\n        this.state.challenges,\n        'id',\n        lastChallenge\n      );\n\n      if (indexOfCurrentChallenge === -1) {\n        this.setState({ lessonComplete: true, loaded: true });\n        \n      } else {\n        this.setState({\n          currentChallenge: lastChallenge,\n          indexOfCurrentChallenge,\n          loaded: true\n        });\n      }\n    } else if (student_lesson.completed == 1) {\n      this.setState({ lessonComplete: true, loaded: true });\n    }\n  };\n\n  prevChallenge = () => {\n    if (this.state.indexOfCurrentChallenge === 0) {\n      console.log('Nothing back here');\n    } else {\n      this.setState({\n        indexOfCurrentChallenge: this.state.indexOfCurrentChallenge - 1,\n        currentChallenge: this.state.challenges[\n          this.state.indexOfCurrentChallenge - 1\n        ].id,\n        answerChecked: false,\n        correct: null\n      });\n    }\n  };\n\n  nextChallenge = () => {\n    if (\n      this.state.indexOfCurrentChallenge + 1 ===\n      this.state.challenges.length\n    ) {\n      this.setState({ lessonComplete: true });\n    } else {\n      this.setState({\n        indexOfCurrentChallenge: this.state.indexOfCurrentChallenge + 1,\n        currentChallenge: this.state.challenges[\n          this.state.indexOfCurrentChallenge + 1\n        ].id,\n        answerChecked: false,\n        correct: null\n      });\n    }\n  };\n\n  SymbolProgress = props => {\n    const challenges = this.state.challenges;\n    return (\n      <div\n        style={{\n          margin: '3% 0',\n          display: 'flex',\n          justifyContent: 'space-between',\n          flexWrap: 'wrap'\n        }}>\n        {challenges.map((challenge, index) => {\n          return (\n            <Icon\n              className=\"progress-dot\"\n              style={{\n                fontSize: '2rem',\n                color:\n                  index === props.currentChallengeIndex\n                    ? 'blue'\n                    : challenge.status === 2\n                    ? 'green'\n                    : challenge.status === 3\n                    ? 'red'\n                    : 'gray'\n              }}\n              name=\"circle thin\"></Icon>\n          );\n        })}\n      </div>\n    );\n  };\n\n  submitAnswer = async id => {\n    const answerStatus = await utils.submitAnswer(\n      this.state.currentChallenge,\n      id\n    );\n\n    // console.log([...this.state.correct, this.state.challenges[indexByProperty(this.state.challenges, 'id', this.state.currentChallenge)]])\n\n    if (answerStatus.correct) {\n      this.setState({\n        correctChallenges: [\n          ...this.state.correctChallenges,\n          this.state.challenges[\n            indexByProperty(\n              this.state.challenges,\n              'id',\n              this.state.currentChallenge\n            )\n          ]\n        ],\n        answerChecked: true,\n        correct: true,\n        challenges: this.state.challenges.map((challenge, index) => {\n          return index === this.state.indexOfCurrentChallenge\n            ? { ...challenge, status: 2 }\n            : challenge;\n        })\n      });\n      //CHANGE STATUS OF CHALLENGE TO CORRECT HERE, SOMETHING LIKE utils.changeChallengeStatus(challengeId, newStatus)\n      utils.changeChallengeStatus(this.state.currentChallenge, 2);\n      setTimeout(() => this.nextChallenge(), 1000);\n    } else {\n      this.setState({\n        incorrectChallenges: [\n          ...this.state.incorrectChallenges,\n          this.state.challenges[\n            indexByProperty(\n              this.state.challenges,\n              'id',\n              this.state.currentChallenge\n            )\n          ]\n        ],\n        answerChecked: true,\n        correct: false,\n        challenges: this.state.challenges.map((challenge, index) => {\n          return index === this.state.indexOfCurrentChallenge\n            ? { ...challenge, status: 3 }\n            : challenge;\n        })\n      });\n      //CHANGE STATUS OF CHALLENGE TO INCORRECT HERE, SOMETHING LIKE utils.changeChallengeStatus(challengeId, newStatus)\n      utils.changeChallengeStatus(this.state.currentChallenge, 3);\n      setTimeout(() => this.nextChallenge(), 1000);\n    }\n  };\n\n  ImagesContainer = props => {\n    const { images } = props;\n    return (\n      <div className=\"images-container\">\n        {images.map(image => {\n          return (\n            <div className=\"image-container\">\n              <img\n                onClick={() => this.submitAnswer(image.id)}\n                alt=\"a possible answer\"\n                className=\"image image-choice\"\n                src={image.url}\n                style={{\n                  border: '1px solid gray',\n                  borderRadius: '5px',\n                  cursor: 'pointer'\n                }}></img>\n            </div>\n          );\n        })}\n      </div>\n    );\n  };\n\n  playAudio = () => {\n    this.audioPlayer.current.load();\n    this.audioPlayer.current.play();\n  };\n\n  LessonControls = props => {\n    return (\n      <div className=\"lesson-control-buttons\">\n        <Button className=\"lesson-control-button\" onClick={this.playAudio}>\n          <Icon name=\"play\"></Icon>Play\n          <audio ref={this.audioPlayer} id=\"audio-player\">\n            <source src={props.source}></source>\n          </audio>\n        </Button>\n\n        <Button\n          className=\"lesson-control-button\"\n          onClick={() =>\n            this.props.history.push(`/student/course/${this.state.courseId}`)\n          }>\n          <Icon name=\"cancel\"></Icon>Cancel\n        </Button>\n      </div>\n    );\n  };\n\n  render() {\n    try {\n      if (!this.state.error) {\n        return this.state.loaded ? (\n          this.state.lessonComplete ? (\n            <CompletedLesson\n              correct={this.state.correctChallenges}\n              incorrect={this.state.incorrectChallenges}></CompletedLesson>\n          ) : (\n            <div>\n              <div className=\"controls-and-progress\">\n                <this.LessonControls\n                  source={\n                    this.state.challenges[this.state.indexOfCurrentChallenge]\n                      .audio_url\n                  }></this.LessonControls>\n                <this.SymbolProgress\n                  currentChallengeIndex={\n                    this.state.indexOfCurrentChallenge\n                  }></this.SymbolProgress>\n              </div>\n\n              <this.ImagesContainer\n                images={\n                  this.state.challenges[this.state.indexOfCurrentChallenge]\n                    .images\n                }></this.ImagesContainer>\n              {this.state.answerChecked ? (\n                this.state.correct ? (\n                  <div className=\"answer correct\">\n                    <h1>Correct!</h1>\n                  </div>\n                ) : (\n                  <div className=\"answer incorrect\">\n                    <h1>Wrong!</h1>\n                  </div>\n                )\n              ) : null}\n            </div>\n          )\n        ) : (\n          <Loader></Loader>\n        );\n      } else {\n        console.log(this.state.error);\n        throw new Error('Something went wrong');\n      }\n    } catch (error) {\n      console.log(this.state.error);\n      throw new Error('Something went wrong');\n    }\n  }\n}\n\nconst mapStateToProps = state => {\n  return { auth: state.auth };\n};\n\nexport default connect(mapStateToProps, actions)(StudentLesson);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\nimport ReactHover from 'react-hover';\nimport { Icon } from 'semantic-ui-react';\n\nclass ImagesTable extends React.Component {\n  componentWillUnmount() {\n    this.props.clearSymbol();\n  }\n\n  state = { isHovering: false };\n\n  hover = image => {\n    this.setState({ isHovering: true });\n  };\n\n  render() {\n    return (\n      <div className='images-table'>\n        {this.props.app.symbol.images\n          ? this.props.app.symbol.images.map((image, index) => {\n              return (\n                <ReactHover\n                  options={{ followCursor: false, shiftX: 0, shiftY: 0 }}\n                  key={index}>\n                  <ReactHover.Trigger type=\"trigger\">\n                    <img\n                      onMouseEnter={() => this.hover(image)}\n                      src={image.url}\n                      alt=\"\"\n                      className=\"symbol-image\"></img>\n                  </ReactHover.Trigger>\n                  <ReactHover.Hover type=\"hover\">\n                    <div\n                      >\n                      <Icon\n                           style={{\n                            position: 'absolute',\n                            bottom: '3px',\n                            cursor: 'pointer',\n                            color: 'red'\n                          }}\n                        onClick={() => {\n                          console.log(image);\n                        }}\n                        name=\"delete\"\n                        size=\"big\"></Icon>\n                    </div>\n                  </ReactHover.Hover>\n                </ReactHover>\n              );\n            })\n          : null}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    app: state.app\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  actions\n)(ImagesTable);\n","// import React from 'react';\n\n// import { connect } from 'react-redux';\n// import * as actions from '../../actions';\n\n// import { Grid } from 'semantic-ui-react';\n\n// import ProfileCard from '../ProfileCard';\n// import ImagesTable from '../ImagesTable';\n// import Loader from '../Loader';\n\n// class Symbol extends React.Component {\n//   componentDidMount() {\n//     this.props.getSymbol(this.props.match.params.id);\n//   }\n\n//   componentWillUnmount() {\n//     this.props.clearSymbol();\n//   }\n\n//   render() {\n//     return (\n//       <React.Fragment>\n//         <Grid.Column width={4} style={{ overflow: 'initial' }}>\n//           <ProfileCard />\n//         </Grid.Column>\n//         {this.props.app.symbol.symbol ? (\n//           <Grid.Column width={12}>\n//             <ul>\n//               <li>\n//                 {this.props.app.symbol.symbol\n//                   ? this.props.app.symbol.symbol.id\n//                   : null}\n//               </li>\n//               <li>\n//                 {this.props.app.symbol.symbol\n//                   ? this.props.app.symbol.symbol.text\n//                   : null}\n//               </li>\n//               <li>\n//                 {this.props.app.symbol.symbol\n//                   ? new Date(\n//                       this.props.app.symbol.symbol.create_date * 1000\n//                     ).toLocaleString()\n//                   : null}\n//               </li>\n//             </ul>\n//             <ImagesTable />\n//           </Grid.Column>\n//         ) : (\n//           <Loader></Loader>\n//         )}\n//       </React.Fragment>\n//     );\n//   }\n// }\n\n// const mapStateToProps = state => {\n//   return {\n//     auth: state.auth,\n//     app: state.app\n//   };\n// };\n\n// export default connect(\n//   mapStateToProps,\n//   actions\n// )(Symbol);\n\nimport React from 'react';\n\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions';\n\nimport { Grid, Button, Icon } from 'semantic-ui-react';\n\nimport ImagesTable from '../ImagesTable';\nimport Loader from '../Loader';\n\nclass Symbol extends React.Component {\n  constructor(props) {\n    super(props);\n    this.audioPlayer = React.createRef();\n  }\n\n  componentDidMount() {\n    this.props.getSymbol(this.props.match.params.id);\n  }\n\n  componentWillUnmount() {\n    this.props.clearSymbol();\n  }\n\n  playAudio = () => {\n    this.audioPlayer.current.play();\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.props.app.symbol.symbol ? (\n          <Grid.Column width={16}>\n            <ul>\n              <li>\n                {this.props.app.symbol.symbol\n                  ? this.props.app.symbol.symbol.id\n                  : null}\n              </li>\n              <li>\n                {this.props.app.symbol.symbol\n                  ? this.props.app.symbol.symbol.text\n                  : null}\n              </li>\n              <li>\n                {this.props.app.symbol.symbol\n                  ? new Date(\n                      this.props.app.symbol.symbol.create_date * 1000\n                    ).toLocaleString()\n                  : null}\n              </li>\n            </ul>\n            <Button onClick={this.playAudio}>\n              <Icon name=\"play\"></Icon>\n            </Button>\n            <audio ref={this.audioPlayer} id=\"audio-player\">\n              <source src={this.props.app.symbol.symbol.audio_url}></source>\n            </audio>\n\n            <ImagesTable />\n          </Grid.Column>\n        ) : (\n          <Loader></Loader>\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    app: state.app\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  actions\n)(Symbol);\n","import React from 'react';\n\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions';\n\nimport { Switch, Route } from 'react-router-dom';\n\nimport StudentHome from './StudentHome';\nimport StudentCourse from './StudentCourse';\nimport StudentLesson from './StudentLesson';\nimport StudentSymbol from './StudentSymbol';\n\nclass Student extends React.Component {\n  componentDidMount() {\n    this.props.setStudentMode();\n    this.props.fetchCourses();\n    this.props.fetchAllCourses();\n    this.props.fetchStartedCourses(this.props.auth.id)\n  }\n\n\n  routes = () => {\n    return (\n      <Switch>\n        <Route\n          exact\n          path={`${this.props.match.url}/`}\n          component={StudentHome}></Route>\n        <Route\n          exact\n          path={`${this.props.match.url}/course/:id`}\n          component={ StudentCourse }></Route>\n        <Route\n          exact\n          path={ `${this.props.match.url}/course/:courseid/lesson/:lessonid`}\n          component={StudentLesson}></Route>\n        <Route\n          exact\n          path={`${this.props.match.url}/symbol/:id`}\n          component={StudentSymbol}></Route>\n      </Switch>\n    );\n  };\n\n  render() {\n    return this.routes();\n  }\n}\n\nconst mapStateToProps = state => {\n  return { auth: state.auth };\n};\n\nexport default connect(\n  mapStateToProps,\n  actions\n)(Student);\n","import React from 'react';\nimport { Form as ReduxForm } from 'react-redux-form';\n\nfunction Form(props) {\n  return <ReduxForm {...props} className=\"ui form\" />;\n}\n\nexport default Form;\n","import React from 'react';\nimport ReactDropzone from 'react-dropzone';\n\nexport default class Dropzone extends React.Component {\n  state = {\n    files: []\n  };\n\n  onDrop = files => {\n    console.log(files);\n    this.setState({ files: [...this.state.files, files] });\n  };\n\n  render() {\n    const files = this.state.files.map((file, index) => (\n      <li key={index}>\n        {file.name} - {(file.size / 1000).toFixed()} kb\n      </li>\n    ));\n\n    return (\n      <ReactDropzone onDrop={this.onDrop}>\n        {({ getRootProps, getInputProps }) => (\n          <section className=\"container\">\n            <div {...getRootProps({ className: 'dropzone' })}>\n              <input {...getInputProps()} />\n              {this.props.children}\n            </div>\n            <aside>\n              <ul>{files}</ul>\n            </aside>\n          </section>\n        )}\n      </ReactDropzone>\n    );\n  }\n}\n","import React from 'react';\nimport { Grid, Button, Icon, Popup } from 'semantic-ui-react';\nimport { Slider } from 'react-semantic-ui-range';\nimport { Control, Errors } from 'react-redux-form';\nimport Form from './Form';\nimport { SketchPicker } from 'react-color';\nimport { connect } from 'react-redux';\nimport Dropzone from '../components/Dropzone'\nimport * as actions from '../actions';\n\nconst fabric = window.fabric;\n\nclass FabricCanvas extends React.Component {\n  state = {\n    svg: '',\n    brush: {\n      color: 'black',\n      width: 10\n    },\n    freeDraw: false,\n    images: []\n  };\n\n  addRect = () => {\n    const rect = new fabric.Rect({\n      left: 100,\n      top: 100,\n      bottom: 100,\n      right: 100,\n      fill: 'red',\n\n      width: 200,\n      height: 200\n    });\n    this.props.canvas.add(rect);\n  };\n\n  logSVG = () => {\n    fabric.log(this.props.canvas.toSVG());\n    this.setState({\n      svg: this.props.canvas.toSVG({\n        suppressPreamble: true\n      })\n    });\n  };\n\n  handleChange = async color => {\n    await this.setState({\n      ...this.state,\n      brush: { ...this.state.brush, color: color.hex }\n    });\n    this.updateFreeDraw();\n  };\n\n  freeDraw = async () => {\n    this.setState({\n      ...this.state,\n      brush: { ...this.state.brush },\n      freeDraw: !this.state.freeDraw\n    });\n    this.props.canvas.freeDrawingBrush.color = this.state.brush.color;\n    this.props.canvas.freeDrawingBrush.width =\n      parseInt(this.state.brush.width, 10) || 1;\n    this.props.canvas.isDrawingMode = this.state.freeDraw;\n  };\n\n  clear = () => {\n    this.props.canvas.clear();\n  };\n\n  removeObject = () => {\n    this.props.canvas.remove(this.props.canvas.getActiveObject());\n  };\n\n  updateFreeDraw = () => {\n    this.props.canvas.freeDrawingBrush.color = this.state.brush.color;\n    this.props.canvas.freeDrawingBrush.width =\n      parseInt(this.state.brush.width, 10) || 10;\n    this.props.canvas.isDrawingMode = true;\n  };\n\n  addImage = async () => {\n    const pngDataURL = this.props.canvas.toDataURL({ format: 'png' });\n    this.setState({ images: [...this.state.images, pngDataURL] });\n    await this.props.addSymbolImage(pngDataURL);\n    this.clear();\n  };\n\n  renderImages = () => {\n    return (\n      <div>\n        {this.props.app.symbolImages.map((image, index) => {\n          return <img width=\"30%\" src={image} key={index} alt=''></img>;\n        })}\n      </div>\n    );\n  };\n\n  render() {\n    console.log(this.props.existingSymbolText)\n    return (\n      <Grid stackable>\n        <Grid.Row>\n          <Grid.Column width={6}>\n            <Form\n              model=\"forms.symbol\"\n              onSubmit={symbol => this.addSymbol(symbol)}\n              className=\"ui form\"\n              validateOn=\"submit\">\n              <div className=\"fields\" style={{ width: '110%' }}>\n                <div className=\"field\" style={ { width: '100%' } }>\n                  {this.props.existingSymbolText ?  <Control.text\n                    model=\"forms.symbol.text\"\n                    placeholder=\"Symbol Text\"\n                    validators={ { required: value => value && value.length } }\n                    validateOn=\"change\"\n                    value={this.props.existingSymbolText}\n                  /> :  <Control.text\n                  model=\"forms.symbol.text\"\n                  placeholder=\"Symbol Text\"\n                  validators={ { required: value => value && value.length } }\n                  validateOn=\"change\"\n                />}\n                  {/* <Control.text\n                    model=\"forms.symbol.text\"\n                    placeholder=\"Symbol Text\"\n                    validators={ { required: value => value && value.length } }\n                    validateOn=\"change\"\n                    value={this.props.existingSymbolText}\n                  /> */}\n                  <Errors\n                    className=\"error\"\n                    model=\"forms.course.title\"\n                    show={{ touched: true, focus: false }}\n                    messages={{\n                      required: 'Required'\n                    }}\n                  />\n                </div>\n    \n              </div>\n            </Form>\n            <canvas\n              id={this.props.id}\n              width=\"300\"\n              height=\"300\"\n              style={ { border: '1px solid black' } }></canvas>\n          </Grid.Column>\n          <Grid.Column width={5}>\n          <div>\n              <Popup\n                trigger={\n                  <Button icon onClick={this.freeDraw}>\n                    <Icon name=\"paint brush\" />\n                  </Button>\n                }\n                content=\"Draw\"\n                position=\"bottom center\"\n              />\n\n              <Popup\n                trigger={\n                  <Button icon onClick={this.clear}>\n                    <Icon name=\"remove\" />\n                  </Button>\n                }\n                content=\"Clear Canvas\"\n                position=\"bottom center\"\n              />\n\n              <Popup\n                trigger={\n                  <Button icon onClick={this.removeObject}>\n                    <Icon name=\"minus square\" />\n                  </Button>\n                }\n                content=\"Remove Object\"\n                position=\"bottom center\"\n              />\n\n              <Popup\n                trigger={\n                  <Button icon onClick={this.addImage}>\n                    <Icon name=\"plus square\" />\n                  </Button>\n                }\n                content=\"Add to Symbol\"\n                position=\"bottom center\"\n              />\n            </div>\n            <SketchPicker\n              width={'92%'}\n              color={this.state.brush.color}\n              className=\"colorpicker\"\n              onChangeComplete={this.handleChange}\n            />\n            <Slider\n              value={this.state.brush.width}\n              color=\"4A4A4A\"\n              settings={{    min: 0,\n                max: 100,\n                step: 1,\n                onChange: value => {\n                  this.setState({ brush: { ...this.state.brush, width: value } });\n                  this.updateFreeDraw();\n                }}}\n            />\n          </Grid.Column>\n          <Grid.Column width={5}>\n            <Dropzone>\n              <div style={{border: '1px solid black', height: '100px'}}>\n\n              </div>\n            </Dropzone>\n            <div>{ this.renderImages() }</div>\n            \n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    app: state.app,\n    forms: state.forms\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  actions\n)(FabricCanvas);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\nimport FabricCanvas from './FabricCanvas';\nconst fabric = window.fabric;\n\n\nclass SymbolForm extends React.Component {\n  componentDidMount() {\n    this.canvas = new fabric.Canvas('canvas' );\n  }\n\n  addSymbol = symbol => {\n    this.props.addSymbol({\n      owner_id: this.props.auth.id,\n      course_id: this.props.app.course.course_id,\n      text: symbol.text,\n      language: this.props.app.course.language\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <FabricCanvas id=\"canvas\" canvas={this.canvas} existingSymbolText={this.props.existingSymbolText}></FabricCanvas>    \n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    app: state.app,\n    forms: state.forms\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  actions\n)(SymbolForm);\n","import React from 'react';\nimport { Modal, Button } from 'semantic-ui-react';\n\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\nimport * as utils from '../utils';\n\nimport SymbolForm from './SymbolForm';\n\nclass AddSymbolModal extends React.Component {\n  state = {\n    modalOpen: this.props.modalOpen,\n    isSubmitting: false,\n    alertMessage: '',\n    alert: false\n  };\n\n  componentWillMount() {\n    document.addEventListener('click', e => {\n      if (e.target.className.indexOf('dimmer') > 0) {\n        this.close();\n      }\n    });\n  }\n\n  clearSymbolImages = () => {\n    this.props.clearSymbolImages();\n  };\n\n  close = () => {\n    this.setState({ modalOpen: false });\n    this.props.resetForm('forms.symbol');\n    this.props.clearSymbolImages();\n  };\n\n  open = () => {\n    this.setState({ modalOpen: true });\n  };\n\n  saveImages = arrayOfImages => {\n    arrayOfImages.forEach(imageData => {\n      const imageObject = {\n        owner_id: this.props.auth.id,\n        data: imageData\n      };\n      this.props.saveSymbolImage(imageObject);\n    });\n  };\n\n  updateParent() {\n    this.props.toggleShowModalCallback();\n  }\n\n  submit = async () => {\n    if (!this.props.existingSymbol) {\n      const formValue = this.props.form.text;\n      if (this.props.app.symbolImages.length === 0 || !formValue) {\n        this.setState({\n          alert: true,\n          alertMessage: 'Please submit at least one drawing and text.'\n        });\n        setTimeout(() => {\n          this.setState({\n            alert: false,\n            alertMessage: ''\n          });\n        }, 1500);\n      } else {\n        this.setState({ isSubmitting: true });\n        await this.props.addSymbol({\n          owner_id: this.props.auth.id,\n          course_id: this.props.courseId,\n          text: formValue,\n          language: this.props.courseLanguage,\n          images: this.props.app.symbolImages\n        });\n        this.setState({ isSubmitting: false });\n        this.close();\n        this.updateParent();\n      }\n    } else if (this.props.existingSymbol) {\n      this.setState({ isSubmitting: true });\n      await utils.addImageToSymbol(\n        this.props.symbolId,\n        this.props.app.symbolImages,\n        this.props.auth.id\n      );\n      this.setState({ isSubmitting: false });\n      this.close();\n      // this.updateParent();\n    }\n  };\n\n  render() {\n    return (\n      <Modal\n        trigger={\n          <Button onClick={this.open} positive>\n            { this.props.existingSymbol ? 'Add an image' : 'Add A Symbol'}\n          </Button>\n        }\n        onClose={this.props.clearSymbolImages}\n        open={this.state.modalOpen}>\n        <Modal.Header>Add a Symbol</Modal.Header>\n        <Modal.Content>\n          {this.state.alert ? (\n            <div className=\"alert\">{this.state.alertMessage}</div>\n          ) : null}\n          <Modal.Description>\n            <SymbolForm existingSymbolText={this.props.existingSymbolText}/>\n          </Modal.Description>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button onClick={this.close} negative>\n            Cancel\n          </Button>\n          {this.state.isSubmitting ? (\n            <Button loading positive>\n              Loading\n            </Button>\n          ) : (\n            <Button\n              onClick={this.submit}\n              positive\n              labelPosition=\"right\"\n              icon=\"checkmark\"\n              content=\"Add\"\n            />\n          )}\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    app: state.app,\n    form: state.forms.symbol\n  };\n};\n\nexport default connect(mapStateToProps, actions)(AddSymbolModal);\n","import {\n  Control,\n  Form,\n  Errors\n} from 'react-redux-form';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\n\nclass CourseForm extends React.Component {\n  addCourse = course => {\n\n    this.props.addCourse({\n      title: course.title,\n      language: course.language,\n      description: course.description,\n      difficulty: course.difficulty,\n      owner_id: this.props.auth.id\n    });\n  };\n\n  render() {\n    return (\n      <Form\n        validateOn=\"submit\"\n        model=\"forms.course\"\n        onSubmit={course => this.addCourse(course)}\n        className=\"ui form\">\n        <div className=\"three fields\">\n          <div className=\"field\">\n            <Control.text\n              defaultValue={this.props.editing ? this.props.title : ''}\n              model=\"forms.course.title\"\n              placeholder=\"Title\"\n              validators={{ required: value => value && value.length }}\n              validateOn=\"change\"\n            />\n            <Errors\n              className=\"error\"\n              model=\"forms.course.title\"\n              show={{touched: true, focus: false}}\n              messages={{\n                required: 'Required'\n              }}\n            />\n          </div>\n          <div className=\"field\">\n            <Control.select\n              disabled={this.props.editing}\n              validators={{ required: value => value && value.length }}\n              defaultValue={this.props.editing ? this.props.language : 'english'}\n              model=\"forms.course.language\"\n              className=\"ui selection dropdown\"\n              placeholder=\"Language\">\n              <option value=\"english\">English</option>\n              <option value=\"spanish\">Spanish</option>\n              <option value=\"german\">German</option>\n            </Control.select>\n            <Errors\n              className=\"error\"\n              model=\"forms.course.language\"\n              show={false}\n              messages={{\n                required: 'Required'\n              }}\n            />\n          </div>\n          <div className=\"field\">\n            <Control.select\n              validators={{ required: value => value && value.length }}\n              defaultValue={this.props.editing ? this.props.difficulty : 'novice'}\n              model=\"forms.course.difficulty\"\n              className=\"ui selection dropdown\"\n              placeholder=\"Difficulty\">\n              <option value=\"novice\">Novice</option>\n              <option value=\"intermediate\">Intermediate</option>\n              <option value=\"advanced\">Advanced</option>\n            </Control.select>\n            <Errors\n              className=\"error\"\n              model=\"forms.course.difficulty\"\n              show={false}\n              messages={{\n                required: 'Required'\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"field\">\n          <Control.textarea\n            validators={{ required: value => value && value.length }}\n            defaultValue={this.props.editing ? this.props.description : ''}\n            validateOn=\"change\"\n            model=\"forms.course.description\"\n            placeholder=\"Description\"\n          />\n          <Errors\n            className=\"error\"\n            model=\"forms.course.description\"\n            show=\"touched\"\n            messages={{\n              required: 'Required'\n            }}\n          />\n        </div>\n\n      </Form>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    app: state.app,\n    forms: state.forms\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  actions\n)(CourseForm);\n","import { Modal, Button } from 'semantic-ui-react';\nimport CourseForm from '../CourseForm';\nimport React from 'react';\nimport * as actions from '../../actions';\nimport { connect } from 'react-redux';\n\nclass EditCourseModal extends React.Component {\n  state = { open: false, isSubmitting: false };\n\n  componentDidMount() {\n    document.addEventListener('click', e => {\n      if (e.target.className.indexOf('dimmer') > 0) {\n        this.close();\n      }\n    });\n  }\n\n  open = () => {\n    this.setState({ open: true });\n  };\n\n  close = () => {\n    this.props.resetForm('forms.course', {\n      language: 'english',\n      difficulty: 'novice'\n    });\n    this.setState({ open: false });\n  };\n\n  updateParent() {\n    this.props.toggleShowModalCallback();\n  }\n\n  submit = async () => {\n    this.setState({ isSubmitting: true });\n    await this.props.editCourse({\n      title: this.props.forms.course.title,\n      language: this.props.forms.course.language,\n      description: this.props.forms.course.description,\n      difficulty: this.props.forms.course.difficulty,\n      owner_id: this.props.auth.id,\n      id: this.props.courseId,\n      lessonsOrder: this.props.forms.course.lessonsOrder\n    });\n    this.updateParent();\n    this.setState({ isSubmitting: false });\n    this.close();\n  };\n\n  render() {\n    return (\n      <Modal\n        trigger={<Button icon=\"pencil\" onClick={this.open}></Button>}\n        open={this.state.open}>\n        <Modal.Header>Edit Course</Modal.Header>\n        <Modal.Content>\n          <Modal.Description>\n            <CourseForm\n              editing\n              title={this.props.title}\n              description={this.props.description}\n              difficulty={this.props.difficulty}\n              language={this.props.language}\n            />\n          </Modal.Description>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button onClick={this.close} negative>\n            Cancel\n          </Button>\n          {this.state.isSubmitting ? (\n            <Button loading positive>\n              Loading\n            </Button>\n          ) : (\n            <Button\n              onClick={this.submit}\n              positive\n              labelPosition=\"right\"\n              icon=\"checkmark\"\n              content=\"Edit\"\n            />\n          )}\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return { auth: state.auth, app: state.app, forms: state.forms };\n};\n\nexport default connect(\n  mapStateToProps,\n  actions\n)(EditCourseModal);\n","import { Control, Form, Errors } from 'react-redux-form';\nimport { Dropdown } from 'semantic-ui-react';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\n\nclass LessonForm extends React.Component {\n  state = {\n    selectedSymbols: []\n  };\n\n  handleSelect = (event, data) => {\n    this.props.resetForm('forms.lesson', {\n      symbols: data.value,\n      title: this.props.forms.lesson.title\n    });\n    this.setState({ selectedSymbols: data.value });\n  };\n\n  render() {\n    return (\n      <Form\n        validateOn=\"submit\"\n        model=\"forms.lesson\"\n        // onSubmit={course => this.addCourse(course)}\n        className=\"ui form\">\n        <div className=\"two fields\">\n          <div className=\"field\">\n            <Control.text\n              defaultValue={this.props.editing ? this.props.title : ''}\n              model=\"forms.lesson.title\"\n              placeholder=\"Title\"\n              validators={{ required: value => value && value.length }}\n              validateOn=\"change\"\n            />\n            <Errors\n              className=\"error\"\n              model=\"forms.lesson.title\"\n              show={{ touched: true, focus: false }}\n              messages={{\n                required: 'Required'\n              }}\n            />\n          </div>\n          <div className=\"field\">\n            <Dropdown\n              placeholder=\"Symbols\"\n              fluid\n              multiple\n              selection\n              onChange={this.handleSelect}\n              options={this.props.symbols.map(symbol => {\n                return {\n                  key: symbol.text,\n                  text: symbol.text,\n                  value: symbol.id\n                };\n              })}\n            />\n\n            {/* <Control.select\n              disabled={this.props.editing}\n              validators={{ required: value => value && value.length }}\n              defaultValue={\n                this.props.editing ? this.props.language : 'english'\n              }\n              model=\"forms.course.language\"\n              className=\"ui selection dropdown\"\n              placeholder=\"Language\">\n              <option value=\"english\">English</option>\n              <option value=\"spanish\">Spanish</option>\n              <option value=\"german\">German</option>\n            </Control.select>\n            <Errors\n              className=\"error\"\n              model=\"forms.course.language\"\n              show={false}\n              messages={{\n                required: 'Required'\n              }}\n            /> */}\n          </div>\n          {/* <div className=\"field\">\n            <Control.select\n              validators={{ required: value => value && value.length }}\n              defaultValue={this.props.editing ? this.props.difficulty : 'novice'}\n              model=\"forms.course.difficulty\"\n              className=\"ui selection dropdown\"\n              placeholder=\"Difficulty\">\n              <option value=\"novice\">Novice</option>\n              <option value=\"intermediate\">Intermediate</option>\n              <option value=\"advanced\">Advanced</option>\n            </Control.select>\n            <Errors\n              className=\"error\"\n              model=\"forms.course.difficulty\"\n              show={false}\n              messages={{\n                required: 'Required'\n              }}\n            />\n          </div> */}\n        </div>\n\n        {/* <div className=\"field\">\n          <Control.textarea\n            validators={{ required: value => value && value.length }}\n            defaultValue={this.props.editing ? this.props.description : ''}\n            validateOn=\"change\"\n            model=\"forms.course.description\"\n            placeholder=\"Description\"\n          />\n          <Errors\n            className=\"error\"\n            model=\"forms.course.description\"\n            show=\"touched\"\n            messages={{\n              required: 'Required'\n            }}\n          />\n        </div> */}\n      </Form>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    app: state.app,\n    forms: state.forms\n  };\n};\n\nexport default connect(mapStateToProps, actions)(LessonForm);\n","import { Modal, Button } from 'semantic-ui-react';\nimport LessonForm from '../LessonForm';\nimport React from 'react';\nimport * as actions from '../../actions';\nimport * as utils from '../../utils';\nimport { connect } from 'react-redux';\n\nclass AddLessonModal extends React.Component {\n  state = { open: false };\n\n  componentDidMount() {\n\n    document.addEventListener('click', e => {\n      if (e.target.className.indexOf('dimmer') > 0) {\n        this.close();\n      }\n    });\n  }\n\n  updateParent() {\n\n    this.props.toggleShowModalCallback();\n  }\n\n  open = () => {\n    this.setState({ open: true });\n    \n  };\n\n  close = () => {\n    this.props.resetForm('forms.lesson');\n    this.setState({ open: false });\n  };\n\n  submit = async () => {\n    this.setState({ isSubmitting: true });\n    await utils.addLesson({\n      ...this.props.forms.lesson,\n      courseId: this.props.course.course_id\n    });\n    this.setState({ isSubmitting: false });\n    this.close();\n    this.updateParent();\n  };\n\n  render() {\n    return (\n      <Modal\n        trigger={\n          <Button onClick={this.open} positive>\n            Add A Lesson\n          </Button>\n        }\n        open={this.state.open}>\n        <Modal.Header>Add a Lesson</Modal.Header>\n        <Modal.Content>\n          <Modal.Description>\n            <LessonForm symbols={this.props.symbols} />\n          </Modal.Description>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button onClick={this.close} negative>\n            Cancel\n          </Button>\n          {this.state.isSubmitting ? (\n            <Button loading positive>\n              Loading\n            </Button>\n          ) : (\n            <Button\n              onClick={this.submit}\n              positive\n              labelPosition=\"right\"\n              icon=\"checkmark\"\n              content=\"Add\"\n            />\n          )}\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return { auth: state.auth, app: state.app, forms: state.forms };\n};\n\nexport default connect(\n  mapStateToProps,\n  actions\n)(AddLessonModal);\n","import React from 'react';\n\nimport { connect } from 'react-redux';\n\nimport { Link } from 'react-router-dom';\n\nimport * as actions from '../../actions';\n\nimport { Grid, Segment, Icon } from 'semantic-ui-react';\n\nimport SymbolsTable from '../SymbolsTable';\n\nimport AddSymbolModal from '../AddSymbolModal';\nimport LessonsTable from '../LessonsTable';\nimport Loader from '../Loader';\n\nimport * as utils from '../../utils';\nimport EditCourseModal from './EditCourseModal';\nimport AddLessonModal from './AddLessonModal';\n\nclass CreatorCourse extends React.Component {\n  state = {\n    course: {},\n    lessons: {},\n    symbols: [],\n    isLoaded: false,\n    showModal: false,\n    isFetching: false,\n    hasError: false\n  };\n\n  sortLessons = (lessons, lessonOrder) => {\n    return lessons.sort(function(a, b) {\n      //Calculate index value of a\n      var A = lessonOrder.indexOf(a.id);\n      if (A === -1) {\n        A = lessonOrder.length;\n      }\n      //Calculate index value of b\n      var B = lessonOrder.indexOf(b.id);\n      if (B === -1) {\n        B = lessonOrder.length;\n      }\n      //Return comparison\n      return A - B;\n    });\n  };\n\n  async componentDidMount() {\n    const course = await utils.fetchCourse(\n      this.props.match.params.id,\n      this.props.auth.id\n    );\n\n    if (course.exists) {\n      // const lessons = await utils.fetchLessons(this.props.match.params.id);\n      const symbols = await utils.fetchSymbols(this.props.match.params.id);\n      const lessonOrder = course.lessons_order\n        .split(',')\n        .map(id => parseInt(id));\n      const lessons = this.sortLessons(\n        await utils.fetchLessons(this.props.match.params.id),\n        lessonOrder\n      );\n      this.setState({\n        course: {\n          ...course,\n          id: this.props.match.params.id,\n          owner_id: this.props.auth.id\n        }\n      });\n      this.setState({ symbols });\n      this.setState({ lessons });\n      this.setState({ isLoaded: true });\n    } else {\n      this.setState({ isLoaded: true, hasError: true });\n    }\n  }\n\n  rerenderAfterSubmit = async () => {\n    this.setState({ isFetching: true });\n    const symbols = await utils.fetchSymbols(this.props.match.params.id);\n    const course = await utils.fetchCourse(\n      this.props.match.params.id,\n      this.props.auth.id\n    );\n    const lessonOrder = await course.lessons_order\n      .split(',')\n      .map(id => parseInt(id));\n    const lessons = await this.sortLessons(\n      await utils.fetchLessons(this.props.match.params.id),\n      lessonOrder\n    );\n\n    this.setState({ symbols, course, lessons });\n    this.setState({ isFetching: false });\n  };\n\n  renderCourse = () => {\n    if (this.state.course && this.state.course.owner && !this.state.hasError) {\n      return (\n        <div>\n          <h4>\n            <Link to=\"/creator\">Back to courses</Link>\n          </h4>\n          <Segment>\n            <div className=\"creator-course-title-bar\">\n              <h2>{ this.state.course.title }</h2>\n              <EditCourseModal\n                title={this.state.course.title}\n                description={this.state.course.description}\n                difficulty={this.state.course.difficulty}\n                language={this.state.course.language}\n                courseId={this.props.match.params.id}\n                toggleShowModalCallback={\n                  this.rerenderAfterSubmit\n                }></EditCourseModal>\n            </div>\n            <div className=\"creator-course-details\">\n              <p>{`${this.state.course.first_name} ${this.state.course.last_name}`}</p>\n              <p>\n                {new Date(\n                  this.state.course.create_date * 1000\n                ).toLocaleDateString()}\n              </p>\n            </div>\n            <div className=\"creator-course-description\">\n              <p>{this.state.course.description}</p>\n            </div>\n          </Segment>\n          <h2>Lessons</h2>\n          <AddLessonModal\n            symbols={this.state.symbols}\n            toggleShowModalCallback={this.rerenderAfterSubmit}\n            course={this.state.course}></AddLessonModal>\n          <LessonsTable\n            mode=\"creator\"\n            location={this.props.match.url}\n            lessons={this.state.lessons}\n            course={this.state.course}></LessonsTable>\n          <h2>Symbols</h2>\n          {this.props.app.creatorMode ? (\n            <AddSymbolModal\n              courseId={this.state.course.course_id}\n              courseLanguage={this.state.course.language}\n              toggleShowModalCallback={this.rerenderAfterSubmit}\n              modalOpen={this.state.showModal}></AddSymbolModal>\n          ) : null}\n\n          <SymbolsTable\n            courseId={this.state.course.course_id}\n            symbols={this.state.symbols}\n            renderLocation={this.props.match.url}\n          />\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"warning\">\n          <h2>\n            You do not have permission to access this record or this record does\n            not exist.\n          </h2>\n          <p>If you believe this is a mistake please contact Support.</p>\n          <a\n            href={`mailto:support@${window.location.host}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            style={{ color: '#fff', textDecoration: 'none' }}>\n            <Icon name=\"mail\"></Icon>support@{window.location.host}\n          </a>\n        </div>\n      );\n    }\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <Grid.Column width={16}>\n          {this.state.isLoaded ? this.renderCourse() : <Loader></Loader>}\n        </Grid.Column>\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    app: state.app,\n    form: state.forms.symbol\n  };\n};\n\nexport default connect(mapStateToProps, actions)(CreatorCourse);\n","import { Modal, Button } from 'semantic-ui-react';\nimport CourseForm from '../CourseForm';\nimport React from 'react';\nimport * as actions from '../../actions';\nimport { connect } from 'react-redux';\n\nclass AddCourseModal extends React.Component {\n\n  state = { open: false };\n\n  componentDidMount() {\n    document.addEventListener(\"click\", e => {\n      if (e.target.className.indexOf(\"dimmer\") > 0 ) {\n        this.close();\n      }\n    })\n  }\n\n  open = () => {\n    this.setState({ open: true });\n  };\n\n  close = () => {\n    this.props.resetForm('forms.course', {language: 'english', difficulty: 'novice'})\n    this.setState({ open: false });\n  };\n\n  submit = () => {\n\n    this.props.addCourse({\n      title: this.props.forms.course.title,\n      language: this.props.forms.course.language,\n      description: this.props.forms.course.description,\n      difficulty: this.props.forms.course.difficulty,\n      owner_id: this.props.auth.id\n    });\n    this.close();\n  };\n\n  render() {\n    return (\n      <Modal\n        trigger={\n          <Button onClick={this.open} positive>\n            Add A Course\n          </Button>\n        }\n        open={this.state.open}>\n        <Modal.Header>Add a Course</Modal.Header>\n        <Modal.Content>\n          <Modal.Description>\n            <CourseForm />\n          </Modal.Description>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button onClick={this.close} negative>\n            Cancel\n          </Button>\n          <Button\n            onClick={this.submit}\n            positive\n            labelPosition=\"right\"\n            icon=\"checkmark\"\n            content=\"Add\"\n          />\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return { auth: state.auth, app: state.app, forms: state.forms };\n};\n\nexport default connect(\n  mapStateToProps,\n  actions\n)(AddCourseModal);\n","import React from 'react';\n\nimport CoursesTable from '../CoursesTable';\n\nimport { Grid, Segment } from 'semantic-ui-react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions';\nimport AddCourseModal from './AddCourseModal';\n\nclass Creator extends React.Component {\n  state = { open: false };\n\n  componentDidMount() {\n    this.props.setCreatorMode();\n    this.props.history.push('/creator');\n    document.addEventListener('click', e => {\n      if (e.target.className.indexOf('dimmer') > 0) {\n        this.close();\n      }\n    });\n  }\n\n  open = () => {\n    this.setState({ open: true });\n  };\n\n  close = () => {\n    this.props.resetForm('forms.course', {\n      language: 'english',\n      difficulty: 'novice'\n    });\n    this.setState({ open: false });\n  };\n\n  submit = () => {\n    this.props.addCourse({\n      title: this.props.forms.course.title,\n      language: this.props.forms.course.language,\n      description: this.props.forms.course.description,\n      difficulty: this.props.forms.course.difficulty,\n      owner_id: this.props.auth.id\n    });\n    this.close();\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <Grid.Column width={16}>\n          <h2>My Created Courses</h2>\n          <AddCourseModal></AddCourseModal>\n          {this.props.app.coursesTable.length === 0 ? (\n            <Segment compact textAlign=\"center\">\n              <h2>You don't have any courses - make one now!</h2>\n            </Segment>\n          ) : (\n            <CoursesTable renderLocation={this.props.match.url} />\n          )}\n        </Grid.Column>\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return { auth: state.auth, app: state.app, forms: state.forms };\n};\n\nexport default connect(mapStateToProps, actions)(Creator);\n","import React from 'react';\n\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions';\nimport * as utils from '../../utils'\n\nimport { Grid, Button, Icon } from 'semantic-ui-react';\n\nimport ImagesTable from '../ImagesTable';\nimport Loader from '../Loader';\n\nimport AddSymbolModal from '../AddSymbolModal';\n\nclass Symbol extends React.Component {\n  constructor(props) {\n    super(props);\n    this.audioPlayer = React.createRef();\n  }\n\n  state={course: null}\n  \n  componentDidMount = async () => {\n    this.props.getSymbol(this.props.match.params.id);\n    const course = await utils.fetchCourse(this.props.match.params.courseId, this.props.auth.id);\n    this.setState({course})\n  }\n\n  componentWillUnmount() {\n    this.props.clearSymbol();\n  }\n\n  playAudio = () => {\n    this.audioPlayer.current.play();\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.props.app.symbol.symbol ? (\n          <Grid.Column width={16}>\n            <ul>\n              <li>\n                {this.props.app.symbol.symbol\n                  ? this.props.app.symbol.symbol.id\n                  : null}\n              </li>\n              <li>\n                {this.props.app.symbol.symbol\n                  ? this.props.app.symbol.symbol.text\n                  : null}\n              </li>\n              <li>\n                {this.props.app.symbol.symbol\n                  ? new Date(\n                      this.props.app.symbol.symbol.create_date * 1000\n                    ).toLocaleString()\n                  : null}\n              </li>\n            </ul>\n            <Button onClick={this.playAudio}>\n              <Icon name=\"play\"></Icon>\n            </Button>\n            <audio ref={this.audioPlayer} id=\"audio-player\">\n              <source src={this.props.app.symbol.symbol.audio_url}></source>\n            </audio>\n            <ImagesTable />\n            <AddSymbolModal\n              courseId={ this.props.match.params.courseId }\n              courseLanguage={ this.state.course.language }\n              toggleShowModalCallback={ this.rerenderAfterSubmit }\n              modalOpen={ this.state.showModal }\n              existingSymbol\n              symbolId={ this.props.match.params.id }\n              existingSymbolText={this.props.app.symbol.symbol.text}\n            >\n              \n            </AddSymbolModal>\n          </Grid.Column>\n        ) : (\n          <Loader></Loader>\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    app: state.app\n  };\n};\n\nexport default connect(mapStateToProps, actions)(Symbol);\n","import React from 'react';\nimport * as utils from '../../utils';\n\nexport default class CreatorLesson extends React.Component {\n  state = { symbols: [] };\n\n  componentWillMount = async () => {\n    const symbols = await utils.fetchSymbolsByLessons(\n      this.props.match.params.lessonId\n    );\n    this.setState({ symbols });\n  };\n\n  render() {\n    return (\n      <div>\n        Hello, the course id is {this.props.match.params.courseId} and the\n        lesson id is {this.props.match.params.lessonId}.\n        <div>\n          <ul>\n            {this.state.symbols.map(symbol => {\n              return (\n                <li>\n                  <audio controls src={symbol.audio_url}></audio>\n                </li>\n              );\n            })}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions';\n\nimport { Switch, Route } from 'react-router-dom';\nimport CreatorCourse from './CreatorCourse';\nimport CreatorHome from './CreatorHome';\nimport CreatorSymbol from './CreatorSymbol';\nimport CreatorLesson from './CreatorLesson';\n\nclass Creator extends React.Component {\n  componentDidMount() {\n    this.props.fetchCourses();\n      this.props.fetchAllCourses();\n    this.props.setCreatorMode();\n  }\n\n  routes = () => {\n    return (\n      <Switch>\n        <Route\n          exact\n          path={`${this.props.match.url}/`}\n          component={CreatorHome}></Route>\n        <Route\n          exact\n          path={`${this.props.match.url}/course/:id`}\n          component={CreatorCourse}></Route>\n        <Route\n          exact\n          path={`${this.props.match.url}/course/:courseId/symbol/:id`}\n          component={CreatorSymbol}></Route>\n         <Route\n          exact\n          path={`${this.props.match.url}/course/:courseId/lesson/:lessonId`}\n          component={CreatorLesson}></Route>\n      </Switch>\n    );\n  };\n\n  render() {\n    return this.routes();\n  }\n}\n\nconst mapStateToProps = state => {\n  return { auth: state.auth, app: state.app, forms: state.forms };\n};\n\nexport default connect(\n  mapStateToProps,\n  actions\n)(Creator);\n","import React from 'react';\nimport {\n  Grid,\n  Header,\n  Form,\n  Segment,\n  Button,\n  Message,\n  Icon\n} from 'semantic-ui-react';\n\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport * as actions from '../actions';\nimport { connect } from 'react-redux';\n\nclass LoginScreen extends React.Component {\n  state = {\n    email: '',\n    password: '',\n    error: ''\n  };\n\n  handlePasswordChange = event => {\n    this.setState({ password: event.target.value });\n  };\n\n  handleEmailChange = event => {\n    this.setState({ email: event.target.value });\n  };\n\n  submit = async () => {\n    const response = await axios.post('/auth/login', {\n      email: this.state.email.split(' ').join(''),\n      password: this.state.password\n    });\n\n    if (response.data.message === 'redirect') {\n      await this.props.fetchUser();\n      this.props.history.push('/home');\n    } else {\n      this.setState({ error: response.data.message });\n    }\n  };\n\n  render() {\n    if (this.props.mobile) {\n      return (\n        <React.Fragment>\n          <Grid.Column width={16}>\n            <Header as=\"h2\" textAlign=\"center\">\n              Log In\n            </Header>\n            <h4 className=\"error\">\n              {this.state.error ? (\n                <Message negative>{this.state.error}</Message>\n              ) : null}\n            </h4>\n            <Form size=\"large\">\n              <Segment>\n                <Form.Input\n                  name=\"email\"\n                  fluid\n                  icon=\"user\"\n                  iconPosition=\"left\"\n                  placeholder=\"E-mail address\"\n                  onChange={this.handleEmailChange}\n                  value={this.state.email}\n                />\n                <Form.Input\n                  name=\"password\"\n                  fluid\n                  icon=\"lock\"\n                  iconPosition=\"left\"\n                  placeholder=\"Password\"\n                  type=\"password\"\n                  onChange={this.handlePasswordChange}\n                  value={this.state.password}\n                />\n\n                <Button fluid size=\"large\" onClick={this.submit}>\n                  Login <Icon name=\"chevron right\"></Icon>\n                </Button>\n              </Segment>\n            </Form>\n            <Message>\n              New? <Link to=\"/register\">Sign Up</Link>\n            </Message>\n            <Message>\n              <Link to=\"/forgot\">Forgot your password?</Link>\n            </Message>\n            <Message className=\"google\">\n              <Icon name=\"google\"></Icon>\n              <a href=\"/auth/google\">Log in with Google</a>\n            </Message>\n          </Grid.Column>\n        </React.Fragment>\n      );\n    } else {\n      return (\n        <React.Fragment>\n          <Grid.Column width={5}></Grid.Column>\n          <Grid.Column style={{ maxWidth: 450, margin: '0 auto' }} width={6}>\n            <Header as=\"h2\" textAlign=\"center\">\n              Log In\n            </Header>\n            <h4 className=\"error\">\n              {this.state.error ? (\n                <Message negative>{this.state.error}</Message>\n              ) : null}\n            </h4>\n            <Form size=\"large\">\n              <Segment>\n                <Form.Input\n                  name=\"email\"\n                  fluid\n                  icon=\"user\"\n                  iconPosition=\"left\"\n                  placeholder=\"E-mail address\"\n                  onChange={this.handleEmailChange}\n                  value={this.state.email}\n                />\n                <Form.Input\n                  name=\"password\"\n                  fluid\n                  icon=\"lock\"\n                  iconPosition=\"left\"\n                  placeholder=\"Password\"\n                  type=\"password\"\n                  onChange={this.handlePasswordChange}\n                  value={this.state.password}\n                />\n\n                <Button fluid size=\"large\" onClick={this.submit}>\n                  Login <Icon name=\"chevron right\"></Icon>\n                </Button>\n              </Segment>\n            </Form>\n            <Message>\n              New? <Link to=\"/register\">Sign Up</Link>\n            </Message>\n            <Message>\n              <Link to=\"/forgot\">Forgot your password?</Link>\n            </Message>\n            <Message className=\"google\">\n              <Icon name=\"google\"></Icon>\n              <a href=\"/auth/google\">Log in with Google</a>\n            </Message>\n          </Grid.Column>\n          <Grid.Column width={5}></Grid.Column>\n        </React.Fragment>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = state => {\n  return { auth: state.auth, app: state.app };\n};\n\nexport default connect(mapStateToProps, actions)(LoginScreen);\n","import React from 'react';\nimport {\n  Grid,\n  Header,\n  Form,\n  Segment,\n  Button,\n  Message,\n  Icon\n} from 'semantic-ui-react';\n\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport * as actions from '../actions';\nimport { connect } from 'react-redux';\n\nclass RegisterScreen extends React.Component {\n  state = {\n    email: '',\n    firstName: '',\n    lastName: '',\n    password: '',\n    message: '',\n    error: ''\n  };\n\n  handlePasswordChange = event => {\n    this.setState({ password: event.target.value });\n  };\n\n  handleFirstNameChange = event => {\n    this.setState({\n      firstName:\n        event.target.value.slice(0, 1).toUpperCase() +\n        event.target.value.slice(1)\n    });\n  };\n\n  handleLastNameChange = event => {\n    this.setState({\n      lastName:\n        event.target.value.slice(0, 1).toUpperCase() +\n        event.target.value.slice(1)\n    });\n  };\n\n  handleEmailChange = event => {\n    this.setState({ email: event.target.value });\n  };\n\n  submit = async () => {\n    const { email, firstName, lastName, password } = this.state;\n\n    if (email.indexOf(' ') > 0 || email.indexOf('@') < 0) {\n      this.setState({ error: 'Please enter a valid email address.' });\n    } else if (email && firstName && lastName && password) {\n      const response = await axios.post('/auth/register', {\n        email: email,\n        first_name: firstName,\n        last_name: lastName,\n        password: password\n      });\n\n      if (response.data.message === 'success') {\n        this.setState({ message: 'User created' });\n        setTimeout(() => this.props.history.push('/login'), 1000);\n      } else {\n        this.setState({ error: response.data.message });\n      }\n    } else {\n      this.setState({ error: 'Please complete all fields.' });\n    }\n  };\n\n  render() {\n    if (this.props.mobile) {\n      return (\n        <React.Fragment>\n          <Grid.Column width={16}>\n            <Header as=\"h2\" textAlign=\"center\">\n              Register\n            </Header>\n            {this.state.message ? (\n              <Message success>{this.state.message}</Message>\n            ) : null}\n            {this.state.error ? (\n              <Message negative>{this.state.error}</Message>\n            ) : null}\n            <Form size=\"large\">\n              <Segment>\n                <Form.Input\n                  // ref={this.emailField}\n                  onChange={this.handleEmailChange}\n                  name=\"email\"\n                  fluid\n                  icon=\"envelope\"\n                  iconPosition=\"left\"\n                  placeholder=\"E-mail address\"\n                  value={this.state.email}\n                />\n                <Form.Input\n                  // ref={this.firstNameField}\n                  onChange={this.handleFirstNameChange}\n                  name=\"first_name\"\n                  fluid\n                  icon=\"user\"\n                  iconPosition=\"left\"\n                  placeholder=\"First Name\"\n                  value={this.state.firstName}\n                />\n                <Form.Input\n                  // ref={this.lastNameField}\n                  onChange={this.handleLastNameChange}\n                  name=\"last_name\"\n                  fluid\n                  icon=\"user\"\n                  iconPosition=\"left\"\n                  placeholder=\"Last Name\"\n                  value={this.state.lastName}\n                />\n                <Form.Input\n                  // ref={this.passwordField}\n                  onChange={this.handlePasswordChange}\n                  name=\"password\"\n                  fluid\n                  icon=\"lock\"\n                  iconPosition=\"left\"\n                  placeholder=\"Password\"\n                  type=\"password\"\n                  value={this.state.password}\n                />\n                <Button fluid size=\"large\" onClick={this.submit}>\n                  Register\n                </Button>\n              </Segment>\n            </Form>\n            <Message>\n              Have an existing account? <Link to=\"/login\">Log In</Link>\n            </Message>\n            <Message className=\"google\">\n              <Icon name=\"google\"></Icon>\n              <a href=\"/auth/google\">Log in with Google</a>\n            </Message>\n          </Grid.Column>\n        </React.Fragment>\n      );\n    } else {\n      return (\n        <React.Fragment>\n          <Grid.Column style={{ maxWidth: 450, margin: '0 auto' }} width={6}>\n            <Header as=\"h2\" textAlign=\"center\">\n              Register\n            </Header>\n            {this.state.message ? (\n              <Message success>{this.state.message}</Message>\n            ) : null}\n            {this.state.error ? (\n              <Message negative>{this.state.error}</Message>\n            ) : null}\n            <Form size=\"large\">\n              <Segment>\n                <Form.Input\n                  // ref={this.emailField}\n                  onChange={this.handleEmailChange}\n                  name=\"email\"\n                  fluid\n                  icon=\"envelope\"\n                  iconPosition=\"left\"\n                  placeholder=\"E-mail address\"\n                  value={this.state.email}\n                />\n                <Form.Input\n                  // ref={this.firstNameField}\n                  onChange={this.handleFirstNameChange}\n                  name=\"first_name\"\n                  fluid\n                  icon=\"user\"\n                  iconPosition=\"left\"\n                  placeholder=\"First Name\"\n                  value={this.state.firstName}\n                />\n                <Form.Input\n                  // ref={this.lastNameField}\n                  onChange={this.handleLastNameChange}\n                  name=\"last_name\"\n                  fluid\n                  icon=\"user\"\n                  iconPosition=\"left\"\n                  placeholder=\"Last Name\"\n                  value={this.state.lastName}\n                />\n                <Form.Input\n                  // ref={this.passwordField}\n                  onChange={this.handlePasswordChange}\n                  name=\"password\"\n                  fluid\n                  icon=\"lock\"\n                  iconPosition=\"left\"\n                  placeholder=\"Password\"\n                  type=\"password\"\n                  value={this.state.password}\n                />\n                <Button fluid size=\"large\" onClick={this.submit}>\n                  Register\n                </Button>\n              </Segment>\n            </Form>\n            <Message>\n              Have an existing account? <Link to=\"/login\">Log In</Link>\n            </Message>\n            <Message className=\"google\">\n              <Icon name=\"google\"></Icon>\n              <a href=\"/auth/google\">Log in with Google</a>\n            </Message>\n          </Grid.Column>\n        </React.Fragment>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = state => {\n  return { auth: state.auth, app: state.app };\n};\n\nexport default connect(mapStateToProps, actions)(RegisterScreen);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\nimport axios from 'axios';\n\nimport { List } from 'semantic-ui-react';\nimport Loader from './Loader';\n\nclass Roadmap extends React.Component {\n  state = { tasks: [], isLoaded: false };\n\n  componentDidMount = async () => {\n    const response = await axios.get(\n      'https://cors-anywhere.herokuapp.com/https://api.clickup.com/api/v2/list/4468011/task?archived=false',\n      {\n        headers: {\n          Authorization: 'pk_1396952_O7MIIPVUVX61LR5RI673TM2OMSCQ3WPB'\n        }\n      }\n    );\n    const tasks = response.data.tasks;\n    this.setState({ tasks, isLoaded: true });\n  };\n  render() {\n    return this.state.isLoaded ? (\n      <List>\n        {this.state.tasks.map((task, index) => {\n          return (\n            <List.Item key={index} style={{ margin: '1rem 0' }}>\n              <List.Content>\n                <List.Header>{task.name}</List.Header>\n                <List.Description>{task.text_content}</List.Description>\n              </List.Content>\n            </List.Item>\n          );\n        })}\n      </List>\n    ) : (\n      <Loader></Loader>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    app: state.app\n  };\n};\n\nexport default connect(mapStateToProps, actions)(Roadmap);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\nimport * as utils from '../utils';\n\nimport { Button, Modal, Message, Form, Segment } from 'semantic-ui-react';\n\nimport Roadmap from './Roadmap';\n\nclass Profile extends React.Component {\n  state = {\n    logins: [],\n    editingPassword: false,\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: ''\n  };\n\n  componentDidMount = async () => {\n    const logins = await utils.getLogins(this.props.auth.id);\n    this.setState({ logins: logins.response });\n  };\n\n  changePassword = () => {\n    this.setState({ editingPassword: !this.state.editingPassword });\n  };\n\n  submitPasswordChange = async () => {\n    if (this.state.confirmPassword === this.state.newPassword) {\n      const response = await utils.submitNewPassword(\n        null,\n        this.state.newPassword,\n        this.props.auth.id,\n        this.state.currentPassword\n      );\n      if (response.success) {\n        this.setState({ success: true, message: 'Password reset' });\n      } else {\n        this.setState({ success: false, message: response.message });\n      }\n    } else {\n      this.setState({ message: 'Passwords do not match' });\n    }\n  };\n\n  handleCurrentPasswordChange = event => {\n    this.setState({ currentPassword: event.target.value });\n  };\n\n  handleNewPasswordChange = event => {\n    this.setState({ newPassword: event.target.value });\n  };\n\n  handleConfirmPasswordChange = event => {\n    this.setState({ confirmPassword: event.target.value });\n  };\n\n  deleteAccount = () => {\n    this.props.history.push('/api/logout');\n    utils.deleteUserAccount(this.props.auth.id);\n  };\n\n  render() {\n    return (\n      <div>\n        <div style={{}}>\n          <h2>\n            {this.props.auth.first_name} {this.props.auth.last_name}\n          </h2>\n\n          <div>\n            <p>\n              { this.props.auth.email }\n              <br></br>\n              <em>User since { (new Date(this.props.auth.create_date)).toLocaleDateString() }</em>\n            </p>\n          </div>\n\n          <Modal\n            trigger={<Button>All logins</Button>}\n            header=\"Logins\"\n            actions={[{ key: 'done', content: 'Done', positive: true }]}>\n            <Modal.Content scrolling>\n              <ul>\n                {this.state.logins.map((login, index) => {\n                  return (\n                    <li key={index}>\n                      {new Date(login.timestamp * 1000).toLocaleString()}\n                    </li>\n                  );\n                })}\n              </ul>\n            </Modal.Content>\n          </Modal>\n          <Modal\n            trigger={<Button>Roadmap</Button>}\n            actions={[{ key: 'done', content: 'Done', positive: true }]}>\n            <Modal.Header>To Do</Modal.Header>\n            <Modal.Content scrolling>\n              <div style={{ padding: '15px' }}>\n                <Roadmap></Roadmap>\n              </div>\n            </Modal.Content>\n          </Modal>\n\n          {this.props.auth.service_id ? null : (\n            <Button onClick={this.changePassword}>Change Password</Button>\n          )}\n        </div>\n        {this.state.editingPassword ? (\n          <Segment style={{ maxWidth: '382px' }}>\n            <Form>\n              {this.state.message ? (\n                <Message\n                  negative={this.state.success ? false : true}\n                  positive={this.state.success ? true : false}>\n                  {this.state.message}\n                </Message>\n              ) : null}\n              <Form.Input\n                type=\"password\"\n                value={this.state.currentPassword}\n                onChange={this.handleCurrentPasswordChange}\n                placeholder=\"Current password\"></Form.Input>\n              <Form.Input\n                type=\"password\"\n                value={this.state.newPassword}\n                onChange={this.handleNewPasswordChange}\n                placeholder=\"New password\"></Form.Input>\n              <Form.Input\n                type=\"password\"\n                value={this.state.confirmPassword}\n                onChange={this.handleConfirmPasswordChange}\n                placeholder=\"Confirm new password\"></Form.Input>\n              <Button onClick={this.submitPasswordChange}>Submit</Button>\n            </Form>\n          </Segment>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth,\n    app: state.app\n  };\n};\n\nexport default connect(mapStateToProps, actions)(Profile);\n","import React from 'react';\nimport {\n  Grid,\n  Header,\n  Form,\n  Segment,\n  Button,\n  Message\n} from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport * as utils from '../utils'\n\nexport default class ForgotPassword extends React.Component {\n\n  state = {\n    email: '',\n    error: false,\n    message: '',\n    info: false\n  };\n\n  handleEmailChange = event => {\n    this.setState({ email: event.target.value });\n  };\n\n  submit = async () => {\n    const response = await utils.resetPassword(this.state.email, window.location.origin);\n    this.setState({info: true, error: response.error, message: response.message})\n  };\n\n  render = () => {\n    if (this.props.mobile) {\n      return (\n        <React.Fragment>\n\n          <Grid.Column width={16}>\n            <Header as=\"h2\" textAlign=\"center\">\n              Reset Password\n            </Header>\n            <h4 className=\"error\">\n              {this.state.info ? (\n                <Message positive={this.state.error ? false : true} negative={this.state.error ? true : false}>{this.state.message}</Message>\n              ) : null}\n            </h4>\n            <Form size=\"large\">\n              <Segment>\n                <Form.Input\n                  name=\"email\"\n                  fluid\n                  icon=\"user\"\n                  iconPosition=\"left\"\n                  placeholder=\"E-mail address\"\n                  onChange={this.handleEmailChange}\n                  value={this.state.email}\n                />\n  \n                <Button fluid size=\"large\" onClick={this.submit}>\n                  Submit\n                </Button>\n              </Segment>\n            </Form>\n            <Message>\n              New? <Link to=\"/register\">Sign Up</Link>\n            </Message>\n            <Message>\n              <Link to=\"/login\">Log in</Link>\n            </Message>\n          </Grid.Column>\n\n        </React.Fragment>\n      );\n    } else {\n      return (\n        <React.Fragment>\n          <Grid.Column width={5}></Grid.Column>\n          <Grid.Column style={{ maxWidth: 450, margin: '0 auto' }} width={6}>\n            <Header as=\"h2\" textAlign=\"center\">\n              Reset Password\n            </Header>\n            <h4 className=\"error\">\n              {this.state.info ? (\n                <Message positive={this.state.error ? false : true} negative={this.state.error ? true : false}>{this.state.message}</Message>\n              ) : null}\n            </h4>\n            <Form size=\"large\">\n              <Segment>\n                <Form.Input\n                  name=\"email\"\n                  fluid\n                  icon=\"user\"\n                  iconPosition=\"left\"\n                  placeholder=\"E-mail address\"\n                  onChange={this.handleEmailChange}\n                  value={this.state.email}\n                />\n  \n                <Button fluid size=\"large\" onClick={this.submit}>\n                  Submit\n                </Button>\n              </Segment>\n            </Form>\n            <Message>\n              New? <Link to=\"/register\">Sign Up</Link>\n            </Message>\n            <Message>\n              <Link to=\"/login\">Log in</Link>\n            </Message>\n          </Grid.Column>\n          <Grid.Column width={5}></Grid.Column>\n        </React.Fragment>\n      );\n    }\n    \n  };\n}\n","import React from 'react';\nimport {\n  Grid,\n  Header,\n  Form,\n  Segment,\n  Button,\n  Message\n} from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport * as utils from '../utils';\n\nexport default class ResetPassword extends React.Component {\n  state = {\n    password: '',\n    confirmPassword: '',\n    info: false,\n    error: false,\n    token: '',\n    message: '',\n    userId: null\n  };\n\n  handlePasswordChange = event => {\n    this.setState({ password: event.target.value });\n  };\n\n  handleConfirmPasswordChange = event => {\n    this.setState({ confirmPassword: event.target.value });\n  };\n\n  submit = async () => {\n    if (this.state.password === this.state.confirmPassword) {\n      const response = await utils.submitNewPassword(\n        this.state.token,\n        this.state.password,\n        this.state.userId\n      );\n      if (response.error) {\n        this.setState({ info: true, error: true, message: response.message });\n      } else {\n        this.setState({ info: true, error: false, message: response.message });\n        setTimeout(() => this.props.history.push('/login'), 1500);\n      }\n    } else {\n      this.setState({\n        message: 'Passwords do not match',\n        info: true,\n        error: true\n      });\n    }\n  };\n\n  componentDidMount = async () => {\n    console.log(this.props)\n    const { token } = this.props.match.params;\n  \n    this.setState({ token });\n    const response = await utils.checkToken(token);\n\n    if (response.success) {\n      this.setState({ valid: true, userId: response.user.id });\n    } else\n      this.setState({\n        valid: false,\n        info: true,\n        error: true,\n        message: response.message\n      });\n  };\n\n  render = () => {\n    if (this.props.mobile) {\n      return (\n        <React.Fragment>\n\n          <Grid.Column width={16}>\n            <Header as=\"h2\" textAlign=\"center\">\n              Reset Password\n            </Header>\n            <h4 className=\"error\">\n              {this.state.info ? (\n                <Message negative={this.state.error ? true : false}>\n                  {this.state.message}\n                </Message>\n              ) : null}\n            </h4>\n            {this.state.valid ? (\n              <Form size=\"large\">\n                <Segment>\n                  <Form.Input\n                    name=\"password\"\n                    fluid\n                    icon=\"lock\"\n                    iconPosition=\"left\"\n                    type=\"password\"\n                    placeholder=\"New password\"\n                    onChange={this.handlePasswordChange}\n                    value={this.state.password}\n                  />\n                  <Form.Input\n                    name=\"password\"\n                    fluid\n                    icon=\"lock\"\n                    iconPosition=\"left\"\n                    type=\"password\"\n                    placeholder=\"Confirm new password\"\n                    onChange={this.handleConfirmPasswordChange}\n                    value={this.state.confirmPassword}\n                  />\n                  <Button fluid size=\"large\" onClick={this.submit}>\n                    Submit\n                  </Button>\n                </Segment>\n              </Form>\n            ) : null}\n  \n            <Message>\n              <Link to=\"/login\">Log in</Link>\n            </Message>\n          </Grid.Column>\n\n        </React.Fragment>\n      );\n    } else {\n      return (\n        <React.Fragment>\n        <Grid.Column width={5}></Grid.Column>\n          <Grid.Column style={{ maxWidth: 450, margin: '0 auto' }} width={6}>\n            <Header as=\"h2\" textAlign=\"center\">\n              Reset Password\n            </Header>\n            <h4 className=\"error\">\n              {this.state.info ? (\n                <Message negative={this.state.error ? true : false}>\n                  {this.state.message}\n                </Message>\n              ) : null}\n            </h4>\n            {this.state.valid ? (\n              <Form size=\"large\">\n                <Segment>\n                  <Form.Input\n                    name=\"password\"\n                    fluid\n                    icon=\"lock\"\n                    iconPosition=\"left\"\n                    type=\"password\"\n                    placeholder=\"New password\"\n                    onChange={this.handlePasswordChange}\n                    value={this.state.password}\n                  />\n                  <Form.Input\n                    name=\"password\"\n                    fluid\n                    icon=\"lock\"\n                    iconPosition=\"left\"\n                    type=\"password\"\n                    placeholder=\"Confirm new password\"\n                    onChange={this.handleConfirmPasswordChange}\n                    value={this.state.confirmPassword}\n                  />\n                  <Button fluid size=\"large\" onClick={this.submit}>\n                    Submit\n                  </Button>\n                </Segment>\n              </Form>\n            ) : null}\n  \n            <Message>\n              <Link to=\"/login\">Log in</Link>\n            </Message>\n          </Grid.Column>\n          <Grid.Column width={5}></Grid.Column>\n        </React.Fragment>\n      );\n    }\n    \n  };\n}\n","import { Route, Switch } from 'react-router-dom';\nimport React from 'react';\n\nimport history from '../history';\n\nimport Student from './Student/Student';\nimport Creator from './Creator/Creator';\n\nimport LoginScreen from './LoginScreen';\nimport RegisterScreen from './RegisterScreen';\nimport Profile from './Profile';\nimport Roadmap from './Roadmap';\nimport ForgotPassword from './ForgotPassword';\nimport ResetPassword from './ResetPassword';\n\nconst Routes = props => {\n  if (props.auth) {\n    return (\n      <div className=\"app-base\">\n        <Switch>\n          <Route path=\"/creator\" component={Creator}></Route>\n          <Route path=\"/student\" component={Student}></Route>\n          <Route path=\"/home\" component={Student}></Route>\n          <Route path=\"/profile\" component={Profile}></Route>\n          <Route path=\"/\" exact component={Student}></Route>\n          <Route path=\"/roadmap\" exact component={Roadmap}></Route>\n          <Route\n          path=\"/reset/:token\"\n          children={({ match }) => (\n            <ResetPassword\n              history={history}\n              mobile={props.mobile}\n              match={match}></ResetPassword>\n          )}></Route>\n          <Route\n            path=\"/test\"\n            exact\n            component={() => {\n              return (\n                <div>\n                  <h1>Hello</h1>\n                  <p>This is the beginning of a new blog post.</p>\n                </div>\n              );\n            }}></Route>\n        </Switch>\n      </div>\n    );\n  } else {\n    return (\n      //NOT LOGGED IN ROUTES\n      <Switch>\n        <Route path=\"/login\" exact>\n          <LoginScreen\n            auth={props.auth}\n            history={history}\n            mobile={props.mobile}></LoginScreen>\n        </Route>\n        <Route path=\"/register\" exact>\n          <RegisterScreen\n            history={history}\n            mobile={props.mobile}></RegisterScreen>\n        </Route>\n        <Route path=\"/\" exact>\n          <LoginScreen\n            auth={props.auth}\n            history={history}\n            mobile={props.mobile}></LoginScreen>\n        </Route>\n        <Route path=\"/roadmap\" exact component={Roadmap}></Route>\n        <Route path=\"/forgot\" exact>\n          <ForgotPassword\n            history={history}\n            mobile={props.mobile}></ForgotPassword>\n        </Route>\n        <Route\n          path=\"/reset/:token\"\n          children={({ match }) => (\n            <ResetPassword\n              history={history}\n              mobile={props.mobile}\n              match={match}></ResetPassword>\n          )}></Route>\n      </Switch>\n    );\n  }\n};\n\nexport default Routes;\n","import React from 'react';\n\nimport * as actions from '../actions';\nimport { Router } from 'react-router-dom';\nimport history from '../history';\nimport { connect } from 'react-redux';\nimport Menu from './Menu';\nimport { Grid, Container, Responsive, Icon } from 'semantic-ui-react';\nimport './app.css';\nimport FullStory, { FullStoryAPI } from 'react-fullstory';\n\nimport Loader from './Loader';\nimport Routes from './Routes';\n\nclass ScrollToTop extends React.Component {\n  componentDidUpdate(prevProps) {\n    if (this.props.location.pathname !== prevProps.location.pathname) {\n      window.scrollTo(0, 0);\n    }\n  }\n\n  render() {\n    return null;\n  }\n}\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // You can also log the error to an error reporting service\n    console.error(error, errorInfo);\n    this.setState({hasError: true})\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return (\n        <div className=\"warning\">\n          <h2>Something has gone wrong.</h2>\n          <p>\n            Please refresh the page. If you continue to see this please contact\n            Support.\n          </p>\n          <a\n            href=\"mailto:support@gllghr.io\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            style={{ color: '#fff', textDecoration: 'none' }}>\n            <Icon name=\"mail\"></Icon>support@{window.location.host}\n          </a>\n        </div>\n      );\n    }\n    return this.props.children;\n  }\n}\n\nclass App extends React.Component {\n  state = {\n    authLoaded: false\n  };\n\n  componentDidMount = async () => {\n    await this.props.fetchUser();\n    this.setState({ authLoaded: true });\n\n    if (this.props.auth) {\n      FullStoryAPI('identify', this.props.auth.id, {\n        displayName:\n          this.props.auth.first_name + ' ' + this.props.auth.last_name,\n        email: this.props.auth.email\n      });\n    }\n  };\n\n  render() {\n    return (\n      <ErrorBoundary>\n        <Router history={history}>\n          <ScrollToTop location={ history.location}/>\n          <FullStory org=\"H1N0D\"></FullStory>\n          <Responsive minWidth={768}>\n            {this.props.auth ? <Menu history={history} /> : null}\n            <div className={this.props.auth ? 'base' : 'base-login'}>\n              <Grid columns={16} stackable>\n                {this.state.authLoaded ? (\n                  <Routes auth={this.props.auth} {...this.props}></Routes>\n                ) : (\n                  <Loader></Loader>\n                )}\n              </Grid>\n            </div>\n          </Responsive>\n          <Responsive maxWidth={768}>\n            {this.props.auth ? (\n              <Menu history={history} device=\"mobile\" />\n            ) : null}\n            <Container\n              className={this.props.auth ? 'mobile-base' : 'mobile-base-login'}>\n              <Grid columns={16} stackable>\n                {this.state.authLoaded ? (\n                  <Routes\n                    auth={this.props.auth}\n                    {...this.props}\n                    mobile={true}></Routes>\n                ) : (\n                  <Loader></Loader>\n                )}\n              </Grid>\n            </Container>\n          </Responsive>\n        </Router>\n      </ErrorBoundary>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return { auth: state.auth, app: state.app };\n};\n\nexport default connect(mapStateToProps, actions)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport reduxThunk from 'redux-thunk';\nimport { Provider } from 'react-redux';\nimport * as Sentry from '@sentry/browser';\n\nimport reducers from './reducers';\n\nimport App from './components/App';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n\nconst store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(reduxThunk))\n);\n\n//only log client errors to Sentry in production\nif (!window.location.hostname === 'localhost') {\n  Sentry.init({dsn: \"https://5e64d4e6c3fe4941b5ec0e23263d760e@sentry.io/1880615\"});\n}\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector('#root')\n);\n"],"sourceRoot":""}