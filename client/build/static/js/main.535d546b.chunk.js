(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{377:function(e,t,a){e.exports=a(695)},694:function(e,t,a){},695:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"resetForm",function(){return k}),a.d(n,"fetchUser",function(){return x}),a.d(n,"fetchCourses",function(){return _}),a.d(n,"fetchAllCourses",function(){return L}),a.d(n,"fetchSymbols",function(){return D}),a.d(n,"textToSpeech",function(){return I}),a.d(n,"addCourse",function(){return M}),a.d(n,"getCourse",function(){return A}),a.d(n,"deleteCourse",function(){return T}),a.d(n,"clearCourse",function(){return N}),a.d(n,"addSymbol",function(){return R}),a.d(n,"getSymbol",function(){return P}),a.d(n,"fetchStartedCourses",function(){return F}),a.d(n,"clearSymbol",function(){return H}),a.d(n,"switchMode",function(){return U}),a.d(n,"setCreatorMode",function(){return B}),a.d(n,"setStudentMode",function(){return G}),a.d(n,"addSymbolImage",function(){return q}),a.d(n,"clearSymbolImages",function(){return V}),a.d(n,"editCourse",function(){return z});var r=a(0),o=a.n(r),s=a(59),c=a.n(s),l=a(43),i=a(332),u=a(15),p=a(54),m=a(28),d=a(33),h={coursesTable:[],coursesTableStudent:[],course:{},lessons:[],symbolsTable:[],symbol:{},symbolImages:[],creatorMode:!1},f=Object(l.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER":return t.payload||!1;default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_COURSES":return Object(m.a)({},e,{coursesTable:t.payload})||!1;case"FETCH_ALL_COURSES":return Object(m.a)({},e,{coursesTableStudent:t.payload})||!1;case"ADD_COURSE":return Object(m.a)({},e,{coursesTable:[].concat(Object(p.a)(e.coursesTable),[t.payload])})||!1;case"GET_COURSE":return Object(m.a)({},e,{course:t.payload})||!1;case"DELETE_COURSE":return Object(m.a)({},e,{coursesTable:[].concat(Object(p.a)(e.coursesTable.slice(0,t.payload.index)),Object(p.a)(e.coursesTable.slice(t.payload.index+1)))});case"CLEAR_COURSE":return Object(m.a)({},e,{course:t.payload})||!1;case"FETCH_SYMBOLS":return Object(m.a)({},e,{symbolsTable:t.payload})||!1;case"ADD_SYMBOL":return Object(m.a)({},e,{symbolsTable:[].concat(Object(p.a)(e.symbolsTable),[t.payload])})||!1;case"GET_SYMBOL":return Object(m.a)({},e,{symbol:t.payload})||!1;case"CLEAR_SYMBOL":return Object(m.a)({},e,{symbolsTable:[],symbol:{}})||!1;case"TOGGLE_MODE":return Object(m.a)({},e,{creatorMode:!e.creatorMode})||!1;case"ADD_SYMBOL_IMAGE":return Object(m.a)({},e,{symbolImages:[].concat(Object(p.a)(e.symbolImages),[t.payload])});case"CLEAR_SYMBOL_IMAGES":return Object(m.a)({},e,{symbolImages:[]});case"SET_STUDENT_MODE":return Object(m.a)({},e,{creatorMode:!1});case"SET_CREATOR_MODE":return Object(m.a)({},e,{creatorMode:!0});case"GET_STARTED_COURSES":return Object(m.a)({},e,{startedCourses:t.payload});default:return e}},forms:Object(d.combineForms)({course:{language:"english",difficulty:"novice"},symbol:{},lesson:{}},"forms")}),b=a(8),E=a.n(b),g=a(16),y=a(10),v=a(11),O=a(13),w=a(12),C=a(14),j=a(27),S=a.n(j),k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){a(d.actions.change(e,t))}},x=function(){return function(){var e=Object(g.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/current_user");case 2:return a=e.sent,t({type:"FETCH_USER",payload:a.data}),e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},_=function(){return function(){var e=Object(g.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/courses");case 2:return a=e.sent,t({type:"FETCH_COURSES",payload:a.data}),e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},L=function(){return function(){var e=Object(g.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/allcourses");case 2:return a=e.sent,t({type:"FETCH_ALL_COURSES",payload:a.data}),e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},D=function(e){return function(){var t=Object(g.a)(E.a.mark(function t(a){var n;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get("/api/symbols/".concat(e));case 2:return n=t.sent,a({type:"FETCH_SYMBOLS",payload:n.data}),t.abrupt("return",n.data);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},I=function(){return function(){var e=Object(g.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/texttospeech",{text:"".concat(new Date(Date.now()).toString())});case 2:return a=e.sent,t({type:"TEXT_TO_SPEECH",payload:a.data}),e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},M=function(e){return function(){var t=Object(g.a)(E.a.mark(function t(a){var n;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.post("/api/courses",{title:e.title,language:e.language,description:e.description,difficulty:e.difficulty,owner_id:e.owner_id});case 2:return n=t.sent,a({type:"ADD_COURSE",payload:n.data}),t.abrupt("return",n.data);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(g.a)(E.a.mark(function t(a){var n;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.post("/api/course",{id:e});case 2:n=t.sent,a({type:"GET_COURSE",payload:n.data});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},T=function(e,t){return function(){var a=Object(g.a)(E.a.mark(function a(n){var r;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,S.a.delete("/api/course/".concat(e));case 2:return r=a.sent,n({type:"DELETE_COURSE",payload:Object(m.a)({},r.data,{id:e,index:t})}),a.abrupt("return",r.data);case 5:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},N=function(){return function(){var e=Object(g.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_COURSE",payload:null});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},R=function(e){return function(){var t=Object(g.a)(E.a.mark(function t(a){var n;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.post("/api/symbols",{owner_id:e.owner_id,course_id:e.course_id,text:e.text,audio_url:e.audio_url,language:e.language,images:e.images});case 2:return n=t.sent,a({type:"ADD_SYMBOL",payload:n.data}),t.abrupt("return",n.data);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(g.a)(E.a.mark(function t(a){var n;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get("/api/symbol/".concat(e));case 2:return n=t.sent,a({type:"GET_SYMBOL",payload:n.data}),t.abrupt("return",n.data);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},F=function(e){return function(){var t=Object(g.a)(E.a.mark(function t(a){var n;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get("/api/users_courses/".concat(e));case 2:return n=t.sent,a({type:"GET_STARTED_COURSES",payload:n.data.response}),t.abrupt("return",n.data.response);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},H=function(){return function(){var e=Object(g.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_SYMBOL",payload:null});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},U=function(){return{type:"TOGGLE_MODE",payload:null}},B=function(){return{type:"SET_CREATOR_MODE",payload:null}},G=function(){return{type:"SET_STUDENT_MODE",payload:null}},q=function(e){return{type:"ADD_SYMBOL_IMAGE",payload:e}},V=function(){return{type:"CLEAR_SYMBOL_IMAGES",payload:null}},z=function(e){return function(){var t=Object(g.a)(E.a.mark(function t(a){var n;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.put("/api/course",e);case 2:n=t.sent,a({type:"EDIT_COURSE",payload:n.data});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},Y=a(83),W=a(710),X=a(82),J=a(29),Q=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return o.a.createElement(W.a,{style:{width:"100%"}},o.a.createElement(W.a.Content,null,o.a.createElement(W.a.Header,null,this.props.auth?"".concat(this.props.auth.first_name," ").concat(this.props.auth.last_name):null),o.a.createElement(J.a,{to:"/profile"},"View Profile")),o.a.createElement(W.a.Content,{extra:!0},o.a.createElement(X.a,{name:"book"}),this.props.app?this.props.app.coursesTable.length:null," Courses"))}}]),t}(o.a.Component),K=Object(u.connect)(function(e){return{auth:e.auth,app:e.app}},n)(Q),Z=a(707),$=a(702),ee=(0,a(51).createBrowserHistory)(),te=a(712),ae=a(706),ne=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},a.handleClose=function(){a.setState({isOpen:!1})},a.handleOpen=function(){a.setState({isOpen:!0})},a.componentDidMount=function(){if(!a.props.recordType||!a.props.deleteFunction||!a.props.recordId||!a.props.index)throw Error("Missing a required prop provided to ConfirmDelete component")},a.content=function(){var e=a.props,t=e.recordId,n=e.index,r=e.recordType;e.deleteFunction;return o.a.createElement("div",null,o.a.createElement("p",null,"Are you sure you want to permanently delete this ",r,"?"),o.a.createElement(te.a,{color:"red",content:"Delete",size:"tiny",onClick:function(){return a.props.deleteFunction(t,n,a.props.auth.id)}}),o.a.createElement(te.a,{color:"grey",content:"Cancel",size:"tiny",onClick:a.handleClose}))},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return o.a.createElement(ae.a,{open:this.state.isOpen,onOpen:this.handleOpen,onClose:this.handleClose,content:this.content,trigger:this.props.trigger,on:"click"})}}]),t}(o.a.Component),re=Object(u.connect)(function(e){return{auth:e.auth,app:e.app}},n)(ne),oe=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).handleNav=function(e){ee.push("student/course/".concat(e))},a.handleCreatorNav=function(e){ee.push("/creator/course/".concat(e))},a.renderStudentTable=function(){return o.a.createElement(Z.a,{celled:!0,singleLine:!0,sortable:!0,compact:!0},o.a.createElement(Z.a.Header,null,o.a.createElement(Z.a.Row,null,o.a.createElement(Z.a.HeaderCell,null,"Course"),o.a.createElement(Z.a.HeaderCell,null,"Owner"),o.a.createElement(Z.a.HeaderCell,null,"Create Date"))),o.a.createElement(Z.a.Body,null,a.props.app&&a.props.app.coursesTableStudent?a.props.app.coursesTableStudent.map(function(e,t){return o.a.createElement(Z.a.Row,{key:t,onClick:function(){return a.handleNav(e.id)}},o.a.createElement(Z.a.Cell,null,e.title),o.a.createElement(Z.a.Cell,null,e.first_name," ",e.last_name),o.a.createElement(Z.a.Cell,null,new Date(1e3*e.create_date).toLocaleString()))}):null))},a.deleteCourse=function(){var e=Object(g.a)(E.a.mark(function e(t,n,r){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.deleteCourse(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),a.renderCreatorTable=function(){return o.a.createElement(Z.a,{celled:!0,singleLine:!0,sortable:!0,compact:!0,basic:!0},o.a.createElement(Z.a.Header,null,o.a.createElement(Z.a.Row,null,o.a.createElement(Z.a.HeaderCell,null,"Course"),o.a.createElement(Z.a.HeaderCell,null,"Owner"),o.a.createElement(Z.a.HeaderCell,null,"Create Date"),o.a.createElement(Z.a.HeaderCell,null,"Delete"))),o.a.createElement(Z.a.Body,null,a.props.app&&a.props.app.coursesTable?a.props.app.coursesTable.map(function(e,t){return o.a.createElement(Z.a.Row,{key:t},o.a.createElement(Z.a.Cell,{onClick:function(){return a.handleCreatorNav(e.course_id)}},e.title),o.a.createElement(Z.a.Cell,{onClick:function(){return a.handleCreatorNav(e.course_id)}},e.first_name," ",e.last_name),o.a.createElement(Z.a.Cell,{onClick:function(){return a.handleCreatorNav(e.course_id)}},new Date(1e3*e.create_date).toLocaleString()),o.a.createElement(re,{trigger:o.a.createElement(Z.a.Cell,null,o.a.createElement(X.a,{name:"delete",style:{color:"red"}})),on:"click",position:"top center",recordId:e.course_id,index:t,recordType:"course",deleteFunction:a.deleteCourse}))}):o.a.createElement($.a,{active:!0})))},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchCourses(),this.props.fetchAllCourses()}},{key:"render",value:function(){return this.props.app.creatorMode?this.renderCreatorTable():this.renderStudentTable()}}]),t}(o.a.Component),se=Object(u.connect)(function(e){return{auth:e.auth,app:e.app}},n)(oe),ce=a(717),le=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.setStudentMode()}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(ce.a.Column,{width:16},o.a.createElement("h2",null,"Available Courses"),o.a.createElement(se,{renderLocation:this.props.match.url})))}}]),t}(o.a.Component),ie=Object(u.connect)(function(e){return{auth:e.auth}},n)(le),ue=function(){var e=Object(g.a)(E.a.mark(function e(t,a){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/course",{id:t,userId:a});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),pe=function(){var e=Object(g.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/lesson/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(g.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/symbols/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(g.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/lessons/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(g.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/symbolsbylesson/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(g.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.put("/api/course",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(g.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/lessons",{lesson:t});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(g.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.delete("/api/lessons/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(g.a)(E.a.mark(function e(t,a){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/users_courses",{userId:t,courseId:a});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),ye=function(){var e=Object(g.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/randomImages/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(g.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.delete("/api/users/".concat(t));case 3:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(g.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("/api/logins/".concat(t));case 3:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),we=function(){return o.a.createElement($.a,{active:!0,size:"huge",style:{position:"fixed",top:"50%",left:"60%"}},"Loading")},Ce=a(715),je=a(368),Se=a(176),ke=a(716),xe=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),o=Object(je.a)(r,1)[0];return n.splice(a,0,o),n},_e=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={lessons:a.props.lessons},a.onDragEnd=function(){var e=Object(g.a)(E.a.mark(function e(t){var n,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.destination){e.next=2;break}return e.abrupt("return");case 2:n=xe(a.state.lessons,t.source.index,t.destination.index),a.setState({lessons:n}),r=n.map(function(e){return e.id}).toString(),fe({title:a.props.course.title,language:a.props.course.language,description:a.props.course.description,difficulty:a.props.course.difficulty,owner_id:a.props.course.owner_id,id:a.props.course.id,lessonsOrder:r});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getItemStyle=function(e,t){return Object(m.a)({background:e&&"lightblue",display:e&&"table",borderRadius:"5px"},t)},a.deleteLesson=function(){var e=Object(g.a)(E.a.mark(function e(t,n,r){var o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee(t);case 2:(o=Object(p.a)(a.state.lessons)).splice(n,1),a.setState({lessons:o});case 5:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.lessons!==e.lessons&&this.setState({lessons:this.props.lessons})}},{key:"render",value:function(){var e=this;return o.a.createElement(Se.a,{onDragEnd:this.onDragEnd,onDragStart:this.onDragStart},o.a.createElement(Z.a,{celled:!0,singleLine:!0,compact:!0},o.a.createElement(Z.a.Header,null,o.a.createElement(Z.a.Row,null,o.a.createElement(Z.a.HeaderCell,null,"Title"),o.a.createElement(Z.a.HeaderCell,null,"Categories"),o.a.createElement(Z.a.HeaderCell,null,"# Symbols"),o.a.createElement(Z.a.HeaderCell,null,"Create Date"),"creator"===this.props.mode?o.a.createElement(Z.a.HeaderCell,null,"Delete"):o.a.createElement(Z.a.HeaderCell,null,"Begin"))),o.a.createElement(Se.c,{droppableId:"table"},function(t,a){return o.a.createElement(ke.a,{innerRef:t.innerRef},o.a.createElement(Z.a.Body,Object.assign({},t.droppableProps,{id:"table-body"}),e.state.lessons&&e.state.lessons.map(function(t,a){return o.a.createElement(Se.b,{isDragDisabled:"creator"!==e.props.mode,draggableId:t.id,index:a,key:t.id},function(a,n){return o.a.createElement(ke.a,{innerRef:a.innerRef},o.a.createElement(Z.a.Row,Object.assign({},a.draggableProps,a.dragHandleProps,{style:e.getItemStyle(n.isDragging,a.draggableProps.style)}),o.a.createElement(Z.a.Cell,{style:{width:"30%"}},t.title),o.a.createElement(Z.a.Cell,{style:{width:"15%"}},t.categories?t.categories:""),o.a.createElement(Z.a.Cell,{style:{width:"15%"}},t.symbols?t.symbols.length:""),o.a.createElement(Z.a.Cell,{style:{width:"30%"}},new Date(1e3*t.create_date).toLocaleString()),"creator"===e.props.mode?o.a.createElement(re,{deleteFunction:e.deleteLesson,recordId:t.id,recordType:"lesson",on:"click",position:"top center",trigger:o.a.createElement(Z.a.Cell,{style:{width:"10%"}},o.a.createElement(X.a,{name:"delete",style:{color:"red"}}))}):o.a.createElement(Z.a.Cell,{style:{width:"10%"}},o.a.createElement(J.a,{to:"".concat(e.props.location,"/lesson/").concat(t.id)},"Begin"))))})}),t.placeholder))})))}}]),t}(o.a.Component),Le=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return o.a.createElement(_e,{symbols:this.props.symbols,mode:this.props.mode,location:this.props.location,lessons:this.props.lessons,course:this.props.course})}}]),t}(o.a.Component),De=Object(u.connect)(function(e){return{auth:e.auth,app:e.app}},n)(Le),Ie=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).handleNav=function(e){ee.push("/student/symbol/".concat(e))},a.handleCreatorNav=function(e){ee.push("/creator/symbol/".concat(e))},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"renderStudentTable",value:function(){var e=this;return o.a.createElement(Z.a,{compact:!0,celled:!0,singleLine:!0,sortable:!0},o.a.createElement(Z.a.Header,null,o.a.createElement(Z.a.Row,null,o.a.createElement(Z.a.HeaderCell,null,"ID"),o.a.createElement(Z.a.HeaderCell,null,"Text"),o.a.createElement(Z.a.HeaderCell,null,"Create Date"))),o.a.createElement(Z.a.Body,null,this.props.symbols.map(function(t,a){return o.a.createElement(Z.a.Row,{key:a,onClick:function(){return e.handleNav(t.id)}},o.a.createElement(Z.a.Cell,null,t.id),o.a.createElement(Z.a.Cell,null,t.text),o.a.createElement(Z.a.Cell,null,new Date(1e3*t.create_date).toLocaleString()))})))}},{key:"renderCreatorTable",value:function(){var e=this;return o.a.createElement(Z.a,{compact:!0,celled:!0,singleLine:!0,sortable:!0},o.a.createElement(Z.a.Header,null,o.a.createElement(Z.a.Row,null,o.a.createElement(Z.a.HeaderCell,null,"ID"),o.a.createElement(Z.a.HeaderCell,null,"Text"),o.a.createElement(Z.a.HeaderCell,null,"Create Date"))),o.a.createElement(Z.a.Body,null,this.props.symbols.map(function(t,a){return o.a.createElement(Z.a.Row,{key:a,onClick:function(){return e.handleCreatorNav(t.id)}},o.a.createElement(Z.a.Cell,null,t.id),o.a.createElement(Z.a.Cell,null,t.text),o.a.createElement(Z.a.Cell,null,new Date(1e3*t.create_date).toLocaleString()))})))}},{key:"render",value:function(){return this.props.app.creatorMode?this.renderCreatorTable():this.renderStudentTable()}}]),t}(o.a.Component),Me=Object(u.connect)(function(e){return{auth:e.auth,app:e.app}},n)(Ie),Ae=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={isLoaded:!1,courseStarted:!1},a.sortLessons=function(e,t){return e.sort(function(e,a){var n=t.indexOf(e.id);-1===n&&(n=t.length);var r=t.indexOf(a.id);return-1===r&&(r=t.length),n-r})},a.startCourse=function(){ge(a.props.auth.id,parseInt(a.props.match.params.id)),a.setState({courseStarted:!0})},a.continueCourse=function(){console.log("continuing course")},a.renderCourse=function(){return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("h4",null,o.a.createElement(J.a,{to:"/student"},"Back to courses"))),o.a.createElement(Ce.a,{attached:!0},o.a.createElement("div",{className:"student-course-title-bar"},o.a.createElement("h2",null,a.state.course.title)),o.a.createElement("div",{className:"student-course-details"},o.a.createElement("p",null,"".concat(a.state.course.first_name," ").concat(a.state.course.last_name)),o.a.createElement("p",null,new Date(1e3*a.state.course.create_date).toLocaleDateString())),o.a.createElement("div",{className:"student-course-description"},o.a.createElement("p",null,a.state.course.description))),o.a.createElement(Ce.a,{attached:"bottom"},o.a.createElement(ce.a,null,o.a.createElement(ce.a.Row,{columns:1},o.a.createElement(ce.a.Column,null,a.state.courseStarted?o.a.createElement(te.a,{animated:"fade",style:{background:"lightgreen",width:"100%"},onClick:a.continueCourse},o.a.createElement(te.a.Content,{visible:!0},"Continue Course"),o.a.createElement(te.a.Content,{hidden:!0},o.a.createElement(X.a,{name:"arrow right"}))):o.a.createElement(te.a,{style:{background:"lightgreen",width:"100%"},onClick:a.startCourse},"Begin course"))))),o.a.createElement("h2",null,"Lessons"),o.a.createElement(De,{location:a.props.match.url,lessons:a.state.lessons,course:a.state.course}),o.a.createElement("h2",null,"Symbols"),o.a.createElement(Me,{symbols:a.state.symbols,renderLocation:a.props.match.url}))},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t,a,n,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(this.props.match.params.id,this.props.auth.id);case 2:return t=e.sent,e.next=5,me(this.props.match.params.id);case 5:return a=e.sent,n=t.lessons_order.split(",").map(function(e){return parseInt(e)}),e.t0=this,e.next=10,de(this.props.match.params.id);case 10:e.t1=e.sent,e.t2=n,r=e.t0.sortLessons.call(e.t0,e.t1,e.t2),this.props.app.startedCourses.map(function(e){return e.course_id}).indexOf(parseInt(this.props.match.params.id))>=0&&this.setState({courseStarted:!0}),this.setState({course:t}),this.setState({symbols:a}),this.setState({lessons:r}),this.setState({isLoaded:!0});case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(ce.a.Column,{width:16},this.state.isLoaded?this.renderCourse():o.a.createElement(we,null)))}}]),t}(o.a.Component),Te=Object(u.connect)(function(e){return{auth:e.auth,app:e.app,form:e.forms.symbol}},n)(Ae),Ne=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(O.a)(this,Object(w.a)(t).call(this,e))).state={loaded:!1,courseId:a.props.match.params.courseid,lessonId:parseInt(a.props.match.params.lessonid),symbols:[],lesson:{}},a.componentDidMount=Object(g.a)(E.a.mark(function e(){var t,n,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe(a.state.lessonId);case 2:return t=e.sent,e.next=5,me(a.state.courseId);case 5:return n=e.sent,e.next=8,ye(4);case 8:r=e.sent,a.setState({lesson:t.response,symbols:n}),a.setState({images:r.response}),a.setState({loaded:!0});case 12:case"end":return e.stop()}},e)})),a.SymbolProgress=function(){var e=a.state.symbols;return o.a.createElement("div",{style:{margin:"3% 0",display:"flex",justifyContent:"space-between",flexWrap:"wrap"}},e.map(function(e){return o.a.createElement(X.a,{style:{fontSize:"40px"},name:"circle thin"})}))},a.ImageContainer=function(e){var t=e.images;return o.a.createElement("div",{style:{width:"500px",height:"500px",border:"1px solid black",display:"grid",gridTemplateColumns:"1fr 1fr"}},t.map(function(e){return o.a.createElement("div",{style:{height:"250px",width:"250px"}},o.a.createElement("img",{style:{height:"100%",width:"100%"},src:e.url}))}))},a.playAudio=function(){a.audioPlayer.current.play()},a.LessonControls=function(){return o.a.createElement("div",{style:{display:"grid",gridRowGap:"50px",justifyItems:"left",alignItems:"center"}},o.a.createElement("div",{className:"lesson-control-button",style:{fontSize:"48px"},onClick:a.playAudio},o.a.createElement(X.a,{name:"play"})," Play",o.a.createElement("audio",{ref:a.audioPlayer,id:"audio-player"},o.a.createElement("source",{src:a.state.symbols[0].audio_url}))),o.a.createElement("div",{className:"lesson-control-button",style:{fontSize:"48px"}},o.a.createElement(X.a,{name:"cancel"})," Cancel Lesson"))},a.audioPlayer=o.a.createRef(),a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return this.state.loaded?o.a.createElement("div",{style:{width:"100%",height:"100%"}},o.a.createElement("h1",null,this.state.lesson.title),o.a.createElement(this.SymbolProgress,null),o.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr"}},o.a.createElement(this.ImageContainer,{images:this.state.images}),o.a.createElement(this.LessonControls,null))):o.a.createElement(we,null)}}]),t}(o.a.Component),Re=a(174),Pe=a.n(Re),Fe=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={isHovering:!1},a.hover=function(e){a.setState({isHovering:!0})},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentWillUnmount",value:function(){this.props.clearSymbol()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"images-table"},this.props.app.symbol.images?this.props.app.symbol.images.map(function(t,a){return o.a.createElement(Pe.a,{options:{followCursor:!1,shiftX:0,shiftY:0},key:a},o.a.createElement(Pe.a.Trigger,{type:"trigger"},o.a.createElement("img",{onMouseEnter:function(){return e.hover(t)},src:t.url,alt:"",className:"symbol-image"})),o.a.createElement(Pe.a.Hover,{type:"hover"},o.a.createElement("div",null,o.a.createElement(X.a,{style:{position:"absolute",bottom:"3px",cursor:"pointer",color:"red"},onClick:function(){console.log(t)},name:"delete",size:"big"}))))}):null)}}]),t}(o.a.Component),He=Object(u.connect)(function(e){return{auth:e.auth,app:e.app}},n)(Fe),Ue=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(O.a)(this,Object(w.a)(t).call(this,e))).playAudio=function(){a.audioPlayer.current.play()},a.audioPlayer=o.a.createRef(),a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.getSymbol(this.props.match.params.id)}},{key:"componentWillUnmount",value:function(){this.props.clearSymbol()}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.props.app.symbol.symbol?o.a.createElement(ce.a.Column,{width:16},o.a.createElement("ul",null,o.a.createElement("li",null,this.props.app.symbol.symbol?this.props.app.symbol.symbol.id:null),o.a.createElement("li",null,this.props.app.symbol.symbol?this.props.app.symbol.symbol.text:null),o.a.createElement("li",null,this.props.app.symbol.symbol?new Date(1e3*this.props.app.symbol.symbol.create_date).toLocaleString():null)),o.a.createElement(te.a,{onClick:this.playAudio},o.a.createElement(X.a,{name:"play"})),o.a.createElement("audio",{ref:this.audioPlayer,id:"audio-player"},o.a.createElement("source",{src:this.props.app.symbol.symbol.audio_url})),o.a.createElement(He,null)):o.a.createElement(we,null))}}]),t}(o.a.Component),Be=Object(u.connect)(function(e){return{auth:e.auth,app:e.app}},n)(Ue),Ge=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).routes=function(){return o.a.createElement(Y.c,null,o.a.createElement(Y.a,{exact:!0,path:"".concat(a.props.match.url,"/"),component:ie}),o.a.createElement(Y.a,{exact:!0,path:"".concat(a.props.match.url,"/course/:id"),component:Te}),o.a.createElement(Y.a,{exact:!0,path:"".concat(a.props.match.url,"/course/:courseid/lesson/:lessonid"),component:Ne}),o.a.createElement(Y.a,{exact:!0,path:"".concat(a.props.match.url,"/symbol/:id"),component:Be}))},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.setStudentMode(),this.props.fetchCourses(),this.props.fetchAllCourses(),this.props.fetchStartedCourses(this.props.auth.id)}},{key:"render",value:function(){return this.routes()}}]),t}(o.a.Component),qe=Object(u.connect)(function(e){return{auth:e.auth}},n)(Ge),Ve=a(713),ze=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).switchMode=function(){a.props.switchMode(),a.props.app.creatorMode?a.props.history.push("/student"):a.props.history.push("/creator")},a.renderMobileMenu=function(){if(!a.props.auth)return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ve.a.Item,{header:!0},o.a.createElement(J.a,{to:"/home"},"LLT")),o.a.createElement(Ve.a.Menu,{position:"right"},o.a.createElement(Ve.a.Item,null,o.a.createElement(J.a,{to:"/login"},"Log In"))));switch(a.props.app.creatorMode){case!0:return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ve.a.Item,{header:!0},o.a.createElement(J.a,{to:"/home"},"LLT")),o.a.createElement(Ve.a.Menu,{position:"right"},o.a.createElement(Ve.a.Item,{onClick:a.switchMode,style:{cursor:"pointer"}},o.a.createElement("div",null,"Go to Student Mode")),o.a.createElement(Ve.a.Item,null,o.a.createElement("a",{href:"/api/logout"},"Log Out"))));default:return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ve.a.Item,{header:!0},o.a.createElement(J.a,{to:"/home"},"LLT")),o.a.createElement(Ve.a.Menu,{position:"right"},o.a.createElement(Ve.a.Item,{onClick:a.switchMode,style:{cursor:"pointer"}},o.a.createElement("div",null,"Go to Creator Mode")),o.a.createElement(Ve.a.Item,null,o.a.createElement("a",{href:"/api/logout"},"Log Out"))))}},a.renderMenu=function(){if(!a.props.auth)return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ve.a.Item,{header:!0},o.a.createElement(J.a,{to:"/home"},"LLT")),o.a.createElement(Ve.a.Menu,{position:"right"},o.a.createElement(Ve.a.Item,null,o.a.createElement(J.a,{to:"/login"},"Log In"))));switch(a.props.app.creatorMode){case!0:return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ve.a.Item,{header:!0},o.a.createElement(J.a,{to:"/home"},"LLT")),o.a.createElement(Ve.a.Item,null,o.a.createElement(K,null)),o.a.createElement(Ve.a.Menu,{position:"right"},o.a.createElement(Ve.a.Item,{onClick:a.switchMode,style:{cursor:"pointer"}},o.a.createElement("div",null,"Go to Student Mode")),o.a.createElement(Ve.a.Item,null,o.a.createElement("a",{href:"/api/logout"},"Log Out"))));default:return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ve.a.Item,{header:!0},o.a.createElement(J.a,{to:"/home"},"LLT")),o.a.createElement(Ve.a.Item,null,o.a.createElement(K,null)),o.a.createElement(Ve.a.Menu,{position:"right"},o.a.createElement(Ve.a.Item,{onClick:a.switchMode,style:{cursor:"pointer"}},o.a.createElement("div",null,"Go to Creator Mode")),o.a.createElement(Ve.a.Item,null,o.a.createElement("a",{href:"/api/logout"},"Log Out"))))}},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return"mobile"===this.props.device?o.a.createElement(Ve.a,{fixed:"top",style:{boxShadow:"0 6px 6px 2px #ccc"}},this.renderMobileMenu()):o.a.createElement(Ve.a,{vertical:!0,fixed:"left",style:{boxShadow:"0 6px 6px 2px #ccc"}},this.renderMenu())}}]),t}(o.a.Component),Ye=Object(u.connect)(function(e){return{auth:e.auth,app:e.app}},n)(ze),We=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(Ye,null),o.a.createElement("div",null,o.a.createElement("h1",null,"Log in to continue")))}}]),t}(r.Component),Xe=a(705),Je=a(344);var Qe=function(e){return o.a.createElement(d.Form,Object.assign({},e,{className:"ui form"}))},Ke=a(345),Ze=a(163),$e=a(366),et=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={files:[]},a.onDrop=function(e){console.log(e),a.setState(Object(Ze.a)({files:Object(p.a)(a.state.files)},"files",e))},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.state.files.map(function(e){return o.a.createElement("li",{key:e.name},e.name," - ",(e.size/1e3).toFixed()," kb")});return o.a.createElement($e.a,{onDrop:this.onDrop},function(a){var n=a.getRootProps,r=a.getInputProps;return o.a.createElement("section",{className:"container"},o.a.createElement("div",n({className:"dropzone"}),o.a.createElement("input",r()),e.props.children),o.a.createElement("aside",null,o.a.createElement("ul",null,t)))})}}]),t}(o.a.Component),tt=window.fabric,at=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={svg:"",brush:{color:"black",width:10},freeDraw:!1,images:[]},a.addRect=function(){var e=new tt.Rect({left:100,top:100,bottom:100,right:100,fill:"red",width:200,height:200});a.props.canvas.add(e)},a.logSVG=function(){tt.log(a.props.canvas.toSVG()),a.setState({svg:a.props.canvas.toSVG({suppressPreamble:!0})})},a.handleChange=function(){var e=Object(g.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState(Object(m.a)({},a.state,{brush:Object(m.a)({},a.state.brush,{color:t.hex})}));case 2:a.updateFreeDraw();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.freeDraw=Object(g.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState(Object(m.a)({},a.state,{brush:Object(m.a)({},a.state.brush),freeDraw:!a.state.freeDraw})),a.props.canvas.freeDrawingBrush.color=a.state.brush.color,a.props.canvas.freeDrawingBrush.width=parseInt(a.state.brush.width,10)||1,a.props.canvas.isDrawingMode=a.state.freeDraw;case 4:case"end":return e.stop()}},e)})),a.clear=function(){a.props.canvas.clear()},a.removeObject=function(){a.props.canvas.remove(a.props.canvas.getActiveObject())},a.updateFreeDraw=function(){a.props.canvas.freeDrawingBrush.color=a.state.brush.color,a.props.canvas.freeDrawingBrush.width=parseInt(a.state.brush.width,10)||10,a.props.canvas.isDrawingMode=!0},a.addImage=Object(g.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.canvas.toDataURL({format:"png"}),a.setState({images:[].concat(Object(p.a)(a.state.images),[t])}),e.next=4,a.props.addSymbolImage(t);case 4:a.clear();case 5:case"end":return e.stop()}},e)})),a.renderImages=function(){return o.a.createElement("div",null,a.props.app.symbolImages.map(function(e,t){return o.a.createElement("img",{width:"30%",src:e,key:t,alt:""})}))},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(ce.a,{stackable:!0},o.a.createElement(ce.a.Row,null,o.a.createElement(ce.a.Column,{width:6},o.a.createElement(Qe,{model:"forms.symbol",onSubmit:function(t){return e.addSymbol(t)},className:"ui form",validateOn:"submit"},o.a.createElement("div",{className:"fields",style:{width:"110%"}},o.a.createElement("div",{className:"field",style:{width:"100%"}},o.a.createElement(d.Control.text,{model:"forms.symbol.text",placeholder:"Symbol Text",validators:{required:function(e){return e&&e.length}},validateOn:"change"}),o.a.createElement(d.Errors,{className:"error",model:"forms.course.title",show:{touched:!0,focus:!1},messages:{required:"Required"}})))),o.a.createElement("canvas",{id:this.props.id,width:"300",height:"300",style:{border:"1px solid black"}})),o.a.createElement(ce.a.Column,{width:5},o.a.createElement("div",null,o.a.createElement(ae.a,{trigger:o.a.createElement(te.a,{icon:!0,onClick:this.freeDraw},o.a.createElement(X.a,{name:"paint brush"})),content:"Draw",position:"bottom center"}),o.a.createElement(ae.a,{trigger:o.a.createElement(te.a,{icon:!0,onClick:this.clear},o.a.createElement(X.a,{name:"remove"})),content:"Clear Canvas",position:"bottom center"}),o.a.createElement(ae.a,{trigger:o.a.createElement(te.a,{icon:!0,onClick:this.removeObject},o.a.createElement(X.a,{name:"minus square"})),content:"Remove Object",position:"bottom center"}),o.a.createElement(ae.a,{trigger:o.a.createElement(te.a,{icon:!0,onClick:this.addImage},o.a.createElement(X.a,{name:"plus square"})),content:"Add to Symbol",position:"bottom center"})),o.a.createElement(Ke.SketchPicker,{width:"92%",color:this.state.brush.color,className:"colorpicker",onChangeComplete:this.handleChange}),o.a.createElement(Je.Slider,{value:this.state.brush.width,color:"4A4A4A",settings:{min:0,max:100,step:1,onChange:function(t){e.setState({brush:Object(m.a)({},e.state.brush,{width:t})}),e.updateFreeDraw()}}})),o.a.createElement(ce.a.Column,{width:5},o.a.createElement(et,null,o.a.createElement("div",{style:{border:"1px solid black",height:"100px"}})),o.a.createElement("div",null,this.renderImages()))))}}]),t}(o.a.Component),nt=Object(u.connect)(function(e){return{auth:e.auth,app:e.app,forms:e.forms}},n)(at),rt=window.fabric,ot=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).addSymbol=function(e){a.props.addSymbol({owner_id:a.props.auth.id,course_id:a.props.app.course.course_id,text:e.text,language:a.props.app.course.language})},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.canvas=new rt.Canvas("canvas")}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(nt,{id:"canvas",canvas:this.canvas}))}}]),t}(o.a.Component),st=Object(u.connect)(function(e){return{auth:e.auth,app:e.app,forms:e.forms}},n)(ot),ct=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={modalOpen:a.props.modalOpen,isSubmitting:!1},a.clearSymbolImages=function(){a.props.clearSymbolImages()},a.close=function(){a.setState({modalOpen:!1}),a.props.resetForm("forms.symbol"),a.props.clearSymbolImages()},a.open=function(){a.setState({modalOpen:!0})},a.saveImages=function(e){e.forEach(function(e){var t={owner_id:a.props.auth.id,data:e};a.props.saveSymbolImage(t)})},a.submit=Object(g.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.form.text,a.setState({isSubmitting:!0}),e.next=4,a.props.addSymbol({owner_id:a.props.auth.id,course_id:a.props.courseId,text:t,language:a.props.courseLanguage,images:a.props.app.symbolImages});case 4:a.setState({isSubmitting:!1}),a.close(),a.updateParent();case 7:case"end":return e.stop()}},e)})),a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=this;document.addEventListener("click",function(t){t.target.className.indexOf("dimmer")>0&&e.close()})}},{key:"updateParent",value:function(){this.props.toggleShowModalCallback()}},{key:"render",value:function(){return o.a.createElement(Xe.a,{trigger:o.a.createElement(te.a,{onClick:this.open,positive:!0},"Add A Symbol"),onClose:this.props.clearSymbolImages,open:this.state.modalOpen},o.a.createElement(Xe.a.Header,null,"Add a Symbol"),o.a.createElement(Xe.a.Content,null,o.a.createElement(Xe.a.Description,null,o.a.createElement(st,null))),o.a.createElement(Xe.a.Actions,null,o.a.createElement(te.a,{onClick:this.close,negative:!0},"Cancel"),this.state.isSubmitting?o.a.createElement(te.a,{loading:!0,positive:!0},"Loading"):o.a.createElement(te.a,{onClick:this.submit,positive:!0,labelPosition:"right",icon:"checkmark",content:"Add"})))}}]),t}(o.a.Component),lt=Object(u.connect)(function(e){return{auth:e.auth,app:e.app,form:e.forms.symbol}},n)(ct),it=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).addCourse=function(e){a.props.addCourse({title:e.title,language:e.language,description:e.description,difficulty:e.difficulty,owner_id:a.props.auth.id})},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(d.Form,{validateOn:"submit",model:"forms.course",onSubmit:function(t){return e.addCourse(t)},className:"ui form"},o.a.createElement("div",{className:"three fields"},o.a.createElement("div",{className:"field"},o.a.createElement(d.Control.text,{defaultValue:this.props.editing?this.props.title:"",model:"forms.course.title",placeholder:"Title",validators:{required:function(e){return e&&e.length}},validateOn:"change"}),o.a.createElement(d.Errors,{className:"error",model:"forms.course.title",show:{touched:!0,focus:!1},messages:{required:"Required"}})),o.a.createElement("div",{className:"field"},o.a.createElement(d.Control.select,{disabled:this.props.editing,validators:{required:function(e){return e&&e.length}},defaultValue:this.props.editing?this.props.language:"english",model:"forms.course.language",className:"ui selection dropdown",placeholder:"Language"},o.a.createElement("option",{value:"english"},"English"),o.a.createElement("option",{value:"spanish"},"Spanish"),o.a.createElement("option",{value:"german"},"German")),o.a.createElement(d.Errors,{className:"error",model:"forms.course.language",show:!1,messages:{required:"Required"}})),o.a.createElement("div",{className:"field"},o.a.createElement(d.Control.select,{validators:{required:function(e){return e&&e.length}},defaultValue:this.props.editing?this.props.difficulty:"novice",model:"forms.course.difficulty",className:"ui selection dropdown",placeholder:"Difficulty"},o.a.createElement("option",{value:"novice"},"Novice"),o.a.createElement("option",{value:"intermediate"},"Intermediate"),o.a.createElement("option",{value:"advanced"},"Advanced")),o.a.createElement(d.Errors,{className:"error",model:"forms.course.difficulty",show:!1,messages:{required:"Required"}}))),o.a.createElement("div",{className:"field"},o.a.createElement(d.Control.textarea,{validators:{required:function(e){return e&&e.length}},defaultValue:this.props.editing?this.props.description:"",validateOn:"change",model:"forms.course.description",placeholder:"Description"}),o.a.createElement(d.Errors,{className:"error",model:"forms.course.description",show:"touched",messages:{required:"Required"}})))}}]),t}(o.a.Component),ut=Object(u.connect)(function(e){return{auth:e.auth,app:e.app,forms:e.forms}},n)(it),pt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,isSubmitting:!1},a.open=function(){a.setState({open:!0})},a.close=function(){a.props.resetForm("forms.course",{language:"english",difficulty:"novice"}),a.setState({open:!1})},a.submit=Object(g.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isSubmitting:!0}),e.next=3,a.props.editCourse({title:a.props.forms.course.title,language:a.props.forms.course.language,description:a.props.forms.course.description,difficulty:a.props.forms.course.difficulty,owner_id:a.props.auth.id,id:a.props.courseId,lessonsOrder:a.props.forms.course.lessonsOrder});case 3:a.updateParent(),a.setState({isSubmitting:!1}),a.close();case 6:case"end":return e.stop()}},e)})),a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("click",function(t){t.target.className.indexOf("dimmer")>0&&e.close()})}},{key:"updateParent",value:function(){this.props.toggleShowModalCallback()}},{key:"render",value:function(){return o.a.createElement(Xe.a,{trigger:o.a.createElement(te.a,{icon:"pencil",onClick:this.open}),open:this.state.open},o.a.createElement(Xe.a.Header,null,"Edit Course"),o.a.createElement(Xe.a.Content,null,o.a.createElement(Xe.a.Description,null,o.a.createElement(ut,{editing:!0,title:this.props.title,description:this.props.description,difficulty:this.props.difficulty,language:this.props.language}))),o.a.createElement(Xe.a.Actions,null,o.a.createElement(te.a,{onClick:this.close,negative:!0},"Cancel"),this.state.isSubmitting?o.a.createElement(te.a,{loading:!0,positive:!0},"Loading"):o.a.createElement(te.a,{onClick:this.submit,positive:!0,labelPosition:"right",icon:"checkmark",content:"Edit"})))}}]),t}(o.a.Component),mt=Object(u.connect)(function(e){return{auth:e.auth,app:e.app,forms:e.forms}},n)(pt),dt=a(708),ht=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={selectedSymbols:[]},a.handleSelect=function(e,t){a.props.resetForm("forms.lesson",{symbols:t.value,title:a.props.forms.lesson.title}),a.setState({selectedSymbols:t.value})},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return o.a.createElement(d.Form,{validateOn:"submit",model:"forms.lesson",className:"ui form"},o.a.createElement("div",{className:"two fields"},o.a.createElement("div",{className:"field"},o.a.createElement(d.Control.text,{defaultValue:this.props.editing?this.props.title:"",model:"forms.lesson.title",placeholder:"Title",validators:{required:function(e){return e&&e.length}},validateOn:"change"}),o.a.createElement(d.Errors,{className:"error",model:"forms.lesson.title",show:{touched:!0,focus:!1},messages:{required:"Required"}})),o.a.createElement("div",{className:"field"},o.a.createElement(dt.a,{placeholder:"Symbols",fluid:!0,multiple:!0,selection:!0,onChange:this.handleSelect,options:this.props.symbols.map(function(e){return{key:e.text,text:e.text,value:e.id}})}))))}}]),t}(o.a.Component),ft=Object(u.connect)(function(e){return{auth:e.auth,app:e.app,forms:e.forms}},n)(ht),bt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.open=function(){a.setState({open:!0})},a.close=function(){a.props.resetForm("forms.lesson"),a.setState({open:!1})},a.submit=Object(g.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isSubmitting:!0}),e.next=3,be(Object(m.a)({},a.props.forms.lesson,{courseId:a.props.course.course_id}));case 3:a.setState({isSubmitting:!1}),a.close(),a.updateParent();case 6:case"end":return e.stop()}},e)})),a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("click",function(t){t.target.className.indexOf("dimmer")>0&&e.close()})}},{key:"updateParent",value:function(){this.props.toggleShowModalCallback()}},{key:"render",value:function(){return o.a.createElement(Xe.a,{trigger:o.a.createElement(te.a,{onClick:this.open,positive:!0},"Add A Lesson"),open:this.state.open},o.a.createElement(Xe.a.Header,null,"Add a Lesson"),o.a.createElement(Xe.a.Content,null,o.a.createElement(Xe.a.Description,null,o.a.createElement(ft,{symbols:this.props.symbols}))),o.a.createElement(Xe.a.Actions,null,o.a.createElement(te.a,{onClick:this.close,negative:!0},"Cancel"),this.state.isSubmitting?o.a.createElement(te.a,{loading:!0,positive:!0},"Loading"):o.a.createElement(te.a,{onClick:this.submit,positive:!0,labelPosition:"right",icon:"checkmark",content:"Add"})))}}]),t}(o.a.Component),Et=Object(u.connect)(function(e){return{auth:e.auth,app:e.app,forms:e.forms}},n)(bt),gt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={course:{},lessons:{},symbols:[],isLoaded:!1,showModal:!1,isFetching:!1},a.sortLessons=function(e,t){return e.sort(function(e,a){var n=t.indexOf(e.id);-1===n&&(n=t.length);var r=t.indexOf(a.id);return-1===r&&(r=t.length),n-r})},a.rerenderAfterSubmit=Object(g.a)(E.a.mark(function e(){var t,n,r,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isFetching:!0}),e.next=3,me(a.props.match.params.id);case 3:return t=e.sent,e.next=6,ue(a.props.match.params.id,a.props.auth.id);case 6:return n=e.sent,e.next=9,n.lessons_order.split(",").map(function(e){return parseInt(e)});case 9:return r=e.sent,e.t0=a,e.next=13,de(a.props.match.params.id);case 13:return e.t1=e.sent,e.t2=r,e.next=17,e.t0.sortLessons.call(e.t0,e.t1,e.t2);case 17:o=e.sent,a.setState({symbols:t,course:n,lessons:o}),a.setState({isFetching:!1});case 20:case"end":return e.stop()}},e)})),a.renderCourse=function(){return a.state.course.owner?o.a.createElement("div",null,o.a.createElement("h4",null,o.a.createElement(J.a,{to:"/creator"},"Back to courses")),o.a.createElement(Ce.a,null,o.a.createElement("div",{className:"creator-course-title-bar"},o.a.createElement("h2",null,a.state.course.title),o.a.createElement(mt,{title:a.state.course.title,description:a.state.course.description,difficulty:a.state.course.difficulty,language:a.state.course.language,courseId:a.props.match.params.id,toggleShowModalCallback:a.rerenderAfterSubmit})),o.a.createElement("div",{className:"creator-course-details"},o.a.createElement("p",null,"".concat(a.state.course.first_name," ").concat(a.state.course.last_name)),o.a.createElement("p",null,new Date(1e3*a.state.course.create_date).toLocaleDateString())),o.a.createElement("div",{className:"creator-course-description"},o.a.createElement("p",null,a.state.course.description))),o.a.createElement("h2",null,"Lessons"),o.a.createElement(Et,{symbols:a.state.symbols,toggleShowModalCallback:a.rerenderAfterSubmit,course:a.state.course}),o.a.createElement(De,{mode:"creator",location:a.props.match.url,lessons:a.state.lessons,course:a.state.course}),o.a.createElement("h2",null,"Symbols"),a.props.app.creatorMode?o.a.createElement(lt,{courseId:a.state.course.course_id,courseLanguage:a.state.course.language,toggleShowModalCallback:a.rerenderAfterSubmit,modalOpen:a.state.showModal}):null,o.a.createElement(Me,{symbols:a.state.symbols,renderLocation:a.props.match.url})):o.a.createElement("div",{className:"warning"},o.a.createElement("h2",null,"You do not have permission to access this record or this record does not exist."),o.a.createElement("p",null,"If you believe this is a mistake please contact Support."),o.a.createElement("a",{href:"mailto:support@gllghr.io",target:"_blank",style:{color:"#fff",textDecoration:"none"}},o.a.createElement(X.a,{name:"mail"}),"support@",window.location.host))},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(E.a.mark(function e(){var t,a,n,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(this.props.match.params.id,this.props.auth.id);case 2:return t=e.sent,e.next=5,me(this.props.match.params.id);case 5:return a=e.sent,n=t.lessons_order.split(",").map(function(e){return parseInt(e)}),e.t0=this,e.next=10,de(this.props.match.params.id);case 10:e.t1=e.sent,e.t2=n,r=e.t0.sortLessons.call(e.t0,e.t1,e.t2),this.setState({course:Object(m.a)({},t,{id:this.props.match.params.id,owner_id:this.props.auth.id})}),this.setState({symbols:a}),this.setState({lessons:r}),this.setState({isLoaded:!0});case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(ce.a.Column,{width:16},this.state.isLoaded?this.renderCourse():o.a.createElement(we,null)))}}]),t}(o.a.Component),yt=Object(u.connect)(function(e){return{auth:e.auth,app:e.app,form:e.forms.symbol}},n)(gt),vt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.open=function(){a.setState({open:!0})},a.close=function(){a.props.resetForm("forms.course",{language:"english",difficulty:"novice"}),a.setState({open:!1})},a.submit=function(){a.props.addCourse({title:a.props.forms.course.title,language:a.props.forms.course.language,description:a.props.forms.course.description,difficulty:a.props.forms.course.difficulty,owner_id:a.props.auth.id}),a.close()},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("click",function(t){t.target.className.indexOf("dimmer")>0&&e.close()})}},{key:"render",value:function(){return o.a.createElement(Xe.a,{trigger:o.a.createElement(te.a,{onClick:this.open,positive:!0},"Add A Course"),open:this.state.open},o.a.createElement(Xe.a.Header,null,"Add a Course"),o.a.createElement(Xe.a.Content,null,o.a.createElement(Xe.a.Description,null,o.a.createElement(ut,null))),o.a.createElement(Xe.a.Actions,null,o.a.createElement(te.a,{onClick:this.close,negative:!0},"Cancel"),o.a.createElement(te.a,{onClick:this.submit,positive:!0,labelPosition:"right",icon:"checkmark",content:"Add"})))}}]),t}(o.a.Component),Ot=Object(u.connect)(function(e){return{auth:e.auth,app:e.app,forms:e.forms}},n)(vt),wt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.open=function(){a.setState({open:!0})},a.close=function(){a.props.resetForm("forms.course",{language:"english",difficulty:"novice"}),a.setState({open:!1})},a.submit=function(){a.props.addCourse({title:a.props.forms.course.title,language:a.props.forms.course.language,description:a.props.forms.course.description,difficulty:a.props.forms.course.difficulty,owner_id:a.props.auth.id}),a.close()},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.setCreatorMode(),this.props.history.push("/creator"),document.addEventListener("click",function(t){t.target.className.indexOf("dimmer")>0&&e.close()})}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(ce.a.Column,{width:16},o.a.createElement("h2",null,"My Created Courses"),o.a.createElement(Ot,null),o.a.createElement(se,{renderLocation:this.props.match.url})))}}]),t}(o.a.Component),Ct=Object(u.connect)(function(e){return{auth:e.auth,app:e.app,forms:e.forms}},n)(wt),jt=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(O.a)(this,Object(w.a)(t).call(this,e))).playAudio=function(){a.audioPlayer.current.play()},a.audioPlayer=o.a.createRef(),a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.getSymbol(this.props.match.params.id)}},{key:"componentWillUnmount",value:function(){this.props.clearSymbol()}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.props.app.symbol.symbol?o.a.createElement(ce.a.Column,{width:16},o.a.createElement("ul",null,o.a.createElement("li",null,this.props.app.symbol.symbol?this.props.app.symbol.symbol.id:null),o.a.createElement("li",null,this.props.app.symbol.symbol?this.props.app.symbol.symbol.text:null),o.a.createElement("li",null,this.props.app.symbol.symbol?new Date(1e3*this.props.app.symbol.symbol.create_date).toLocaleString():null)),o.a.createElement(te.a,{onClick:this.playAudio},o.a.createElement(X.a,{name:"play"})),o.a.createElement("audio",{ref:this.audioPlayer,id:"audio-player"},o.a.createElement("source",{src:this.props.app.symbol.symbol.audio_url})),o.a.createElement(He,null)):o.a.createElement(we,null))}}]),t}(o.a.Component),St=Object(u.connect)(function(e){return{auth:e.auth,app:e.app}},n)(jt),kt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={symbols:[]},a.componentWillMount=Object(g.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(a.props.match.params.lessonId);case 2:t=e.sent,a.setState({symbols:t});case 4:case"end":return e.stop()}},e)})),a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,"Hello, the course id is ",this.props.match.params.courseId," and the lesson id is ",this.props.match.params.lessonId,".",o.a.createElement("div",null,o.a.createElement("ul",null,this.state.symbols.map(function(e){return o.a.createElement("li",null,o.a.createElement("audio",{controls:!0,src:e.audio_url}))}))))}}]),t}(o.a.Component),xt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).routes=function(){return o.a.createElement(Y.c,null,o.a.createElement(Y.a,{exact:!0,path:"".concat(a.props.match.url,"/"),component:Ct}),o.a.createElement(Y.a,{exact:!0,path:"".concat(a.props.match.url,"/course/:id"),component:yt}),o.a.createElement(Y.a,{exact:!0,path:"".concat(a.props.match.url,"/symbol/:id"),component:St}),o.a.createElement(Y.a,{exact:!0,path:"".concat(a.props.match.url,"/course/:courseId/lesson/:lessonId"),component:kt}))},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchCourses(),this.props.fetchAllCourses(),this.props.setCreatorMode()}},{key:"render",value:function(){return this.routes()}}]),t}(o.a.Component),_t=Object(u.connect)(function(e){return{auth:e.auth,app:e.app,forms:e.forms}},n)(xt),Lt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).renderStudentOrCreator=function(){return a.props.app.creatorMode?o.a.createElement(_t,null):o.a.createElement(qe,null)},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return this.props.auth?this.renderStudentOrCreator():o.a.createElement(We,null)}}]),t}(o.a.Component),Dt=(Object(u.connect)(function(e){return{auth:e.auth,app:e.app}},n)(Lt),function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return this.props.app.creatorMode?o.a.createElement(yt,{courseId:this.props.match.params.course}):o.a.createElement(Te,{courseId:this.props.match.params.course})}}]),t}(o.a.Component)),It=(Object(u.connect)(function(e){return{auth:e.auth,app:e.app}},n)(Dt),a(718)),Mt=a(703),At=(a(694),a(365)),Tt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={editing:!1,fieldClicked:null,fieldValue:""},a.toggleView=function(e){e&&(a.setState({fieldValue:e.target.innerHTML}),a.setState({fieldClicked:e.target})),a.setState({editing:!a.state.editing})},a.renderViewing=function(){return a.props.children.map(function(e,t){return o.a.createElement("div",{key:t,onClick:a.toggleView},e)})},a.renderChildren=function(e){var t=a.props.children,n=a.state.fieldClicked;return o.a.createElement("form",{onSubmit:e.handleSubmit,className:"ui form"},function(t,n){var r=function(e){a.setState({fieldValue:e.target.value})};return t.map(function(t,s){return n.index===s?o.a.createElement("div",{className:"fields"},o.a.createElement("input",{type:"text",onChange:r,onBlur:e.handleBlur,name:t.props.id,placeholder:t.props.children,value:a.state.fieldValue}),o.a.createElement("button",{type:"submit",className:"ui button"},"Submit")):t})}(t,function(e,t){for(var a=0;a<e.length;a++)if(e[a].props.id===t)return{index:a,childElement:e[a]}}(t,n.id)),e.errors.name&&o.a.createElement("div",{id:"feedback"},e.errors.test))},a.renderEditing=function(){return o.a.createElement(At.a,{onClick:a.toggleView,onSubmit:function(e,t){a.toggleView()}},function(e){return a.renderChildren(e)})},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return this.state.editing?this.renderEditing():this.renderViewing()}}]),t}(o.a.Component),Nt=(o.a.Component,a(230)),Rt=a.n(Nt),Pt=a(714),Ft=a(711),Ht=a(704),Ut=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",error:""},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleEmailChange=function(e){a.setState({email:e.target.value})},a.submit=Object(g.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/auth/login",{email:a.state.email,password:a.state.password});case 2:if("redirect"!==(t=e.sent).data.message){e.next=9;break}return e.next=6,a.props.fetchUser();case 6:a.props.history.push("/home"),e.next=10;break;case 9:a.setState({error:t.data.message});case 10:case"end":return e.stop()}},e)})),a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return this.props.mobile?o.a.createElement(o.a.Fragment,null,o.a.createElement(ce.a.Column,{width:16},o.a.createElement(Pt.a,{as:"h2",textAlign:"center"},"Log In"),o.a.createElement("h4",{className:"error"},this.state.error?o.a.createElement(Ft.a,{negative:!0},this.state.error):null),o.a.createElement(Ht.a,{size:"large"},o.a.createElement(Ce.a,null,o.a.createElement(Ht.a.Input,{name:"email",fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",onChange:this.handleEmailChange,value:this.state.email}),o.a.createElement(Ht.a.Input,{name:"password",fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",onChange:this.handlePasswordChange,value:this.state.password}),o.a.createElement(te.a,{fluid:!0,size:"large",onClick:this.submit},"Login"))),o.a.createElement(Ft.a,null,"New? ",o.a.createElement(J.a,{to:"/register"},"Sign Up")),o.a.createElement(Ft.a,null,o.a.createElement(X.a,{name:"google"}),o.a.createElement("a",{href:"/auth/google"},"Log in with Google")))):o.a.createElement(o.a.Fragment,null,o.a.createElement(ce.a.Column,{width:5}),o.a.createElement(ce.a.Column,{style:{maxWidth:450,margin:"0 auto"},width:6},o.a.createElement(Pt.a,{as:"h2",textAlign:"center"},"Log In"),o.a.createElement("h4",{className:"error"},this.state.error?o.a.createElement(Ft.a,{negative:!0},this.state.error):null),o.a.createElement(Ht.a,{size:"large"},o.a.createElement(Ce.a,null,o.a.createElement(Ht.a.Input,{name:"email",fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",onChange:this.handleEmailChange,value:this.state.email}),o.a.createElement(Ht.a.Input,{name:"password",fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",onChange:this.handlePasswordChange,value:this.state.password}),o.a.createElement(te.a,{fluid:!0,size:"large",onClick:this.submit},"Login"))),o.a.createElement(Ft.a,null,"New? ",o.a.createElement(J.a,{to:"/register"},"Sign Up")),o.a.createElement(Ft.a,null,o.a.createElement(X.a,{name:"google"}),o.a.createElement("a",{href:"/auth/google"},"Log in with Google"))),o.a.createElement(ce.a.Column,{width:5}))}}]),t}(o.a.Component),Bt=Object(u.connect)(function(e){return{auth:e.auth,app:e.app}},n)(Ut),Gt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",firstName:"",lastName:"",password:"",message:"",error:""},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleFirstNameChange=function(e){a.setState({firstName:e.target.value})},a.handleLastNameChange=function(e){a.setState({lastName:e.target.value})},a.handleEmailChange=function(e){a.setState({email:e.target.value})},a.submit=Object(g.a)(E.a.mark(function e(){var t,n,r,o,s,c;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.email,r=t.firstName,o=t.lastName,s=t.password,!(n&&r&&o&&s)){e.next=8;break}return e.next=4,S.a.post("/auth/register",{email:n,first_name:r,last_name:o,password:s});case 4:"success"===(c=e.sent).data.message?(a.setState({message:"User created"}),setTimeout(function(){return a.props.history.push("/login")},1e3)):a.setState({error:c.data.message}),e.next=9;break;case 8:a.setState({error:"Please complete all fields."});case 9:case"end":return e.stop()}},e)})),a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(ce.a.Column,{style:{maxWidth:450,margin:"0 auto"},width:6},o.a.createElement(Pt.a,{as:"h2",textAlign:"center"},"Register"),this.state.message?o.a.createElement(Ft.a,{success:!0},this.state.message):null,this.state.error?o.a.createElement(Ft.a,{negative:!0},this.state.error):null,o.a.createElement(Ht.a,{size:"large"},o.a.createElement(Ce.a,null,o.a.createElement(Ht.a.Input,{ref:this.emailField,onChange:this.handleEmailChange,name:"email",fluid:!0,icon:"envelope",iconPosition:"left",placeholder:"E-mail address"}),o.a.createElement(Ht.a.Input,{ref:this.firstNameField,onChange:this.handleFirstNameChange,name:"first_name",fluid:!0,icon:"user",iconPosition:"left",placeholder:"First Name"}),o.a.createElement(Ht.a.Input,{ref:this.lastNameField,onChange:this.handleLastNameChange,name:"last_name",fluid:!0,icon:"user",iconPosition:"left",placeholder:"Last Name"}),o.a.createElement(Ht.a.Input,{ref:this.passwordField,onChange:this.handlePasswordChange,name:"password",fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password"}),o.a.createElement(te.a,{fluid:!0,size:"large",onClick:this.submit},"Register"))),o.a.createElement(Ft.a,null,"Have an existing account? ",o.a.createElement(J.a,{to:"/login"},"Log In")),o.a.createElement(Ft.a,null,o.a.createElement(X.a,{name:"google"}),o.a.createElement("a",{href:"/auth/google"},"Log in with Google"))))}}]),t}(o.a.Component),qt=Object(u.connect)(function(e){return{auth:e.auth,app:e.app}},n)(Gt),Vt=a(709),zt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={tasks:[],isLoaded:!1},a.componentDidMount=Object(g.a)(E.a.mark(function e(){var t,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("https://cors-anywhere.herokuapp.com/https://api.clickup.com/api/v2/list/4468011/task?archived=false",{headers:{Authorization:"pk_1396952_O7MIIPVUVX61LR5RI673TM2OMSCQ3WPB"}});case 2:t=e.sent,n=t.data.tasks,a.setState({tasks:n,isLoaded:!0});case 5:case"end":return e.stop()}},e)})),a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return this.state.isLoaded?o.a.createElement(Vt.a,null,this.state.tasks.map(function(e,t){return o.a.createElement(Vt.a.Item,{key:t,style:{margin:"1rem 0"}},o.a.createElement(Vt.a.Content,null,o.a.createElement(Vt.a.Header,null,e.name),o.a.createElement(Vt.a.Description,null,e.text_content)))})):o.a.createElement(we,null)}}]),t}(o.a.Component),Yt=Object(u.connect)(function(e){return{auth:e.auth,app:e.app}},n)(zt),Wt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={logins:[]},a.componentDidMount=Object(g.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(a.props.auth.id);case 2:t=e.sent,a.setState({logins:t.response}),console.log(a.state);case 5:case"end":return e.stop()}},e)})),a.changePassword=function(){console.log("change password")},a.deleteAccount=function(){a.props.history.push("/api/logout"),ve(a.props.auth.id)},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{style:{}},o.a.createElement("h2",null,this.props.auth.first_name," ",this.props.auth.last_name),o.a.createElement("div",null,o.a.createElement("h4",null,this.props.auth.email)),o.a.createElement(Xe.a,{trigger:o.a.createElement(te.a,null,"All logins"),header:"Logins",content:o.a.createElement("ul",null,this.state.logins.map(function(e,t){return o.a.createElement("li",{key:t},new Date(1e3*e.timestamp).toLocaleString())})),actions:[{key:"done",content:"Done",positive:!0}]}),o.a.createElement(Xe.a,{trigger:o.a.createElement(te.a,null,"Roadmap"),header:"To Do",content:o.a.createElement("div",{style:{padding:"15px"}},o.a.createElement(Yt,null)),actions:[{key:"done",content:"Done",positive:!0}]})))}}]),t}(o.a.Component),Xt=Object(u.connect)(function(e){return{auth:e.auth,app:e.app}},n)(Wt),Jt=function(e){return e.auth?o.a.createElement("div",{className:"app-base"},o.a.createElement(Y.c,null,o.a.createElement(Y.a,{path:"/creator",component:_t}),o.a.createElement(Y.a,{path:"/student",component:qe}),o.a.createElement(Y.a,{path:"/home",component:qe}),o.a.createElement(Y.a,{path:"/profile",component:Xt}),o.a.createElement(Y.a,{path:"/",exact:!0,component:qe}),o.a.createElement(Y.a,{path:"/roadmap",exact:!0,component:Yt}),o.a.createElement(Y.a,{path:"/test",exact:!0,component:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Hello"),o.a.createElement("p",null,"This is the beginning of a new blog post."))}}))):o.a.createElement(Y.c,null,o.a.createElement(Y.a,{component:Bt,path:"/login",exact:!0},o.a.createElement(Bt,{auth:e.auth,history:ee,mobile:e.mobile})),o.a.createElement(Y.a,{component:qt,path:"/register",exact:!0}),o.a.createElement(Y.a,{history:ee,component:Bt,path:"/",exact:!0},o.a.createElement(Bt,{auth:e.auth,history:ee,mobile:e.mobile})),o.a.createElement(Y.a,{path:"/roadmap",exact:!0,component:Yt}))},Qt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={authLoaded:!1},a.componentDidMount=Object(g.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.fetchUser();case 2:a.setState({authLoaded:!0}),a.props.auth&&Object(Nt.FullStoryAPI)("identify",a.props.auth.id,{displayName:a.props.auth.first_name+" "+a.props.auth.last_name,email:a.props.auth.email});case 4:case"end":return e.stop()}},e)})),a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return o.a.createElement(Y.b,{history:ee},o.a.createElement(Rt.a,{org:"H1N0D"}),o.a.createElement(It.a,{minWidth:768},this.props.auth?o.a.createElement(Ye,{history:ee}):null,o.a.createElement("div",{className:this.props.auth?"base":"base-login"},o.a.createElement(ce.a,{columns:16,stackable:!0},this.state.authLoaded?o.a.createElement(Jt,Object.assign({auth:this.props.auth},this.props)):o.a.createElement(we,null)))),o.a.createElement(It.a,{maxWidth:768},this.props.auth?o.a.createElement(Ye,{history:ee,device:"mobile"}):null,o.a.createElement(Mt.a,{className:this.props.auth?"mobile-base":"mobile-base-login"},o.a.createElement(ce.a,{columns:16,stackable:!0},this.state.authLoaded?o.a.createElement(Jt,Object.assign({auth:this.props.auth},this.props,{mobile:!0})):o.a.createElement(we,null)))))}}]),t}(o.a.Component),Kt=Object(u.connect)(function(e){return{auth:e.auth,app:e.app}},n)(Qt),Zt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.compose,$t=Object(l.createStore)(f,Zt(Object(l.applyMiddleware)(i.a)));c.a.render(o.a.createElement(u.Provider,{store:$t},o.a.createElement(Kt,null)),document.querySelector("#root"))}},[[377,1,2]]]);
//# sourceMappingURL=main.535d546b.chunk.js.map