(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{379:function(e,t,a){e.exports=a(698)},530:function(e,t,a){},698:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"resetForm",(function(){return j})),a.d(n,"fetchUser",(function(){return k})),a.d(n,"fetchCourses",(function(){return _})),a.d(n,"fetchAllCourses",(function(){return L})),a.d(n,"fetchSymbols",(function(){return I})),a.d(n,"textToSpeech",(function(){return D})),a.d(n,"addCourse",(function(){return P})),a.d(n,"getCourse",(function(){return N})),a.d(n,"deleteCourse",(function(){return A})),a.d(n,"clearCourse",(function(){return M})),a.d(n,"addSymbol",(function(){return T})),a.d(n,"getSymbol",(function(){return R})),a.d(n,"fetchStartedCourses",(function(){return F})),a.d(n,"clearSymbol",(function(){return H})),a.d(n,"switchMode",(function(){return U})),a.d(n,"setCreatorMode",(function(){return B})),a.d(n,"setStudentMode",(function(){return G})),a.d(n,"addSymbolImage",(function(){return z})),a.d(n,"clearSymbolImages",(function(){return q})),a.d(n,"editCourse",(function(){return W}));var r=a(0),s=a.n(r),o=a(61),c=a.n(o),l=a(45),i=a(335),u=a(15),p=a(712),m=a(56),d=a(28),h=a(33),f={coursesTable:[],coursesTableStudent:[],course:{},lessons:[],symbolsTable:[],symbol:{},symbolImages:[],creatorMode:!1},g=Object(l.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER":return t.payload||!1;default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_COURSES":return Object(d.a)({},e,{coursesTable:t.payload})||!1;case"FETCH_ALL_COURSES":return Object(d.a)({},e,{coursesTableStudent:t.payload})||!1;case"ADD_COURSE":return Object(d.a)({},e,{coursesTable:[].concat(Object(m.a)(e.coursesTable),[t.payload])})||!1;case"GET_COURSE":return Object(d.a)({},e,{course:t.payload})||!1;case"DELETE_COURSE":return Object(d.a)({},e,{coursesTable:[].concat(Object(m.a)(e.coursesTable.slice(0,t.payload.index)),Object(m.a)(e.coursesTable.slice(t.payload.index+1)))});case"CLEAR_COURSE":return Object(d.a)({},e,{course:t.payload})||!1;case"FETCH_SYMBOLS":return Object(d.a)({},e,{symbolsTable:t.payload})||!1;case"ADD_SYMBOL":return Object(d.a)({},e,{symbolsTable:[].concat(Object(m.a)(e.symbolsTable),[t.payload])})||!1;case"GET_SYMBOL":return Object(d.a)({},e,{symbol:t.payload})||!1;case"CLEAR_SYMBOL":return Object(d.a)({},e,{symbolsTable:[],symbol:{}})||!1;case"TOGGLE_MODE":return Object(d.a)({},e,{creatorMode:!e.creatorMode})||!1;case"ADD_SYMBOL_IMAGE":return Object(d.a)({},e,{symbolImages:[].concat(Object(m.a)(e.symbolImages),[t.payload])});case"CLEAR_SYMBOL_IMAGES":return Object(d.a)({},e,{symbolImages:[]});case"SET_STUDENT_MODE":return Object(d.a)({},e,{creatorMode:!1});case"SET_CREATOR_MODE":return Object(d.a)({},e,{creatorMode:!0});case"GET_STARTED_COURSES":return Object(d.a)({},e,{startedCourses:t.payload});default:return e}},forms:Object(h.combineForms)({course:{language:"english",difficulty:"novice"},symbol:{},lesson:{}},"forms")}),E=a(7),b=a.n(E),y=a(11),v=a(16),w=a(13),C=a(12),O=a(14),x=a(25),S=a.n(x),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){a(h.actions.change(e,t))}},k=function(){return function(e){var t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.awrap(S.a.get("/api/current_user"));case 2:return t=a.sent,e({type:"FETCH_USER",payload:t.data}),a.abrupt("return",t.data);case 5:case"end":return a.stop()}}))}},_=function(){return function(e){var t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.awrap(S.a.get("/api/courses"));case 2:return t=a.sent,e({type:"FETCH_COURSES",payload:t.data}),a.abrupt("return",t.data);case 5:case"end":return a.stop()}}))}},L=function(){return function(e){var t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.awrap(S.a.get("/api/allcourses"));case 2:return t=a.sent,e({type:"FETCH_ALL_COURSES",payload:t.data}),a.abrupt("return",t.data);case 5:case"end":return a.stop()}}))}},I=function(e){return function(t){var a;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(S.a.get("/api/symbols/".concat(e)));case 2:return a=n.sent,t({type:"FETCH_SYMBOLS",payload:a.data}),n.abrupt("return",a.data);case 5:case"end":return n.stop()}}))}},D=function(){return function(e){var t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.awrap(S.a.post("/api/texttospeech",{text:"".concat(new Date(Date.now()).toString())}));case 2:return t=a.sent,e({type:"TEXT_TO_SPEECH",payload:t.data}),a.abrupt("return",t.data);case 5:case"end":return a.stop()}}))}},P=function(e){return function(t){var a;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(S.a.post("/api/courses",{title:e.title,language:e.language,description:e.description,difficulty:e.difficulty,owner_id:e.owner_id}));case 2:return a=n.sent,t({type:"ADD_COURSE",payload:a.data}),n.abrupt("return",a.data);case 5:case"end":return n.stop()}}))}},N=function(e){return function(t){var a;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(S.a.post("/api/course",{id:e}));case 2:a=n.sent,t({type:"GET_COURSE",payload:a.data});case 4:case"end":return n.stop()}}))}},A=function(e,t){return function(a){var n;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.a.awrap(S.a.delete("/api/course/".concat(e)));case 2:return n=r.sent,a({type:"DELETE_COURSE",payload:Object(d.a)({},n.data,{id:e,index:t})}),r.abrupt("return",n.data);case 5:case"end":return r.stop()}}))}},M=function(){return function(e){return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:"CLEAR_COURSE",payload:null});case 1:case"end":return t.stop()}}))}},T=function(e){return function(t){var a;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(S.a.post("/api/symbols",{owner_id:e.owner_id,course_id:e.course_id,text:e.text,audio_url:e.audio_url,language:e.language,images:e.images}));case 2:return a=n.sent,t({type:"ADD_SYMBOL",payload:a.data}),n.abrupt("return",a.data);case 5:case"end":return n.stop()}}))}},R=function(e){return function(t){var a;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(S.a.get("/api/symbol/".concat(e)));case 2:return a=n.sent,t({type:"GET_SYMBOL",payload:a.data}),n.abrupt("return",a.data);case 5:case"end":return n.stop()}}))}},F=function(e){return function(t){var a;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(S.a.get("/api/users_courses/".concat(e)));case 2:return a=n.sent,t({type:"GET_STARTED_COURSES",payload:a.data.response}),n.abrupt("return",a.data.response);case 5:case"end":return n.stop()}}))}},H=function(){return function(e){return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:"CLEAR_SYMBOL",payload:null});case 1:case"end":return t.stop()}}))}},U=function(){return{type:"TOGGLE_MODE",payload:null}},B=function(){return{type:"SET_CREATOR_MODE",payload:null}},G=function(){return{type:"SET_STUDENT_MODE",payload:null}},z=function(e){return{type:"ADD_SYMBOL_IMAGE",payload:e}},q=function(){return{type:"CLEAR_SYMBOL_IMAGES",payload:null}},W=function(e){return function(t){var a;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(S.a.put("/api/course",e));case 2:a=n.sent,t({type:"EDIT_COURSE",payload:a.data});case 4:case"end":return n.stop()}}))}},Y=a(82),V=(0,a(53).createBrowserHistory)(),X=a(722),J=a(26),Q=a(719),K=a(83),Z=function(e){function t(){return Object(y.a)(this,t),Object(w.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement(Q.a,{style:{width:"100%"}},s.a.createElement(Q.a.Content,null,s.a.createElement(Q.a.Header,null,this.props.auth?"".concat(this.props.auth.first_name," ").concat(this.props.auth.last_name):null),s.a.createElement(J.a,{to:"/profile"},"View Profile")),s.a.createElement(Q.a.Content,{extra:!0},s.a.createElement(K.a,{name:"book"}),this.props.app?this.props.app.coursesTable.length:null," Courses"))}}]),t}(s.a.Component),$=Object(u.connect)((function(e){return{auth:e.auth,app:e.app}}),n)(Z),ee=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).switchMode=function(){a.props.switchMode(),a.props.app.creatorMode?a.props.history.push("/student"):a.props.history.push("/creator")},a.renderMobileMenu=function(){if(!a.props.auth)return s.a.createElement(s.a.Fragment,null,s.a.createElement(X.a.Item,{header:!0},s.a.createElement(J.a,{to:"/home"},"LLT")),s.a.createElement(X.a.Menu,{position:"right"},s.a.createElement(X.a.Item,null,s.a.createElement(J.a,{to:"/login"},"Log In"))));switch(a.props.app.creatorMode){case!0:return s.a.createElement(s.a.Fragment,null,s.a.createElement(X.a.Item,{header:!0},s.a.createElement(J.a,{to:"/home"},"LLT")),s.a.createElement(X.a.Menu,{position:"right"},s.a.createElement(X.a.Item,{onClick:a.switchMode,style:{cursor:"pointer"}},s.a.createElement("div",null,"Go to Student Mode")),s.a.createElement(X.a.Item,null,s.a.createElement("a",{href:"/api/logout"},"Log Out"))));default:return s.a.createElement(s.a.Fragment,null,s.a.createElement(X.a.Item,{header:!0},s.a.createElement(J.a,{to:"/home"},"LLT")),s.a.createElement(X.a.Menu,{position:"right"},s.a.createElement(X.a.Item,{onClick:a.switchMode,style:{cursor:"pointer"}},s.a.createElement("div",null,"Go to Creator Mode")),s.a.createElement(X.a.Item,null,s.a.createElement("a",{href:"/api/logout"},"Log Out"))))}},a.renderMenu=function(){if(!a.props.auth)return s.a.createElement(s.a.Fragment,null,s.a.createElement(X.a.Item,{header:!0},s.a.createElement(J.a,{to:"/home"},"LLT")),s.a.createElement(X.a.Menu,{position:"right"},s.a.createElement(X.a.Item,null,s.a.createElement(J.a,{to:"/login"},"Log In"))));switch(a.props.app.creatorMode){case!0:return s.a.createElement(s.a.Fragment,null,s.a.createElement(X.a.Item,{header:!0},s.a.createElement(J.a,{to:"/home"},"LLT")),s.a.createElement(X.a.Item,null,s.a.createElement($,null)),s.a.createElement(X.a.Menu,{position:"right"},s.a.createElement(X.a.Item,{onClick:a.switchMode,style:{cursor:"pointer"}},s.a.createElement("div",null,"Go to Student Mode")),s.a.createElement(X.a.Item,null,s.a.createElement("a",{href:"/api/logout"},"Log Out"))));default:return s.a.createElement(s.a.Fragment,null,s.a.createElement(X.a.Item,{header:!0},s.a.createElement(J.a,{to:"/home"},"LLT")),s.a.createElement(X.a.Item,null,s.a.createElement($,null)),s.a.createElement(X.a.Menu,{position:"right"},s.a.createElement(X.a.Item,{onClick:a.switchMode,style:{cursor:"pointer"}},s.a.createElement("div",null,"Go to Creator Mode")),s.a.createElement(X.a.Item,null,s.a.createElement("a",{href:"/api/logout"},"Log Out"))))}},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return"mobile"===this.props.device?s.a.createElement(X.a,{fixed:"top",style:{boxShadow:"0 6px 6px 2px #ccc"}},this.renderMobileMenu()):s.a.createElement(X.a,{vertical:!0,fixed:"left",style:{boxShadow:"0 6px 6px 2px #ccc"}},this.renderMenu())}}]),t}(s.a.Component),te=Object(u.connect)((function(e){return{auth:e.auth,app:e.app}}),n)(ee),ae=a(728),ne=a(724),re=a(710),se=(a(530),a(227)),oe=a.n(se),ce=a(709),le=function(){return s.a.createElement(ce.a,{active:!0,size:"huge",style:{position:"fixed",top:"50%",left:"60%"}},"Loading")},ie=a(716),ue=a(721),pe=a(715),me=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},a.handleClose=function(){a.setState({isOpen:!1})},a.handleOpen=function(){a.setState({isOpen:!0})},a.componentDidMount=function(){if(!a.props.recordType||!a.props.deleteFunction||!a.props.recordId||void 0===a.props.index)throw Error("Missing a required prop")},a.content=function(){var e=a.props,t=e.recordId,n=e.index,r=e.recordType,o=e.deleteFunction;return s.a.createElement("div",null,s.a.createElement("p",null,"Are you sure you want to permanently delete this ",r,"?"),s.a.createElement(ue.a,{color:"red",content:"Delete",size:"tiny",onClick:function(){return o(t,n,a.props.auth.id)}}),s.a.createElement(ue.a,{color:"grey",content:"Cancel",size:"tiny",onClick:a.handleClose}))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement(pe.a,{open:this.state.isOpen,onOpen:this.handleOpen,onClose:this.handleClose,content:this.content,trigger:this.props.trigger,on:"click"})}}]),t}(s.a.Component),de=Object(u.connect)((function(e){return{auth:e.auth,app:e.app}}),n)(me),he=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).handleNav=function(e){V.push("student/course/".concat(e))},a.handleCreatorNav=function(e){V.push("/creator/course/".concat(e))},a.renderStudentTable=function(){return s.a.createElement(ie.a,{celled:!0,singleLine:!0,sortable:!0,compact:!0},s.a.createElement(ie.a.Header,null,s.a.createElement(ie.a.Row,null,s.a.createElement(ie.a.HeaderCell,null,"Course"),s.a.createElement(ie.a.HeaderCell,null,"Owner"),s.a.createElement(ie.a.HeaderCell,null,"Language"),s.a.createElement(ie.a.HeaderCell,null,"Create Date"))),s.a.createElement(ie.a.Body,null,a.props.app&&a.props.app.coursesTableStudent?a.props.app.coursesTableStudent.map((function(e,t){return s.a.createElement(ie.a.Row,{key:t,onClick:function(){return a.handleNav(e.id)}},s.a.createElement(ie.a.Cell,null,e.title),s.a.createElement(ie.a.Cell,null,e.first_name," ",e.last_name),s.a.createElement(ie.a.Cell,null,e.language.charAt(0).toUpperCase()+e.language.substr(1).toLowerCase()),s.a.createElement(ie.a.Cell,null,new Date(1e3*e.create_date).toLocaleString()))})):null))},a.deleteCourse=function(e,t,n){return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.a.awrap(a.props.deleteCourse(e,t,n));case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}))},a.renderCreatorTable=function(){return s.a.createElement(ie.a,{celled:!0,singleLine:!0,sortable:!0,compact:!0,basic:!0},s.a.createElement(ie.a.Header,null,s.a.createElement(ie.a.Row,null,s.a.createElement(ie.a.HeaderCell,null,"Course"),s.a.createElement(ie.a.HeaderCell,null,"Owner"),s.a.createElement(ie.a.HeaderCell,null,"Create Date"),s.a.createElement(ie.a.HeaderCell,null,"Delete"))),s.a.createElement(ie.a.Body,null,a.props.app&&a.props.app.coursesTable?a.props.app.coursesTable.map((function(e,t){return s.a.createElement(ie.a.Row,{key:t},s.a.createElement(ie.a.Cell,{onClick:function(){return a.handleCreatorNav(e.course_id)}},e.title),s.a.createElement(ie.a.Cell,{onClick:function(){return a.handleCreatorNav(e.course_id)}},e.first_name," ",e.last_name),s.a.createElement(ie.a.Cell,{onClick:function(){return a.handleCreatorNav(e.course_id)}},new Date(1e3*e.create_date).toLocaleString()),s.a.createElement(de,{trigger:s.a.createElement(ie.a.Cell,null,s.a.createElement(K.a,{name:"delete",style:{color:"red"}})),on:"click",position:"top center",recordId:e.course_id,index:t,recordType:"course",deleteFunction:a.deleteCourse}))})):s.a.createElement(ce.a,{active:!0})))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchCourses(),this.props.fetchAllCourses()}},{key:"render",value:function(){return this.props.app.creatorMode?this.renderCreatorTable():this.renderStudentTable()}}]),t}(s.a.Component),fe=Object(u.connect)((function(e){return{auth:e.auth,app:e.app}}),n)(he),ge=function(e){function t(){return Object(y.a)(this,t),Object(w.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.setStudentMode()}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(ne.a.Column,{width:16},s.a.createElement("h2",null,"Available Courses"),s.a.createElement(fe,{renderLocation:this.props.match.url})))}}]),t}(s.a.Component),Ee=Object(u.connect)((function(e){return{auth:e.auth}}),n)(ge),be=function(e,t){var a;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(S.a.post("/api/course",{id:e,userId:t}));case 2:return a=n.sent,n.abrupt("return",a.data);case 4:case"end":return n.stop()}}))},ye=function(e){var t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.awrap(S.a.get("/api/symbols/".concat(e)));case 2:return t=a.sent,a.abrupt("return",t.data);case 4:case"end":return a.stop()}}))},ve=function(e){var t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.awrap(S.a.get("/api/lessons/".concat(e)));case 2:return t=a.sent,a.abrupt("return",t.data);case 4:case"end":return a.stop()}}))},we=function(e){var t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.awrap(S.a.get("/api/symbolsbylesson/".concat(e)));case 2:return t=a.sent,a.abrupt("return",t.data);case 4:case"end":return a.stop()}}))},Ce=function(e){var t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.awrap(S.a.put("/api/course",e));case 2:return t=a.sent,a.abrupt("return",t.data);case 4:case"end":return a.stop()}}))},Oe=function(e){var t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.awrap(S.a.post("/api/lessons",{lesson:e}));case 2:return t=a.sent,a.abrupt("return",t.data);case 4:case"end":return a.stop()}}))},xe=function(e){var t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.awrap(S.a.delete("/api/lessons/".concat(e)));case 2:return t=a.sent,a.abrupt("return",t.data);case 4:case"end":return a.stop()}}))},Se=function(e,t){var a;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(S.a.post("/api/users_courses",{userId:e,courseId:t}));case 2:return a=n.sent,n.abrupt("return",a.data);case 4:case"end":return n.stop()}}))},je=function(e){var t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,b.a.awrap(S.a.delete("/api/users/".concat(e)));case 3:return t=a.sent,console.log(t.data),a.abrupt("return",t.data);case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),null,null,[[0,8]])},ke=function(e){var t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,b.a.awrap(S.a.get("/api/logins/".concat(e)));case 3:return t=a.sent,console.log(t.data),a.abrupt("return",t.data);case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),null,null,[[0,8]])},_e=function(e,t){var a;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,b.a.awrap(S.a.post("/auth/reset",{email:e,domain:t}));case 3:return a=n.sent,n.abrupt("return",a.data);case 7:throw n.prev=7,n.t0=n.catch(0),console.log(n.t0),new Error(n.t0);case 11:case"end":return n.stop()}}),null,null,[[0,7]])},Le=function(e,t,a,n){var r,s;return b.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,!e){o.next=8;break}return o.next=4,b.a.awrap(S.a.post("/auth/resetpassword",{token:e,password:t,userId:a}));case 4:return r=o.sent,o.abrupt("return",r.data);case 8:if(!n){o.next=13;break}return o.next=11,b.a.awrap(S.a.post("/auth/resetpassword",{currentPassword:n,password:t,userId:a}));case 11:return s=o.sent,o.abrupt("return",s.data);case 13:o.next=19;break;case 15:throw o.prev=15,o.t0=o.catch(0),console.log(o.t0),new Error(o.t0);case 19:case"end":return o.stop()}}),null,null,[[0,15]])},Ie=function(e){var t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,b.a.awrap(S.a.post("/auth/checktoken",{token:e}));case 3:return t=a.sent,a.abrupt("return",t.data);case 7:throw a.prev=7,a.t0=a.catch(0),console.log(a.t0),new Error(a.t0);case 11:case"end":return a.stop()}}),null,null,[[0,7]])},De=function(e,t){var a;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,b.a.awrap(S.a.get("/api/users/".concat(t,"/lessons/").concat(e,"/challenges")));case 3:return a=n.sent,n.abrupt("return",a.data);case 7:throw n.prev=7,n.t0=n.catch(0),console.log(n.t0),new Error(n.t0);case 11:case"end":return n.stop()}}),null,null,[[0,7]])},Pe=function(e,t){var a;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,b.a.awrap(S.a.post("/api/lessons/lastchallenge",{userId:e,lessonId:t}));case 3:return a=n.sent,n.abrupt("return",a.data);case 7:throw n.prev=7,n.t0=n.catch(0),console.log(n.t0),new Error(n.t0);case 11:case"end":return n.stop()}}),null,null,[[0,7]])},Ne=function(e,t){var a;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,b.a.awrap(S.a.get("/api/challenges/".concat(e,"/checkanswer/").concat(t)));case 3:return a=n.sent,n.abrupt("return",a.data);case 7:throw n.prev=7,n.t0=n.catch(0),console.log(n.t0),new Error(n.t0);case 11:case"end":return n.stop()}}),null,null,[[0,7]])},Ae=a(723),Me=a(371),Te=a(175),Re=a(725),Fe=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),s=Object(Me.a)(r,1)[0];return n.splice(a,0,s),n},He=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={lessons:a.props.lessons},a.onDragEnd=function(e){var t,n;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.destination){r.next=2;break}return r.abrupt("return");case 2:t=Fe(a.state.lessons,e.source.index,e.destination.index),a.setState({lessons:t}),n=t.map((function(e){return e.id})).toString(),Ce({title:a.props.course.title,language:a.props.course.language,description:a.props.course.description,difficulty:a.props.course.difficulty,owner_id:a.props.course.owner_id,id:a.props.course.id,lessonsOrder:n});case 6:case"end":return r.stop()}}))},a.getItemStyle=function(e,t){return Object(d.a)({background:e&&"lightblue",display:e&&"table",borderRadius:"5px"},t)},a.deleteLesson=function(e,t,n){var r;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(xe(e));case 2:(r=Object(m.a)(a.state.lessons)).splice(t,1),a.setState({lessons:r});case 5:case"end":return n.stop()}}))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.lessons!==e.lessons&&this.setState({lessons:this.props.lessons})}},{key:"render",value:function(){var e=this;return s.a.createElement(Te.a,{onDragEnd:this.onDragEnd,onDragStart:this.onDragStart},s.a.createElement(ie.a,{celled:!0,singleLine:!0,compact:!0},s.a.createElement(ie.a.Header,null,s.a.createElement(ie.a.Row,null,s.a.createElement(ie.a.HeaderCell,null,"Title"),s.a.createElement(ie.a.HeaderCell,null,"Categories"),s.a.createElement(ie.a.HeaderCell,null,"# Symbols"),s.a.createElement(ie.a.HeaderCell,null,"Create Date"),"creator"===this.props.mode?s.a.createElement(ie.a.HeaderCell,null,"Delete"):s.a.createElement(ie.a.HeaderCell,null,"Begin"))),s.a.createElement(Te.c,{droppableId:"table"},(function(t,a){return s.a.createElement(Re.a,{innerRef:t.innerRef},s.a.createElement(ie.a.Body,Object.assign({},t.droppableProps,{id:"table-body"}),e.state.lessons&&e.state.lessons.map((function(t,a){return s.a.createElement(Te.b,{isDragDisabled:"creator"!==e.props.mode,draggableId:t.id,index:a,key:t.id},(function(n,r){return s.a.createElement(Re.a,{innerRef:n.innerRef},s.a.createElement(ie.a.Row,Object.assign({},n.draggableProps,n.dragHandleProps,{style:e.getItemStyle(r.isDragging,n.draggableProps.style)}),s.a.createElement(ie.a.Cell,{style:{width:"30%"}},t.title),s.a.createElement(ie.a.Cell,{style:{width:"15%"}},t.categories?t.categories:""),s.a.createElement(ie.a.Cell,{style:{width:"15%"}},t.symbols?t.symbols.length:""),s.a.createElement(ie.a.Cell,{style:{width:"30%"}},new Date(1e3*t.create_date).toLocaleString()),"creator"===e.props.mode?s.a.createElement(de,{deleteFunction:e.deleteLesson,recordId:t.id,index:a,recordType:"lesson",on:"click",position:"top center",trigger:s.a.createElement(ie.a.Cell,{style:{width:"10%"}},s.a.createElement(K.a,{name:"delete",style:{color:"red"}}))}):s.a.createElement(ie.a.Cell,{style:{width:"10%"}},s.a.createElement(J.a,{to:"".concat(e.props.location,"/lesson/").concat(t.id)},"Begin"))))}))})),t.placeholder))}))))}}]),t}(s.a.Component),Ue=function(e){function t(){return Object(y.a)(this,t),Object(w.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement(He,{symbols:this.props.symbols,mode:this.props.mode,location:this.props.location,lessons:this.props.lessons,course:this.props.course})}}]),t}(s.a.Component),Be=Object(u.connect)((function(e){return{auth:e.auth,app:e.app}}),n)(Ue),Ge=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).handleNav=function(e){V.push("/student/symbol/".concat(e))},a.handleCreatorNav=function(e){V.push("/creator/symbol/".concat(e))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"renderStudentTable",value:function(){var e=this;return s.a.createElement(ie.a,{compact:!0,celled:!0,singleLine:!0,sortable:!0},s.a.createElement(ie.a.Header,null,s.a.createElement(ie.a.Row,null,s.a.createElement(ie.a.HeaderCell,null,"ID"),s.a.createElement(ie.a.HeaderCell,null,"Text"),s.a.createElement(ie.a.HeaderCell,null,"Create Date"))),s.a.createElement(ie.a.Body,null,this.props.symbols.map((function(t,a){return s.a.createElement(ie.a.Row,{key:a,onClick:function(){return e.handleNav(t.id)}},s.a.createElement(ie.a.Cell,null,t.id),s.a.createElement(ie.a.Cell,null,t.text),s.a.createElement(ie.a.Cell,null,new Date(1e3*t.create_date).toLocaleString()))}))))}},{key:"renderCreatorTable",value:function(){var e=this;return s.a.createElement(ie.a,{compact:!0,celled:!0,singleLine:!0,sortable:!0},s.a.createElement(ie.a.Header,null,s.a.createElement(ie.a.Row,null,s.a.createElement(ie.a.HeaderCell,null,"ID"),s.a.createElement(ie.a.HeaderCell,null,"Text"),s.a.createElement(ie.a.HeaderCell,null,"Create Date"))),s.a.createElement(ie.a.Body,null,this.props.symbols.map((function(t,a){return s.a.createElement(ie.a.Row,{key:a,onClick:function(){return e.handleCreatorNav(t.id)}},s.a.createElement(ie.a.Cell,null,t.id),s.a.createElement(ie.a.Cell,null,t.text),s.a.createElement(ie.a.Cell,null,new Date(1e3*t.create_date).toLocaleString()))}))))}},{key:"render",value:function(){return this.props.app.creatorMode?this.renderCreatorTable():this.renderStudentTable()}}]),t}(s.a.Component),ze=Object(u.connect)((function(e){return{auth:e.auth,app:e.app}}),n)(Ge),qe=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={isLoaded:!1,courseStarted:!1,exists:!1},a.sortLessons=function(e,t){return e.sort((function(e,a){var n=t.indexOf(e.id);-1===n&&(n=t.length);var r=t.indexOf(a.id);return-1===r&&(r=t.length),n-r}))},a.startCourse=function(){Se(a.props.auth.id,parseInt(a.props.match.params.id)),a.setState({courseStarted:!0})},a.continueCourse=function(){},a.renderCourse=function(){return a.state.course&&a.state.isLoaded&&!a.state.hasError?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("h4",null,s.a.createElement(J.a,{to:"/student"},"Back to courses"))),s.a.createElement(Ae.a,{attached:!0},s.a.createElement("div",{className:"student-course-title-bar"},s.a.createElement("h2",null,a.state.course.title)),s.a.createElement("div",{className:"student-course-details"},s.a.createElement("p",null,"".concat(a.state.course.first_name," ").concat(a.state.course.last_name)),s.a.createElement("p",null,new Date(1e3*a.state.course.create_date).toLocaleDateString())),s.a.createElement("div",{className:"student-course-description"},s.a.createElement("p",null,a.state.course.description))),s.a.createElement(Ae.a,{attached:"bottom"},s.a.createElement(ne.a,null,s.a.createElement(ne.a.Row,{columns:1},s.a.createElement(ne.a.Column,null,a.state.courseStarted?s.a.createElement(ue.a,{animated:"fade",style:{background:"lightgreen",width:"100%"},onClick:a.continueCourse},s.a.createElement(ue.a.Content,{visible:!0},"Continue Course"),s.a.createElement(ue.a.Content,{hidden:!0},s.a.createElement(K.a,{name:"arrow right"}))):s.a.createElement(ue.a,{style:{background:"lightgreen",width:"100%"},onClick:a.startCourse},"Begin course"))))),a.state.courseStarted?s.a.createElement("div",null,s.a.createElement("h2",null,"Lessons"),s.a.createElement(Be,{location:a.props.match.url,lessons:a.state.lessons,course:a.state.course})):null):s.a.createElement("div",{className:"warning"},s.a.createElement("h2",null,"You do not have permission to access this record or this record does not exist."),s.a.createElement("p",null,"If you believe this is a mistake please contact Support."),s.a.createElement("a",{href:"mailto:support@".concat(window.location.host),target:"_blank",rel:"noopener noreferrer",style:{color:"#fff",textDecoration:"none"}},s.a.createElement(K.a,{name:"mail"}),"support@",window.location.host))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.a.awrap(be(this.props.match.params.id,this.props.auth.id));case 2:if(!(e=r.sent).exists){r.next=21;break}return r.next=6,b.a.awrap(ye(this.props.match.params.id));case 6:return t=r.sent,a=e.lessons_order.split(",").map((function(e){return parseInt(e)})),r.t0=this,r.next=11,b.a.awrap(ve(this.props.match.params.id));case 11:r.t1=r.sent,r.t2=a,n=r.t0.sortLessons.call(r.t0,r.t1,r.t2),this.props.app.startedCourses.map((function(e){return e.course_id})).indexOf(parseInt(this.props.match.params.id))>=0&&this.setState({courseStarted:!0}),this.setState({course:e}),this.setState({symbols:t}),this.setState({lessons:n}),this.setState({isLoaded:!0,hasError:!1}),r.next=22;break;case 21:this.setState({isLoaded:!0,hasError:!0});case 22:case"end":return r.stop()}}),null,this)}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(ne.a.Column,{width:16},this.state.isLoaded?this.renderCourse():s.a.createElement(le,null)))}}]),t}(s.a.Component),We=Object(u.connect)((function(e){return{auth:e.auth,app:e.app,form:e.forms.symbol}}),n)(qe);function Ye(e,t,a){for(var n=0;n<e.length;n+=1)if(e[n][t]===a)return n;return-1}var Ve=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(w.a)(this,Object(C.a)(t).call(this,e))).state={loaded:!1,courseId:a.props.match.params.courseid,lessonId:a.props.match.params.lessonid,symbols:[],lesson:{},message:"",error:!1,currentChallenge:null,indexOfCurrentChallenge:null,answerChecked:null,correct:null},a.componentDidUpdate=function(){console.log(a.state.currentChallenge)},a.componentDidMount=function(){var e,t,n;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.a.awrap(De(a.state.lessonId,a.props.auth.id));case 2:if(!(e=r.sent).success){r.next=7;break}a.setState({challenges:e.challenges}),r.next=10;break;case 7:if(e.success){r.next=10;break}throw a.setState({message:e.message,error:!0}),new Error(e.error);case 10:return r.next=12,b.a.awrap(Pe(a.props.auth.id,a.state.lessonId));case 12:t=r.sent.lastCompletedChallenge,n=Ye(a.state.challenges,"id",t),a.setState({currentChallenge:t,indexOfCurrentChallenge:n,loaded:!0});case 15:case"end":return r.stop()}}))},a.prevChallenge=function(){0===a.state.indexOfCurrentChallenge?console.log("Nothing back here"):a.setState({indexOfCurrentChallenge:a.state.indexOfCurrentChallenge-1,currentChallenge:a.state.challenges[a.state.indexOfCurrentChallenge-1].id,answerChecked:!1,correct:null})},a.nextChallenge=function(){a.state.indexOfCurrentChallenge+1===a.state.challenges.length?console.log("That's all of them"):a.setState({indexOfCurrentChallenge:a.state.indexOfCurrentChallenge+1,currentChallenge:a.state.challenges[a.state.indexOfCurrentChallenge+1].id,answerChecked:!1,correct:null})},a.SymbolProgress=function(e){var t=a.state.challenges;return s.a.createElement("div",{style:{margin:"3% 0",display:"flex",justifyContent:"space-between",flexWrap:"wrap"}},t.map((function(t,a){return s.a.createElement(K.a,{style:{fontSize:"40px",color:a===e.currentChallengeIndex?"yellow":"black"},name:"circle thin"})})))},a.submitAnswer=function(e){var t;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(Ne(a.state.currentChallenge,e));case 2:(t=n.sent).correct?(a.setState({answerChecked:!0,correct:!0}),setTimeout((function(){return a.nextChallenge()}),1e3)):a.setState({answerChecked:!0,correct:!1}),console.log(t.message);case 5:case"end":return n.stop()}}))},a.ImageContainer=function(e){var t=e.images;return s.a.createElement("div",{style:{width:"500px",height:"500px",border:"1px solid black",display:"grid",gridTemplateColumns:"1fr 1fr"}},t.map((function(e){return s.a.createElement("div",{style:{height:"250px",width:"250px"},onClick:function(){return a.submitAnswer(e.id)}},s.a.createElement("img",{alt:"a possible answer",style:{height:"100%",width:"100%"},src:e.url}))})))},a.playAudio=function(){a.audioPlayer.current.load(),a.audioPlayer.current.play()},a.LessonControls=function(e){return console.log(e.source),s.a.createElement("div",{style:{display:"grid",gridRowGap:"50px",justifyItems:"left",alignItems:"center"}},s.a.createElement("div",{className:"lesson-control-button",style:{fontSize:"48px"},onClick:a.playAudio},s.a.createElement(K.a,{name:"play"})," Play",s.a.createElement("audio",{ref:a.audioPlayer,id:"audio-player"},s.a.createElement("source",{src:e.source}))),s.a.createElement("div",{className:"lesson-control-button",style:{fontSize:"48px"},onClick:function(){return a.props.history.push("/student/course/".concat(a.state.courseId))}},s.a.createElement(K.a,{name:"cancel"})," Cancel Lesson"))},a.audioPlayer=s.a.createRef(),a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){if(this.state.error)throw new Error("Something went wrong");return this.state.loaded?s.a.createElement("div",{style:{width:"100%",height:"100%"}},s.a.createElement("h1",null,this.state.lesson.title),s.a.createElement(this.SymbolProgress,{currentChallengeIndex:this.state.indexOfCurrentChallenge}),s.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr"}},s.a.createElement(this.ImageContainer,{images:this.state.challenges[this.state.indexOfCurrentChallenge].images}),this.state.answerChecked?this.state.correct?s.a.createElement("div",{className:"answer correct"},s.a.createElement("h1",null,"Correct!")):s.a.createElement("div",{className:"answer incorrect"},s.a.createElement("h1",null,"Wrong!")):null,s.a.createElement(this.LessonControls,{source:this.state.challenges[this.state.indexOfCurrentChallenge].audio_url}))):s.a.createElement(le,null)}}]),t}(s.a.Component),Xe=Object(u.connect)((function(e){return{auth:e.auth}}),n)(Ve),Je=a(173),Qe=a.n(Je),Ke=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={isHovering:!1},a.hover=function(e){a.setState({isHovering:!0})},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentWillUnmount",value:function(){this.props.clearSymbol()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"images-table"},this.props.app.symbol.images?this.props.app.symbol.images.map((function(t,a){return s.a.createElement(Qe.a,{options:{followCursor:!1,shiftX:0,shiftY:0},key:a},s.a.createElement(Qe.a.Trigger,{type:"trigger"},s.a.createElement("img",{onMouseEnter:function(){return e.hover(t)},src:t.url,alt:"",className:"symbol-image"})),s.a.createElement(Qe.a.Hover,{type:"hover"},s.a.createElement("div",null,s.a.createElement(K.a,{style:{position:"absolute",bottom:"3px",cursor:"pointer",color:"red"},onClick:function(){console.log(t)},name:"delete",size:"big"}))))})):null)}}]),t}(s.a.Component),Ze=Object(u.connect)((function(e){return{auth:e.auth,app:e.app}}),n)(Ke),$e=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(w.a)(this,Object(C.a)(t).call(this,e))).playAudio=function(){a.audioPlayer.current.play()},a.audioPlayer=s.a.createRef(),a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.getSymbol(this.props.match.params.id)}},{key:"componentWillUnmount",value:function(){this.props.clearSymbol()}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.props.app.symbol.symbol?s.a.createElement(ne.a.Column,{width:16},s.a.createElement("ul",null,s.a.createElement("li",null,this.props.app.symbol.symbol?this.props.app.symbol.symbol.id:null),s.a.createElement("li",null,this.props.app.symbol.symbol?this.props.app.symbol.symbol.text:null),s.a.createElement("li",null,this.props.app.symbol.symbol?new Date(1e3*this.props.app.symbol.symbol.create_date).toLocaleString():null)),s.a.createElement(ue.a,{onClick:this.playAudio},s.a.createElement(K.a,{name:"play"})),s.a.createElement("audio",{ref:this.audioPlayer,id:"audio-player"},s.a.createElement("source",{src:this.props.app.symbol.symbol.audio_url})),s.a.createElement(Ze,null)):s.a.createElement(le,null))}}]),t}(s.a.Component),et=Object(u.connect)((function(e){return{auth:e.auth,app:e.app}}),n)($e),tt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).routes=function(){return s.a.createElement(Y.c,null,s.a.createElement(Y.a,{exact:!0,path:"".concat(a.props.match.url,"/"),component:Ee}),s.a.createElement(Y.a,{exact:!0,path:"".concat(a.props.match.url,"/course/:id"),component:We}),s.a.createElement(Y.a,{exact:!0,path:"".concat(a.props.match.url,"/course/:courseid/lesson/:lessonid"),component:Xe}),s.a.createElement(Y.a,{exact:!0,path:"".concat(a.props.match.url,"/symbol/:id"),component:et}))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.setStudentMode(),this.props.fetchCourses(),this.props.fetchAllCourses(),this.props.fetchStartedCourses(this.props.auth.id)}},{key:"render",value:function(){return this.routes()}}]),t}(s.a.Component),at=Object(u.connect)((function(e){return{auth:e.auth}}),n)(tt),nt=a(714),rt=a(349);var st=function(e){return s.a.createElement(h.Form,Object.assign({},e,{className:"ui form"}))},ot=a(350),ct=a(369),lt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={files:[]},a.onDrop=function(e){console.log(e),a.setState({files:[].concat(Object(m.a)(a.state.files),[e])})},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.state.files.map((function(e,t){return s.a.createElement("li",{key:t},e.name," - ",(e.size/1e3).toFixed()," kb")}));return s.a.createElement(ct.a,{onDrop:this.onDrop},(function(a){var n=a.getRootProps,r=a.getInputProps;return s.a.createElement("section",{className:"container"},s.a.createElement("div",n({className:"dropzone"}),s.a.createElement("input",r()),e.props.children),s.a.createElement("aside",null,s.a.createElement("ul",null,t)))}))}}]),t}(s.a.Component),it=window.fabric,ut=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={svg:"",brush:{color:"black",width:10},freeDraw:!1,images:[]},a.addRect=function(){var e=new it.Rect({left:100,top:100,bottom:100,right:100,fill:"red",width:200,height:200});a.props.canvas.add(e)},a.logSVG=function(){it.log(a.props.canvas.toSVG()),a.setState({svg:a.props.canvas.toSVG({suppressPreamble:!0})})},a.handleChange=function(e){return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.awrap(a.setState(Object(d.a)({},a.state,{brush:Object(d.a)({},a.state.brush,{color:e.hex})})));case 2:a.updateFreeDraw();case 3:case"end":return t.stop()}}))},a.freeDraw=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState(Object(d.a)({},a.state,{brush:Object(d.a)({},a.state.brush),freeDraw:!a.state.freeDraw})),a.props.canvas.freeDrawingBrush.color=a.state.brush.color,a.props.canvas.freeDrawingBrush.width=parseInt(a.state.brush.width,10)||1,a.props.canvas.isDrawingMode=a.state.freeDraw;case 4:case"end":return e.stop()}}))},a.clear=function(){a.props.canvas.clear()},a.removeObject=function(){a.props.canvas.remove(a.props.canvas.getActiveObject())},a.updateFreeDraw=function(){a.props.canvas.freeDrawingBrush.color=a.state.brush.color,a.props.canvas.freeDrawingBrush.width=parseInt(a.state.brush.width,10)||10,a.props.canvas.isDrawingMode=!0},a.addImage=function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.props.canvas.toDataURL({format:"png"}),a.setState({images:[].concat(Object(m.a)(a.state.images),[e])}),t.next=4,b.a.awrap(a.props.addSymbolImage(e));case 4:a.clear();case 5:case"end":return t.stop()}}))},a.renderImages=function(){return s.a.createElement("div",null,a.props.app.symbolImages.map((function(e,t){return s.a.createElement("img",{width:"30%",src:e,key:t,alt:""})})))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(ne.a,{stackable:!0},s.a.createElement(ne.a.Row,null,s.a.createElement(ne.a.Column,{width:6},s.a.createElement(st,{model:"forms.symbol",onSubmit:function(t){return e.addSymbol(t)},className:"ui form",validateOn:"submit"},s.a.createElement("div",{className:"fields",style:{width:"110%"}},s.a.createElement("div",{className:"field",style:{width:"100%"}},s.a.createElement(h.Control.text,{model:"forms.symbol.text",placeholder:"Symbol Text",validators:{required:function(e){return e&&e.length}},validateOn:"change"}),s.a.createElement(h.Errors,{className:"error",model:"forms.course.title",show:{touched:!0,focus:!1},messages:{required:"Required"}})))),s.a.createElement("canvas",{id:this.props.id,width:"300",height:"300",style:{border:"1px solid black"}})),s.a.createElement(ne.a.Column,{width:5},s.a.createElement("div",null,s.a.createElement(pe.a,{trigger:s.a.createElement(ue.a,{icon:!0,onClick:this.freeDraw},s.a.createElement(K.a,{name:"paint brush"})),content:"Draw",position:"bottom center"}),s.a.createElement(pe.a,{trigger:s.a.createElement(ue.a,{icon:!0,onClick:this.clear},s.a.createElement(K.a,{name:"remove"})),content:"Clear Canvas",position:"bottom center"}),s.a.createElement(pe.a,{trigger:s.a.createElement(ue.a,{icon:!0,onClick:this.removeObject},s.a.createElement(K.a,{name:"minus square"})),content:"Remove Object",position:"bottom center"}),s.a.createElement(pe.a,{trigger:s.a.createElement(ue.a,{icon:!0,onClick:this.addImage},s.a.createElement(K.a,{name:"plus square"})),content:"Add to Symbol",position:"bottom center"})),s.a.createElement(ot.SketchPicker,{width:"92%",color:this.state.brush.color,className:"colorpicker",onChangeComplete:this.handleChange}),s.a.createElement(rt.Slider,{value:this.state.brush.width,color:"4A4A4A",settings:{min:0,max:100,step:1,onChange:function(t){e.setState({brush:Object(d.a)({},e.state.brush,{width:t})}),e.updateFreeDraw()}}})),s.a.createElement(ne.a.Column,{width:5},s.a.createElement(lt,null,s.a.createElement("div",{style:{border:"1px solid black",height:"100px"}})),s.a.createElement("div",null,this.renderImages()))))}}]),t}(s.a.Component),pt=Object(u.connect)((function(e){return{auth:e.auth,app:e.app,forms:e.forms}}),n)(ut),mt=window.fabric,dt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).addSymbol=function(e){a.props.addSymbol({owner_id:a.props.auth.id,course_id:a.props.app.course.course_id,text:e.text,language:a.props.app.course.language})},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.canvas=new mt.Canvas("canvas")}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(pt,{id:"canvas",canvas:this.canvas}))}}]),t}(s.a.Component),ht=Object(u.connect)((function(e){return{auth:e.auth,app:e.app,forms:e.forms}}),n)(dt),ft=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={modalOpen:a.props.modalOpen,isSubmitting:!1},a.clearSymbolImages=function(){a.props.clearSymbolImages()},a.close=function(){a.setState({modalOpen:!1}),a.props.resetForm("forms.symbol"),a.props.clearSymbolImages()},a.open=function(){a.setState({modalOpen:!0})},a.saveImages=function(e){e.forEach((function(e){var t={owner_id:a.props.auth.id,data:e};a.props.saveSymbolImage(t)}))},a.submit=function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.props.form.text,a.setState({isSubmitting:!0}),t.next=4,b.a.awrap(a.props.addSymbol({owner_id:a.props.auth.id,course_id:a.props.courseId,text:e,language:a.props.courseLanguage,images:a.props.app.symbolImages}));case 4:a.setState({isSubmitting:!1}),a.close(),a.updateParent();case 7:case"end":return t.stop()}}))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=this;document.addEventListener("click",(function(t){t.target.className.indexOf("dimmer")>0&&e.close()}))}},{key:"updateParent",value:function(){this.props.toggleShowModalCallback()}},{key:"render",value:function(){return s.a.createElement(nt.a,{trigger:s.a.createElement(ue.a,{onClick:this.open,positive:!0},"Add A Symbol"),onClose:this.props.clearSymbolImages,open:this.state.modalOpen},s.a.createElement(nt.a.Header,null,"Add a Symbol"),s.a.createElement(nt.a.Content,null,s.a.createElement(nt.a.Description,null,s.a.createElement(ht,null))),s.a.createElement(nt.a.Actions,null,s.a.createElement(ue.a,{onClick:this.close,negative:!0},"Cancel"),this.state.isSubmitting?s.a.createElement(ue.a,{loading:!0,positive:!0},"Loading"):s.a.createElement(ue.a,{onClick:this.submit,positive:!0,labelPosition:"right",icon:"checkmark",content:"Add"})))}}]),t}(s.a.Component),gt=Object(u.connect)((function(e){return{auth:e.auth,app:e.app,form:e.forms.symbol}}),n)(ft),Et=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).addCourse=function(e){a.props.addCourse({title:e.title,language:e.language,description:e.description,difficulty:e.difficulty,owner_id:a.props.auth.id})},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(h.Form,{validateOn:"submit",model:"forms.course",onSubmit:function(t){return e.addCourse(t)},className:"ui form"},s.a.createElement("div",{className:"three fields"},s.a.createElement("div",{className:"field"},s.a.createElement(h.Control.text,{defaultValue:this.props.editing?this.props.title:"",model:"forms.course.title",placeholder:"Title",validators:{required:function(e){return e&&e.length}},validateOn:"change"}),s.a.createElement(h.Errors,{className:"error",model:"forms.course.title",show:{touched:!0,focus:!1},messages:{required:"Required"}})),s.a.createElement("div",{className:"field"},s.a.createElement(h.Control.select,{disabled:this.props.editing,validators:{required:function(e){return e&&e.length}},defaultValue:this.props.editing?this.props.language:"english",model:"forms.course.language",className:"ui selection dropdown",placeholder:"Language"},s.a.createElement("option",{value:"english"},"English"),s.a.createElement("option",{value:"spanish"},"Spanish"),s.a.createElement("option",{value:"german"},"German")),s.a.createElement(h.Errors,{className:"error",model:"forms.course.language",show:!1,messages:{required:"Required"}})),s.a.createElement("div",{className:"field"},s.a.createElement(h.Control.select,{validators:{required:function(e){return e&&e.length}},defaultValue:this.props.editing?this.props.difficulty:"novice",model:"forms.course.difficulty",className:"ui selection dropdown",placeholder:"Difficulty"},s.a.createElement("option",{value:"novice"},"Novice"),s.a.createElement("option",{value:"intermediate"},"Intermediate"),s.a.createElement("option",{value:"advanced"},"Advanced")),s.a.createElement(h.Errors,{className:"error",model:"forms.course.difficulty",show:!1,messages:{required:"Required"}}))),s.a.createElement("div",{className:"field"},s.a.createElement(h.Control.textarea,{validators:{required:function(e){return e&&e.length}},defaultValue:this.props.editing?this.props.description:"",validateOn:"change",model:"forms.course.description",placeholder:"Description"}),s.a.createElement(h.Errors,{className:"error",model:"forms.course.description",show:"touched",messages:{required:"Required"}})))}}]),t}(s.a.Component),bt=Object(u.connect)((function(e){return{auth:e.auth,app:e.app,forms:e.forms}}),n)(Et),yt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,isSubmitting:!1},a.open=function(){a.setState({open:!0})},a.close=function(){a.props.resetForm("forms.course",{language:"english",difficulty:"novice"}),a.setState({open:!1})},a.submit=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isSubmitting:!0}),e.next=3,b.a.awrap(a.props.editCourse({title:a.props.forms.course.title,language:a.props.forms.course.language,description:a.props.forms.course.description,difficulty:a.props.forms.course.difficulty,owner_id:a.props.auth.id,id:a.props.courseId,lessonsOrder:a.props.forms.course.lessonsOrder}));case 3:a.updateParent(),a.setState({isSubmitting:!1}),a.close();case 6:case"end":return e.stop()}}))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("click",(function(t){t.target.className.indexOf("dimmer")>0&&e.close()}))}},{key:"updateParent",value:function(){this.props.toggleShowModalCallback()}},{key:"render",value:function(){return s.a.createElement(nt.a,{trigger:s.a.createElement(ue.a,{icon:"pencil",onClick:this.open}),open:this.state.open},s.a.createElement(nt.a.Header,null,"Edit Course"),s.a.createElement(nt.a.Content,null,s.a.createElement(nt.a.Description,null,s.a.createElement(bt,{editing:!0,title:this.props.title,description:this.props.description,difficulty:this.props.difficulty,language:this.props.language}))),s.a.createElement(nt.a.Actions,null,s.a.createElement(ue.a,{onClick:this.close,negative:!0},"Cancel"),this.state.isSubmitting?s.a.createElement(ue.a,{loading:!0,positive:!0},"Loading"):s.a.createElement(ue.a,{onClick:this.submit,positive:!0,labelPosition:"right",icon:"checkmark",content:"Edit"})))}}]),t}(s.a.Component),vt=Object(u.connect)((function(e){return{auth:e.auth,app:e.app,forms:e.forms}}),n)(yt),wt=a(717),Ct=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={selectedSymbols:[]},a.handleSelect=function(e,t){a.props.resetForm("forms.lesson",{symbols:t.value,title:a.props.forms.lesson.title}),a.setState({selectedSymbols:t.value})},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement(h.Form,{validateOn:"submit",model:"forms.lesson",className:"ui form"},s.a.createElement("div",{className:"two fields"},s.a.createElement("div",{className:"field"},s.a.createElement(h.Control.text,{defaultValue:this.props.editing?this.props.title:"",model:"forms.lesson.title",placeholder:"Title",validators:{required:function(e){return e&&e.length}},validateOn:"change"}),s.a.createElement(h.Errors,{className:"error",model:"forms.lesson.title",show:{touched:!0,focus:!1},messages:{required:"Required"}})),s.a.createElement("div",{className:"field"},s.a.createElement(wt.a,{placeholder:"Symbols",fluid:!0,multiple:!0,selection:!0,onChange:this.handleSelect,options:this.props.symbols.map((function(e){return{key:e.text,text:e.text,value:e.id}}))}))))}}]),t}(s.a.Component),Ot=Object(u.connect)((function(e){return{auth:e.auth,app:e.app,forms:e.forms}}),n)(Ct),xt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.open=function(){a.setState({open:!0})},a.close=function(){a.props.resetForm("forms.lesson"),a.setState({open:!1})},a.submit=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isSubmitting:!0}),e.next=3,b.a.awrap(Oe(Object(d.a)({},a.props.forms.lesson,{courseId:a.props.course.course_id})));case 3:a.setState({isSubmitting:!1}),a.close(),a.updateParent();case 6:case"end":return e.stop()}}))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("click",(function(t){t.target.className.indexOf("dimmer")>0&&e.close()}))}},{key:"updateParent",value:function(){this.props.toggleShowModalCallback()}},{key:"render",value:function(){return s.a.createElement(nt.a,{trigger:s.a.createElement(ue.a,{onClick:this.open,positive:!0},"Add A Lesson"),open:this.state.open},s.a.createElement(nt.a.Header,null,"Add a Lesson"),s.a.createElement(nt.a.Content,null,s.a.createElement(nt.a.Description,null,s.a.createElement(Ot,{symbols:this.props.symbols}))),s.a.createElement(nt.a.Actions,null,s.a.createElement(ue.a,{onClick:this.close,negative:!0},"Cancel"),this.state.isSubmitting?s.a.createElement(ue.a,{loading:!0,positive:!0},"Loading"):s.a.createElement(ue.a,{onClick:this.submit,positive:!0,labelPosition:"right",icon:"checkmark",content:"Add"})))}}]),t}(s.a.Component),St=Object(u.connect)((function(e){return{auth:e.auth,app:e.app,forms:e.forms}}),n)(xt),jt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={course:{},lessons:{},symbols:[],isLoaded:!1,showModal:!1,isFetching:!1,hasError:!1},a.sortLessons=function(e,t){return e.sort((function(e,a){var n=t.indexOf(e.id);-1===n&&(n=t.length);var r=t.indexOf(a.id);return-1===r&&(r=t.length),n-r}))},a.rerenderAfterSubmit=function(){var e,t,n,r;return b.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return a.setState({isFetching:!0}),s.next=3,b.a.awrap(ye(a.props.match.params.id));case 3:return e=s.sent,s.next=6,b.a.awrap(be(a.props.match.params.id,a.props.auth.id));case 6:return t=s.sent,s.next=9,b.a.awrap(t.lessons_order.split(",").map((function(e){return parseInt(e)})));case 9:return n=s.sent,s.t0=b.a,s.t1=a,s.next=14,b.a.awrap(ve(a.props.match.params.id));case 14:return s.t2=s.sent,s.t3=n,s.t4=s.t1.sortLessons.call(s.t1,s.t2,s.t3),s.next=19,s.t0.awrap.call(s.t0,s.t4);case 19:r=s.sent,a.setState({symbols:e,course:t,lessons:r}),a.setState({isFetching:!1});case 22:case"end":return s.stop()}}))},a.renderCourse=function(){return a.state.course&&a.state.course.owner&&!a.state.hasError?s.a.createElement("div",null,s.a.createElement("h4",null,s.a.createElement(J.a,{to:"/creator"},"Back to courses")),s.a.createElement(Ae.a,null,s.a.createElement("div",{className:"creator-course-title-bar"},s.a.createElement("h2",null,a.state.course.title),s.a.createElement(vt,{title:a.state.course.title,description:a.state.course.description,difficulty:a.state.course.difficulty,language:a.state.course.language,courseId:a.props.match.params.id,toggleShowModalCallback:a.rerenderAfterSubmit})),s.a.createElement("div",{className:"creator-course-details"},s.a.createElement("p",null,"".concat(a.state.course.first_name," ").concat(a.state.course.last_name)),s.a.createElement("p",null,new Date(1e3*a.state.course.create_date).toLocaleDateString())),s.a.createElement("div",{className:"creator-course-description"},s.a.createElement("p",null,a.state.course.description))),s.a.createElement("h2",null,"Lessons"),s.a.createElement(St,{symbols:a.state.symbols,toggleShowModalCallback:a.rerenderAfterSubmit,course:a.state.course}),s.a.createElement(Be,{mode:"creator",location:a.props.match.url,lessons:a.state.lessons,course:a.state.course}),s.a.createElement("h2",null,"Symbols"),a.props.app.creatorMode?s.a.createElement(gt,{courseId:a.state.course.course_id,courseLanguage:a.state.course.language,toggleShowModalCallback:a.rerenderAfterSubmit,modalOpen:a.state.showModal}):null,s.a.createElement(ze,{symbols:a.state.symbols,renderLocation:a.props.match.url})):s.a.createElement("div",{className:"warning"},s.a.createElement("h2",null,"You do not have permission to access this record or this record does not exist."),s.a.createElement("p",null,"If you believe this is a mistake please contact Support."),s.a.createElement("a",{href:"mailto:support@".concat(window.location.host),target:"_blank",rel:"noopener noreferrer",style:{color:"#fff",textDecoration:"none"}},s.a.createElement(K.a,{name:"mail"}),"support@",window.location.host))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.a.awrap(be(this.props.match.params.id,this.props.auth.id));case 2:if(!(e=r.sent).exists){r.next=20;break}return r.next=6,b.a.awrap(ye(this.props.match.params.id));case 6:return t=r.sent,a=e.lessons_order.split(",").map((function(e){return parseInt(e)})),r.t0=this,r.next=11,b.a.awrap(ve(this.props.match.params.id));case 11:r.t1=r.sent,r.t2=a,n=r.t0.sortLessons.call(r.t0,r.t1,r.t2),this.setState({course:Object(d.a)({},e,{id:this.props.match.params.id,owner_id:this.props.auth.id})}),this.setState({symbols:t}),this.setState({lessons:n}),this.setState({isLoaded:!0}),r.next=21;break;case 20:this.setState({isLoaded:!0,hasError:!0});case 21:case"end":return r.stop()}}),null,this)}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(ne.a.Column,{width:16},this.state.isLoaded?this.renderCourse():s.a.createElement(le,null)))}}]),t}(s.a.Component),kt=Object(u.connect)((function(e){return{auth:e.auth,app:e.app,form:e.forms.symbol}}),n)(jt),_t=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.open=function(){a.setState({open:!0})},a.close=function(){a.props.resetForm("forms.course",{language:"english",difficulty:"novice"}),a.setState({open:!1})},a.submit=function(){a.props.addCourse({title:a.props.forms.course.title,language:a.props.forms.course.language,description:a.props.forms.course.description,difficulty:a.props.forms.course.difficulty,owner_id:a.props.auth.id}),a.close()},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("click",(function(t){t.target.className.indexOf("dimmer")>0&&e.close()}))}},{key:"render",value:function(){return s.a.createElement(nt.a,{trigger:s.a.createElement(ue.a,{onClick:this.open,positive:!0},"Add A Course"),open:this.state.open},s.a.createElement(nt.a.Header,null,"Add a Course"),s.a.createElement(nt.a.Content,null,s.a.createElement(nt.a.Description,null,s.a.createElement(bt,null))),s.a.createElement(nt.a.Actions,null,s.a.createElement(ue.a,{onClick:this.close,negative:!0},"Cancel"),s.a.createElement(ue.a,{onClick:this.submit,positive:!0,labelPosition:"right",icon:"checkmark",content:"Add"})))}}]),t}(s.a.Component),Lt=Object(u.connect)((function(e){return{auth:e.auth,app:e.app,forms:e.forms}}),n)(_t),It=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.open=function(){a.setState({open:!0})},a.close=function(){a.props.resetForm("forms.course",{language:"english",difficulty:"novice"}),a.setState({open:!1})},a.submit=function(){a.props.addCourse({title:a.props.forms.course.title,language:a.props.forms.course.language,description:a.props.forms.course.description,difficulty:a.props.forms.course.difficulty,owner_id:a.props.auth.id}),a.close()},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.setCreatorMode(),this.props.history.push("/creator"),document.addEventListener("click",(function(t){t.target.className.indexOf("dimmer")>0&&e.close()}))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(ne.a.Column,{width:16},s.a.createElement("h2",null,"My Created Courses"),s.a.createElement(Lt,null),s.a.createElement(fe,{renderLocation:this.props.match.url})))}}]),t}(s.a.Component),Dt=Object(u.connect)((function(e){return{auth:e.auth,app:e.app,forms:e.forms}}),n)(It),Pt=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(w.a)(this,Object(C.a)(t).call(this,e))).playAudio=function(){a.audioPlayer.current.play()},a.audioPlayer=s.a.createRef(),a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.getSymbol(this.props.match.params.id)}},{key:"componentWillUnmount",value:function(){this.props.clearSymbol()}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.props.app.symbol.symbol?s.a.createElement(ne.a.Column,{width:16},s.a.createElement("ul",null,s.a.createElement("li",null,this.props.app.symbol.symbol?this.props.app.symbol.symbol.id:null),s.a.createElement("li",null,this.props.app.symbol.symbol?this.props.app.symbol.symbol.text:null),s.a.createElement("li",null,this.props.app.symbol.symbol?new Date(1e3*this.props.app.symbol.symbol.create_date).toLocaleString():null)),s.a.createElement(ue.a,{onClick:this.playAudio},s.a.createElement(K.a,{name:"play"})),s.a.createElement("audio",{ref:this.audioPlayer,id:"audio-player"},s.a.createElement("source",{src:this.props.app.symbol.symbol.audio_url})),s.a.createElement(Ze,null)):s.a.createElement(le,null))}}]),t}(s.a.Component),Nt=Object(u.connect)((function(e){return{auth:e.auth,app:e.app}}),n)(Pt),At=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={symbols:[]},a.componentWillMount=function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.awrap(we(a.props.match.params.lessonId));case 2:e=t.sent,a.setState({symbols:e});case 4:case"end":return t.stop()}}))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,"Hello, the course id is ",this.props.match.params.courseId," and the lesson id is ",this.props.match.params.lessonId,".",s.a.createElement("div",null,s.a.createElement("ul",null,this.state.symbols.map((function(e){return s.a.createElement("li",null,s.a.createElement("audio",{controls:!0,src:e.audio_url}))})))))}}]),t}(s.a.Component),Mt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).routes=function(){return s.a.createElement(Y.c,null,s.a.createElement(Y.a,{exact:!0,path:"".concat(a.props.match.url,"/"),component:Dt}),s.a.createElement(Y.a,{exact:!0,path:"".concat(a.props.match.url,"/course/:id"),component:kt}),s.a.createElement(Y.a,{exact:!0,path:"".concat(a.props.match.url,"/symbol/:id"),component:Nt}),s.a.createElement(Y.a,{exact:!0,path:"".concat(a.props.match.url,"/course/:courseId/lesson/:lessonId"),component:At}))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchCourses(),this.props.fetchAllCourses(),this.props.setCreatorMode()}},{key:"render",value:function(){return this.routes()}}]),t}(s.a.Component),Tt=Object(u.connect)((function(e){return{auth:e.auth,app:e.app,forms:e.forms}}),n)(Mt),Rt=a(726),Ft=a(720),Ht=a(713),Ut=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",error:""},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleEmailChange=function(e){a.setState({email:e.target.value})},a.submit=function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.awrap(S.a.post("/auth/login",{email:a.state.email,password:a.state.password}));case 2:if("redirect"!==(e=t.sent).data.message){t.next=9;break}return t.next=6,b.a.awrap(a.props.fetchUser());case 6:a.props.history.push("/home"),t.next=10;break;case 9:a.setState({error:e.data.message});case 10:case"end":return t.stop()}}))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return this.props.mobile?s.a.createElement(s.a.Fragment,null,s.a.createElement(ne.a.Column,{width:16},s.a.createElement(Rt.a,{as:"h2",textAlign:"center"},"Log In"),s.a.createElement("h4",{className:"error"},this.state.error?s.a.createElement(Ft.a,{negative:!0},this.state.error):null),s.a.createElement(Ht.a,{size:"large"},s.a.createElement(Ae.a,null,s.a.createElement(Ht.a.Input,{name:"email",fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",onChange:this.handleEmailChange,value:this.state.email}),s.a.createElement(Ht.a.Input,{name:"password",fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",onChange:this.handlePasswordChange,value:this.state.password}),s.a.createElement(ue.a,{fluid:!0,size:"large",onClick:this.submit},"Login ",s.a.createElement(K.a,{name:"chevron right"})))),s.a.createElement(Ft.a,null,"New? ",s.a.createElement(J.a,{to:"/register"},"Sign Up")),s.a.createElement(Ft.a,null,s.a.createElement(J.a,{to:"/forgot"},"Forgot your password?")),s.a.createElement(Ft.a,{className:"google"},s.a.createElement(K.a,{name:"google"}),s.a.createElement("a",{href:"/auth/google"},"Log in with Google")))):s.a.createElement(s.a.Fragment,null,s.a.createElement(ne.a.Column,{width:5}),s.a.createElement(ne.a.Column,{style:{maxWidth:450,margin:"0 auto"},width:6},s.a.createElement(Rt.a,{as:"h2",textAlign:"center"},"Log In"),s.a.createElement("h4",{className:"error"},this.state.error?s.a.createElement(Ft.a,{negative:!0},this.state.error):null),s.a.createElement(Ht.a,{size:"large"},s.a.createElement(Ae.a,null,s.a.createElement(Ht.a.Input,{name:"email",fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",onChange:this.handleEmailChange,value:this.state.email}),s.a.createElement(Ht.a.Input,{name:"password",fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",onChange:this.handlePasswordChange,value:this.state.password}),s.a.createElement(ue.a,{fluid:!0,size:"large",onClick:this.submit},"Login ",s.a.createElement(K.a,{name:"chevron right"})))),s.a.createElement(Ft.a,null,"New? ",s.a.createElement(J.a,{to:"/register"},"Sign Up")),s.a.createElement(Ft.a,null,s.a.createElement(J.a,{to:"/forgot"},"Forgot your password?")),s.a.createElement(Ft.a,{className:"google"},s.a.createElement(K.a,{name:"google"}),s.a.createElement("a",{href:"/auth/google"},"Log in with Google"))),s.a.createElement(ne.a.Column,{width:5}))}}]),t}(s.a.Component),Bt=Object(u.connect)((function(e){return{auth:e.auth,app:e.app}}),n)(Ut),Gt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",firstName:"",lastName:"",password:"",message:"",error:""},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleFirstNameChange=function(e){a.setState({firstName:e.target.value})},a.handleLastNameChange=function(e){a.setState({lastName:e.target.value})},a.handleEmailChange=function(e){a.setState({email:e.target.value})},a.submit=function(){var e,t,n,r,s,o;return b.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e=a.state,t=e.email,n=e.firstName,r=e.lastName,s=e.password,!(t&&n&&r&&s)){c.next=8;break}return c.next=4,b.a.awrap(S.a.post("/auth/register",{email:t,first_name:n,last_name:r,password:s}));case 4:"success"===(o=c.sent).data.message?(a.setState({message:"User created"}),setTimeout((function(){return a.props.history.push("/login")}),1e3)):a.setState({error:o.data.message}),c.next=9;break;case 8:a.setState({error:"Please complete all fields."});case 9:case"end":return c.stop()}}))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return this.props.mobile?s.a.createElement(s.a.Fragment,null,s.a.createElement(ne.a.Column,{width:16},s.a.createElement(Rt.a,{as:"h2",textAlign:"center"},"Register"),this.state.message?s.a.createElement(Ft.a,{success:!0},this.state.message):null,this.state.error?s.a.createElement(Ft.a,{negative:!0},this.state.error):null,s.a.createElement(Ht.a,{size:"large"},s.a.createElement(Ae.a,null,s.a.createElement(Ht.a.Input,{ref:this.emailField,onChange:this.handleEmailChange,name:"email",fluid:!0,icon:"envelope",iconPosition:"left",placeholder:"E-mail address"}),s.a.createElement(Ht.a.Input,{ref:this.firstNameField,onChange:this.handleFirstNameChange,name:"first_name",fluid:!0,icon:"user",iconPosition:"left",placeholder:"First Name"}),s.a.createElement(Ht.a.Input,{ref:this.lastNameField,onChange:this.handleLastNameChange,name:"last_name",fluid:!0,icon:"user",iconPosition:"left",placeholder:"Last Name"}),s.a.createElement(Ht.a.Input,{ref:this.passwordField,onChange:this.handlePasswordChange,name:"password",fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password"}),s.a.createElement(ue.a,{fluid:!0,size:"large",onClick:this.submit},"Register"))),s.a.createElement(Ft.a,null,"Have an existing account? ",s.a.createElement(J.a,{to:"/login"},"Log In")),s.a.createElement(Ft.a,{className:"google"},s.a.createElement(K.a,{name:"google"}),s.a.createElement("a",{href:"/auth/google"},"Log in with Google")))):s.a.createElement(s.a.Fragment,null,s.a.createElement(ne.a.Column,{style:{maxWidth:450,margin:"0 auto"},width:6},s.a.createElement(Rt.a,{as:"h2",textAlign:"center"},"Register"),this.state.message?s.a.createElement(Ft.a,{success:!0},this.state.message):null,this.state.error?s.a.createElement(Ft.a,{negative:!0},this.state.error):null,s.a.createElement(Ht.a,{size:"large"},s.a.createElement(Ae.a,null,s.a.createElement(Ht.a.Input,{ref:this.emailField,onChange:this.handleEmailChange,name:"email",fluid:!0,icon:"envelope",iconPosition:"left",placeholder:"E-mail address"}),s.a.createElement(Ht.a.Input,{ref:this.firstNameField,onChange:this.handleFirstNameChange,name:"first_name",fluid:!0,icon:"user",iconPosition:"left",placeholder:"First Name"}),s.a.createElement(Ht.a.Input,{ref:this.lastNameField,onChange:this.handleLastNameChange,name:"last_name",fluid:!0,icon:"user",iconPosition:"left",placeholder:"Last Name"}),s.a.createElement(Ht.a.Input,{ref:this.passwordField,onChange:this.handlePasswordChange,name:"password",fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password"}),s.a.createElement(ue.a,{fluid:!0,size:"large",onClick:this.submit},"Register"))),s.a.createElement(Ft.a,null,"Have an existing account? ",s.a.createElement(J.a,{to:"/login"},"Log In")),s.a.createElement(Ft.a,{className:"google"},s.a.createElement(K.a,{name:"google"}),s.a.createElement("a",{href:"/auth/google"},"Log in with Google"))))}}]),t}(s.a.Component),zt=Object(u.connect)((function(e){return{auth:e.auth,app:e.app}}),n)(Gt),qt=a(718),Wt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={tasks:[],isLoaded:!1},a.componentDidMount=function(){var e,t;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(S.a.get("https://cors-anywhere.herokuapp.com/https://api.clickup.com/api/v2/list/4468011/task?archived=false",{headers:{Authorization:"pk_1396952_O7MIIPVUVX61LR5RI673TM2OMSCQ3WPB"}}));case 2:e=n.sent,t=e.data.tasks,a.setState({tasks:t,isLoaded:!0});case 5:case"end":return n.stop()}}))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return this.state.isLoaded?s.a.createElement(qt.a,null,this.state.tasks.map((function(e,t){return s.a.createElement(qt.a.Item,{key:t,style:{margin:"1rem 0"}},s.a.createElement(qt.a.Content,null,s.a.createElement(qt.a.Header,null,e.name),s.a.createElement(qt.a.Description,null,e.text_content)))}))):s.a.createElement(le,null)}}]),t}(s.a.Component),Yt=Object(u.connect)((function(e){return{auth:e.auth,app:e.app}}),n)(Wt),Vt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={logins:[],editingPassword:!1,currentPassword:"",newPassword:"",confirmPassword:""},a.componentDidMount=function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.awrap(ke(a.props.auth.id));case 2:e=t.sent,a.setState({logins:e.response});case 4:case"end":return t.stop()}}))},a.changePassword=function(){a.setState({editingPassword:!a.state.editingPassword})},a.submitPasswordChange=function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.state.confirmPassword!==a.state.newPassword){t.next=7;break}return t.next=3,b.a.awrap(Le(null,a.state.newPassword,a.props.auth.id,a.state.currentPassword));case 3:(e=t.sent).success?a.setState({success:!0,message:"Password reset"}):a.setState({success:!1,message:e.message}),t.next=8;break;case 7:a.setState({message:"Passwords do not match"});case 8:case"end":return t.stop()}}))},a.handleCurrentPasswordChange=function(e){a.setState({currentPassword:e.target.value})},a.handleNewPasswordChange=function(e){a.setState({newPassword:e.target.value})},a.handleConfirmPasswordChange=function(e){a.setState({confirmPassword:e.target.value})},a.deleteAccount=function(){a.props.history.push("/api/logout"),je(a.props.auth.id)},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{style:{}},s.a.createElement("h2",null,this.props.auth.first_name," ",this.props.auth.last_name),s.a.createElement("div",null,s.a.createElement("h4",null,this.props.auth.email)),s.a.createElement(nt.a,{trigger:s.a.createElement(ue.a,null,"All logins"),header:"Logins",actions:[{key:"done",content:"Done",positive:!0}]},s.a.createElement(nt.a.Content,{scrolling:!0},s.a.createElement("ul",null,this.state.logins.map((function(e,t){return s.a.createElement("li",{key:t},new Date(1e3*e.timestamp).toLocaleString())}))))),s.a.createElement(nt.a,{trigger:s.a.createElement(ue.a,null,"Roadmap"),actions:[{key:"done",content:"Done",positive:!0}]},s.a.createElement(nt.a.Header,null,"To Do"),s.a.createElement(nt.a.Content,{scrolling:!0},s.a.createElement("div",{style:{padding:"15px"}},s.a.createElement(Yt,null)))),this.props.auth.service_id?null:s.a.createElement(ue.a,{onClick:this.changePassword},"Change Password")),this.state.editingPassword?s.a.createElement(Ae.a,{style:{maxWidth:"382px"}},s.a.createElement(Ht.a,null,this.state.message?s.a.createElement(Ft.a,{negative:!this.state.success,positive:!!this.state.success},this.state.message):null,s.a.createElement(Ht.a.Input,{type:"password",value:this.state.currentPassword,onChange:this.handleCurrentPasswordChange,placeholder:"Current password"}),s.a.createElement(Ht.a.Input,{type:"password",value:this.state.newPassword,onChange:this.handleNewPasswordChange,placeholder:"New password"}),s.a.createElement(Ht.a.Input,{type:"password",value:this.state.confirmPassword,onChange:this.handleConfirmPasswordChange,placeholder:"Confirm new password"}),s.a.createElement(ue.a,{onClick:this.submitPasswordChange},"Submit"))):null)}}]),t}(s.a.Component),Xt=Object(u.connect)((function(e){return{auth:e.auth,app:e.app}}),n)(Vt),Jt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",error:!1,message:"",info:!1},a.handleEmailChange=function(e){a.setState({email:e.target.value})},a.submit=function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.awrap(_e(a.state.email,window.location.origin));case 2:e=t.sent,a.setState({info:!0,error:e.error,message:e.message});case 4:case"end":return t.stop()}}))},a.render=function(){return a.props.mobile?s.a.createElement(s.a.Fragment,null,s.a.createElement(ne.a.Column,{width:16},s.a.createElement(Rt.a,{as:"h2",textAlign:"center"},"Reset Password"),s.a.createElement("h4",{className:"error"},a.state.info?s.a.createElement(Ft.a,{positive:!a.state.error,negative:!!a.state.error},a.state.message):null),s.a.createElement(Ht.a,{size:"large"},s.a.createElement(Ae.a,null,s.a.createElement(Ht.a.Input,{name:"email",fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",onChange:a.handleEmailChange,value:a.state.email}),s.a.createElement(ue.a,{fluid:!0,size:"large",onClick:a.submit},"Submit"))),s.a.createElement(Ft.a,null,"New? ",s.a.createElement(J.a,{to:"/register"},"Sign Up")),s.a.createElement(Ft.a,null,s.a.createElement(J.a,{to:"/login"},"Log in")))):s.a.createElement(s.a.Fragment,null,s.a.createElement(ne.a.Column,{width:5}),s.a.createElement(ne.a.Column,{style:{maxWidth:450,margin:"0 auto"},width:6},s.a.createElement(Rt.a,{as:"h2",textAlign:"center"},"Reset Password"),s.a.createElement("h4",{className:"error"},a.state.info?s.a.createElement(Ft.a,{positive:!a.state.error,negative:!!a.state.error},a.state.message):null),s.a.createElement(Ht.a,{size:"large"},s.a.createElement(Ae.a,null,s.a.createElement(Ht.a.Input,{name:"email",fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",onChange:a.handleEmailChange,value:a.state.email}),s.a.createElement(ue.a,{fluid:!0,size:"large",onClick:a.submit},"Submit"))),s.a.createElement(Ft.a,null,"New? ",s.a.createElement(J.a,{to:"/register"},"Sign Up")),s.a.createElement(Ft.a,null,s.a.createElement(J.a,{to:"/login"},"Log in"))),s.a.createElement(ne.a.Column,{width:5}))},a}return Object(O.a)(t,e),t}(s.a.Component),Qt=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={password:"",confirmPassword:"",info:!1,error:!1,token:"",message:"",userId:null},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleConfirmPasswordChange=function(e){a.setState({confirmPassword:e.target.value})},a.submit=function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.state.password!==a.state.confirmPassword){t.next=7;break}return t.next=3,b.a.awrap(Le(a.state.token,a.state.password,a.state.userId));case 3:(e=t.sent).error?a.setState({info:!0,error:!0,message:e.message}):(a.setState({info:!0,error:!1,message:e.message}),setTimeout((function(){return a.props.history.push("/login")}),1500)),t.next=8;break;case 7:a.setState({message:"Passwords do not match",info:!0,error:!0});case 8:case"end":return t.stop()}}))},a.componentDidMount=function(){var e,t;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(a.props),e=a.props.match.params.token,a.setState({token:e}),n.next=5,b.a.awrap(Ie(e));case 5:(t=n.sent).success?a.setState({valid:!0,userId:t.user.id}):a.setState({valid:!1,info:!0,error:!0,message:t.message});case 7:case"end":return n.stop()}}))},a.render=function(){return a.props.mobile?s.a.createElement(s.a.Fragment,null,s.a.createElement(ne.a.Column,{width:16},s.a.createElement(Rt.a,{as:"h2",textAlign:"center"},"Reset Password"),s.a.createElement("h4",{className:"error"},a.state.info?s.a.createElement(Ft.a,{negative:!!a.state.error},a.state.message):null),a.state.valid?s.a.createElement(Ht.a,{size:"large"},s.a.createElement(Ae.a,null,s.a.createElement(Ht.a.Input,{name:"password",fluid:!0,icon:"lock",iconPosition:"left",type:"password",placeholder:"New password",onChange:a.handlePasswordChange,value:a.state.password}),s.a.createElement(Ht.a.Input,{name:"password",fluid:!0,icon:"lock",iconPosition:"left",type:"password",placeholder:"Confirm new password",onChange:a.handleConfirmPasswordChange,value:a.state.confirmPassword}),s.a.createElement(ue.a,{fluid:!0,size:"large",onClick:a.submit},"Submit"))):null,s.a.createElement(Ft.a,null,s.a.createElement(J.a,{to:"/login"},"Log in")))):s.a.createElement(s.a.Fragment,null,s.a.createElement(ne.a.Column,{width:5}),s.a.createElement(ne.a.Column,{style:{maxWidth:450,margin:"0 auto"},width:6},s.a.createElement(Rt.a,{as:"h2",textAlign:"center"},"Reset Password"),s.a.createElement("h4",{className:"error"},a.state.info?s.a.createElement(Ft.a,{negative:!!a.state.error},a.state.message):null),a.state.valid?s.a.createElement(Ht.a,{size:"large"},s.a.createElement(Ae.a,null,s.a.createElement(Ht.a.Input,{name:"password",fluid:!0,icon:"lock",iconPosition:"left",type:"password",placeholder:"New password",onChange:a.handlePasswordChange,value:a.state.password}),s.a.createElement(Ht.a.Input,{name:"password",fluid:!0,icon:"lock",iconPosition:"left",type:"password",placeholder:"Confirm new password",onChange:a.handleConfirmPasswordChange,value:a.state.confirmPassword}),s.a.createElement(ue.a,{fluid:!0,size:"large",onClick:a.submit},"Submit"))):null,s.a.createElement(Ft.a,null,s.a.createElement(J.a,{to:"/login"},"Log in"))),s.a.createElement(ne.a.Column,{width:5}))},a}return Object(O.a)(t,e),t}(s.a.Component),Kt=function(e){return e.auth?s.a.createElement("div",{className:"app-base"},s.a.createElement(Y.c,null,s.a.createElement(Y.a,{path:"/creator",component:Tt}),s.a.createElement(Y.a,{path:"/student",component:at}),s.a.createElement(Y.a,{path:"/home",component:at}),s.a.createElement(Y.a,{path:"/profile",component:Xt}),s.a.createElement(Y.a,{path:"/",exact:!0,component:at}),s.a.createElement(Y.a,{path:"/roadmap",exact:!0,component:Yt}),s.a.createElement(Y.a,{path:"/reset/:token",children:function(t){var a=t.match;return s.a.createElement(Qt,{history:V,mobile:e.mobile,match:a})}}),s.a.createElement(Y.a,{path:"/test",exact:!0,component:function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"Hello"),s.a.createElement("p",null,"This is the beginning of a new blog post."))}}))):s.a.createElement(Y.c,null,s.a.createElement(Y.a,{path:"/login",exact:!0},s.a.createElement(Bt,{auth:e.auth,history:V,mobile:e.mobile})),s.a.createElement(Y.a,{path:"/register",exact:!0},s.a.createElement(zt,{history:V,mobile:e.mobile})),s.a.createElement(Y.a,{path:"/",exact:!0},s.a.createElement(Bt,{auth:e.auth,history:V,mobile:e.mobile})),s.a.createElement(Y.a,{path:"/roadmap",exact:!0,component:Yt}),s.a.createElement(Y.a,{path:"/forgot",exact:!0},s.a.createElement(Jt,{history:V,mobile:e.mobile})),s.a.createElement(Y.a,{path:"/reset/:token",children:function(t){var a=t.match;return s.a.createElement(Qt,{history:V,mobile:e.mobile,match:a})}}))},Zt=function(e){function t(){return Object(y.a)(this,t),Object(w.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return null}}]),t}(s.a.Component),$t=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(w.a)(this,Object(C.a)(t).call(this,e))).state={hasError:!1},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidCatch",value:function(e,t){console.error(e,t),this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?s.a.createElement("div",{className:"warning"},s.a.createElement("h2",null,"Something has gone wrong."),s.a.createElement("p",null,"Please refresh the page. If you continue to see this please contact Support."),s.a.createElement("a",{href:"mailto:support@gllghr.io",target:"_blank",rel:"noopener noreferrer",style:{color:"#fff",textDecoration:"none"}},s.a.createElement(K.a,{name:"mail"}),"support@",window.location.host)):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(s.a.Component),ea=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(w.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={authLoaded:!1},a.componentDidMount=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.awrap(a.props.fetchUser());case 2:a.setState({authLoaded:!0}),a.props.auth&&Object(se.FullStoryAPI)("identify",a.props.auth.id,{displayName:a.props.auth.first_name+" "+a.props.auth.last_name,email:a.props.auth.email});case 4:case"end":return e.stop()}}))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement($t,null,s.a.createElement(Y.b,{history:V},s.a.createElement(Zt,{location:V.location}),s.a.createElement(oe.a,{org:"H1N0D"}),s.a.createElement(ae.a,{minWidth:768},this.props.auth?s.a.createElement(te,{history:V}):null,s.a.createElement("div",{className:this.props.auth?"base":"base-login"},s.a.createElement(ne.a,{columns:16,stackable:!0},this.state.authLoaded?s.a.createElement(Kt,Object.assign({auth:this.props.auth},this.props)):s.a.createElement(le,null)))),s.a.createElement(ae.a,{maxWidth:768},this.props.auth?s.a.createElement(te,{history:V,device:"mobile"}):null,s.a.createElement(re.a,{className:this.props.auth?"mobile-base":"mobile-base-login"},s.a.createElement(ne.a,{columns:16,stackable:!0},this.state.authLoaded?s.a.createElement(Kt,Object.assign({auth:this.props.auth},this.props,{mobile:!0})):s.a.createElement(le,null))))))}}]),t}(s.a.Component),ta=Object(u.connect)((function(e){return{auth:e.auth,app:e.app}}),n)(ea),aa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.compose,na=Object(l.createStore)(g,aa(Object(l.applyMiddleware)(i.a)));p.a({dsn:"https://5e64d4e6c3fe4941b5ec0e23263d760e@sentry.io/1880615"}),c.a.render(s.a.createElement(u.Provider,{store:na},s.a.createElement(ta,null)),document.querySelector("#root"))}},[[379,1,2]]]);
//# sourceMappingURL=main.1096cec2.chunk.js.map